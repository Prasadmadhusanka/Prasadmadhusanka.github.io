(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function lc(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Hf={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F1;function fx(){if(F1)return Il;F1=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:r,type:s,key:c,ref:a!==void 0?a:null,props:o}}return Il.Fragment=t,Il.jsx=n,Il.jsxs=n,Il}var U1;function dx(){return U1||(U1=1,Hf.exports=fx()),Hf.exports}var x=dx(),Pf={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B1;function gx(){if(B1)return Et;B1=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),y=Symbol.iterator;function v(R){return R===null||typeof R!="object"?null:(R=y&&R[y]||R["@@iterator"],typeof R=="function"?R:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,b={};function C(R,X,G){this.props=R,this.context=X,this.refs=b,this.updater=G||S}C.prototype.isReactComponent={},C.prototype.setState=function(R,X){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,X,"setState")},C.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function A(){}A.prototype=C.prototype;function L(R,X,G){this.props=R,this.context=X,this.refs=b,this.updater=G||S}var z=L.prototype=new A;z.constructor=L,T(z,C.prototype),z.isPureReactComponent=!0;var N=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function W(R,X,G,nt,rt,ht){return G=ht.ref,{$$typeof:r,type:R,key:X,ref:G!==void 0?G:null,props:ht}}function q(R,X){return W(R.type,X,void 0,void 0,void 0,R.props)}function et(R){return typeof R=="object"&&R!==null&&R.$$typeof===r}function it(R){var X={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(G){return X[G]})}var lt=/\/+/g;function H(R,X){return typeof R=="object"&&R!==null&&R.key!=null?it(""+R.key):X.toString(36)}function st(){}function tt(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(st,st):(R.status="pending",R.then(function(X){R.status==="pending"&&(R.status="fulfilled",R.value=X)},function(X){R.status==="pending"&&(R.status="rejected",R.reason=X)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function at(R,X,G,nt,rt){var ht=typeof R;(ht==="undefined"||ht==="boolean")&&(R=null);var ct=!1;if(R===null)ct=!0;else switch(ht){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(R.$$typeof){case r:case t:ct=!0;break;case _:return ct=R._init,at(ct(R._payload),X,G,nt,rt)}}if(ct)return rt=rt(R),ct=nt===""?"."+H(R,0):nt,N(rt)?(G="",ct!=null&&(G=ct.replace(lt,"$&/")+"/"),at(rt,X,G,"",function(Wt){return Wt})):rt!=null&&(et(rt)&&(rt=q(rt,G+(rt.key==null||R&&R.key===rt.key?"":(""+rt.key).replace(lt,"$&/")+"/")+ct)),X.push(rt)),1;ct=0;var Dt=nt===""?".":nt+":";if(N(R))for(var Ct=0;Ct<R.length;Ct++)nt=R[Ct],ht=Dt+H(nt,Ct),ct+=at(nt,X,G,ht,rt);else if(Ct=v(R),typeof Ct=="function")for(R=Ct.call(R),Ct=0;!(nt=R.next()).done;)nt=nt.value,ht=Dt+H(nt,Ct++),ct+=at(nt,X,G,ht,rt);else if(ht==="object"){if(typeof R.then=="function")return at(tt(R),X,G,nt,rt);throw X=String(R),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ct}function O(R,X,G){if(R==null)return R;var nt=[],rt=0;return at(R,nt,"","",function(ht){return X.call(G,ht,rt++)}),nt}function P(R){if(R._status===-1){var X=R._result;X=X(),X.then(function(G){(R._status===0||R._status===-1)&&(R._status=1,R._result=G)},function(G){(R._status===0||R._status===-1)&&(R._status=2,R._result=G)}),R._status===-1&&(R._status=0,R._result=X)}if(R._status===1)return R._result.default;throw R._result}var Z=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function ot(){}return Et.Children={map:O,forEach:function(R,X,G){O(R,function(){X.apply(this,arguments)},G)},count:function(R){var X=0;return O(R,function(){X++}),X},toArray:function(R){return O(R,function(X){return X})||[]},only:function(R){if(!et(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Et.Component=C,Et.Fragment=n,Et.Profiler=a,Et.PureComponent=L,Et.StrictMode=s,Et.Suspense=d,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Et.__COMPILER_RUNTIME={__proto__:null,c:function(R){return M.H.useMemoCache(R)}},Et.cache=function(R){return function(){return R.apply(null,arguments)}},Et.cloneElement=function(R,X,G){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var nt=T({},R.props),rt=R.key,ht=void 0;if(X!=null)for(ct in X.ref!==void 0&&(ht=void 0),X.key!==void 0&&(rt=""+X.key),X)!Y.call(X,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&X.ref===void 0||(nt[ct]=X[ct]);var ct=arguments.length-2;if(ct===1)nt.children=G;else if(1<ct){for(var Dt=Array(ct),Ct=0;Ct<ct;Ct++)Dt[Ct]=arguments[Ct+2];nt.children=Dt}return W(R.type,rt,void 0,void 0,ht,nt)},Et.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:o,_context:R},R},Et.createElement=function(R,X,G){var nt,rt={},ht=null;if(X!=null)for(nt in X.key!==void 0&&(ht=""+X.key),X)Y.call(X,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(rt[nt]=X[nt]);var ct=arguments.length-2;if(ct===1)rt.children=G;else if(1<ct){for(var Dt=Array(ct),Ct=0;Ct<ct;Ct++)Dt[Ct]=arguments[Ct+2];rt.children=Dt}if(R&&R.defaultProps)for(nt in ct=R.defaultProps,ct)rt[nt]===void 0&&(rt[nt]=ct[nt]);return W(R,ht,void 0,void 0,null,rt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(R){return{$$typeof:h,render:R}},Et.isValidElement=et,Et.lazy=function(R){return{$$typeof:_,_payload:{_status:-1,_result:R},_init:P}},Et.memo=function(R,X){return{$$typeof:m,type:R,compare:X===void 0?null:X}},Et.startTransition=function(R){var X=M.T,G={};M.T=G;try{var nt=R(),rt=M.S;rt!==null&&rt(G,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(ot,Z)}catch(ht){Z(ht)}finally{M.T=X}},Et.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Et.use=function(R){return M.H.use(R)},Et.useActionState=function(R,X,G){return M.H.useActionState(R,X,G)},Et.useCallback=function(R,X){return M.H.useCallback(R,X)},Et.useContext=function(R){return M.H.useContext(R)},Et.useDebugValue=function(){},Et.useDeferredValue=function(R,X){return M.H.useDeferredValue(R,X)},Et.useEffect=function(R,X,G){var nt=M.H;if(typeof G=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return nt.useEffect(R,X)},Et.useId=function(){return M.H.useId()},Et.useImperativeHandle=function(R,X,G){return M.H.useImperativeHandle(R,X,G)},Et.useInsertionEffect=function(R,X){return M.H.useInsertionEffect(R,X)},Et.useLayoutEffect=function(R,X){return M.H.useLayoutEffect(R,X)},Et.useMemo=function(R,X){return M.H.useMemo(R,X)},Et.useOptimistic=function(R,X){return M.H.useOptimistic(R,X)},Et.useReducer=function(R,X,G){return M.H.useReducer(R,X,G)},Et.useRef=function(R){return M.H.useRef(R)},Et.useState=function(R){return M.H.useState(R)},Et.useSyncExternalStore=function(R,X,G){return M.H.useSyncExternalStore(R,X,G)},Et.useTransition=function(){return M.H.useTransition()},Et.version="19.1.1",Et}var X1;function ng(){return X1||(X1=1,Pf.exports=gx()),Pf.exports}var B=ng();const fn=lc(B);var Vf={exports:{}},zl={},Zf={exports:{}},Kf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y1;function mx(){return Y1||(Y1=1,(function(r){function t(O,P){var Z=O.length;O.push(P);t:for(;0<Z;){var ot=Z-1>>>1,R=O[ot];if(0<a(R,P))O[ot]=P,O[Z]=R,Z=ot;else break t}}function n(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var P=O[0],Z=O.pop();if(Z!==P){O[0]=Z;t:for(var ot=0,R=O.length,X=R>>>1;ot<X;){var G=2*(ot+1)-1,nt=O[G],rt=G+1,ht=O[rt];if(0>a(nt,Z))rt<R&&0>a(ht,nt)?(O[ot]=ht,O[rt]=Z,ot=rt):(O[ot]=nt,O[G]=Z,ot=G);else if(rt<R&&0>a(ht,Z))O[ot]=ht,O[rt]=Z,ot=rt;else break t}}return P}function a(O,P){var Z=O.sortIndex-P.sortIndex;return Z!==0?Z:O.id-P.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();r.unstable_now=function(){return c.now()-h}}var d=[],m=[],_=1,y=null,v=3,S=!1,T=!1,b=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function N(O){for(var P=n(m);P!==null;){if(P.callback===null)s(m);else if(P.startTime<=O)s(m),P.sortIndex=P.expirationTime,t(d,P);else break;P=n(m)}}function M(O){if(b=!1,N(O),!T)if(n(d)!==null)T=!0,Y||(Y=!0,H());else{var P=n(m);P!==null&&at(M,P.startTime-O)}}var Y=!1,W=-1,q=5,et=-1;function it(){return C?!0:!(r.unstable_now()-et<q)}function lt(){if(C=!1,Y){var O=r.unstable_now();et=O;var P=!0;try{t:{T=!1,b&&(b=!1,L(W),W=-1),S=!0;var Z=v;try{e:{for(N(O),y=n(d);y!==null&&!(y.expirationTime>O&&it());){var ot=y.callback;if(typeof ot=="function"){y.callback=null,v=y.priorityLevel;var R=ot(y.expirationTime<=O);if(O=r.unstable_now(),typeof R=="function"){y.callback=R,N(O),P=!0;break e}y===n(d)&&s(d),N(O)}else s(d);y=n(d)}if(y!==null)P=!0;else{var X=n(m);X!==null&&at(M,X.startTime-O),P=!1}}break t}finally{y=null,v=Z,S=!1}P=void 0}}finally{P?H():Y=!1}}}var H;if(typeof z=="function")H=function(){z(lt)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,tt=st.port2;st.port1.onmessage=lt,H=function(){tt.postMessage(null)}}else H=function(){A(lt,0)};function at(O,P){W=A(function(){O(r.unstable_now())},P)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(O){O.callback=null},r.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<O?Math.floor(1e3/O):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_next=function(O){switch(v){case 1:case 2:case 3:var P=3;break;default:P=v}var Z=v;v=P;try{return O()}finally{v=Z}},r.unstable_requestPaint=function(){C=!0},r.unstable_runWithPriority=function(O,P){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var Z=v;v=O;try{return P()}finally{v=Z}},r.unstable_scheduleCallback=function(O,P,Z){var ot=r.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ot+Z:ot):Z=ot,O){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=Z+R,O={id:_++,callback:P,priorityLevel:O,startTime:Z,expirationTime:R,sortIndex:-1},Z>ot?(O.sortIndex=Z,t(m,O),n(d)===null&&O===n(m)&&(b?(L(W),W=-1):b=!0,at(M,Z-ot))):(O.sortIndex=R,t(d,O),T||S||(T=!0,Y||(Y=!0,H()))),O},r.unstable_shouldYield=it,r.unstable_wrapCallback=function(O){var P=v;return function(){var Z=v;v=P;try{return O.apply(this,arguments)}finally{v=Z}}}})(Kf)),Kf}var H1;function _x(){return H1||(H1=1,Zf.exports=mx()),Zf.exports}var qf={exports:{}},Be={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1;function yx(){if(P1)return Be;P1=1;var r=ng();function t(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,m,_){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:d,containerInfo:m,implementation:_}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Be.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Be.createPortal=function(d,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(d,m,null,_)},Be.flushSync=function(d){var m=c.T,_=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=m,s.p=_,s.d.f()}},Be.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(d,m))},Be.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Be.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var _=m.as,y=h(_,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?s.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:S}):_==="script"&&s.d.X(d,{crossOrigin:y,integrity:v,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Be.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=h(m.as,m.crossOrigin);s.d.M(d,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(d)},Be.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,y=h(_,m.crossOrigin);s.d.L(d,_,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Be.preloadModule=function(d,m){if(typeof d=="string")if(m){var _=h(m.as,m.crossOrigin);s.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(d)},Be.requestFormReset=function(d){s.d.r(d)},Be.unstable_batchedUpdates=function(d,m){return d(m)},Be.useFormState=function(d,m,_){return c.H.useFormState(d,m,_)},Be.useFormStatus=function(){return c.H.useHostTransitionStatus()},Be.version="19.1.1",Be}var V1;function Sp(){if(V1)return qf.exports;V1=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),qf.exports=yx(),qf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z1;function px(){if(Z1)return zl;Z1=1;var r=_x(),t=ng(),n=Sp();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var i=e,l=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(l=i.return),e=i.return;while(e)}return i.tag===3?l:null}function c(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function h(e){if(o(e)!==e)throw Error(s(188))}function d(e){var i=e.alternate;if(!i){if(i=o(e),i===null)throw Error(s(188));return i!==e?null:e}for(var l=e,u=i;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){l=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return h(f),e;if(g===u)return h(f),i;g=g.sibling}throw Error(s(188))}if(l.return!==u.return)l=f,u=g;else{for(var p=!1,E=f.child;E;){if(E===l){p=!0,l=f,u=g;break}if(E===u){p=!0,u=f,l=g;break}E=E.sibling}if(!p){for(E=g.child;E;){if(E===l){p=!0,l=g,u=f;break}if(E===u){p=!0,u=g,l=f;break}E=E.sibling}if(!p)throw Error(s(189))}}if(l.alternate!==u)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:i}function m(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=m(e),i!==null)return i;e=e.sibling}return null}var _=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),z=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),et=Symbol.for("react.activity"),it=Symbol.for("react.memo_cache_sentinel"),lt=Symbol.iterator;function H(e){return e===null||typeof e!="object"?null:(e=lt&&e[lt]||e["@@iterator"],typeof e=="function"?e:null)}var st=Symbol.for("react.client.reference");function tt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===st?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case C:return"Profiler";case b:return"StrictMode";case M:return"Suspense";case Y:return"SuspenseList";case et:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case z:return(e.displayName||"Context")+".Provider";case L:return(e._context.displayName||"Context")+".Consumer";case N:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W:return i=e.displayName||null,i!==null?i:tt(e.type)||"Memo";case q:i=e._payload,e=e._init;try{return tt(e(i))}catch{}}return null}var at=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ot=[],R=-1;function X(e){return{current:e}}function G(e){0>R||(e.current=ot[R],ot[R]=null,R--)}function nt(e,i){R++,ot[R]=e.current,e.current=i}var rt=X(null),ht=X(null),ct=X(null),Dt=X(null);function Ct(e,i){switch(nt(ct,i),nt(ht,e),nt(rt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?d1(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=d1(i),e=g1(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(rt),nt(rt,e)}function Wt(){G(rt),G(ht),G(ct)}function ee(e){e.memoizedState!==null&&nt(Dt,e);var i=rt.current,l=g1(i,e.type);i!==l&&(nt(ht,e),nt(rt,l))}function $e(e){ht.current===e&&(G(rt),G(ht)),Dt.current===e&&(G(Dt),Ml._currentValue=Z)}var Je=Object.prototype.hasOwnProperty,Ve=r.unstable_scheduleCallback,Te=r.unstable_cancelCallback,Rt=r.unstable_shouldYield,De=r.unstable_requestPaint,ie=r.unstable_now,si=r.unstable_getCurrentPriorityLevel,ri=r.unstable_ImmediatePriority,An=r.unstable_UserBlockingPriority,_n=r.unstable_NormalPriority,ai=r.unstable_LowPriority,se=r.unstable_IdlePriority,Zi=r.log,Is=r.unstable_setDisableYieldValue,vt=null,Jt=null;function yn(e){if(typeof Zi=="function"&&Is(e),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(vt,e)}catch{}}var ke=Math.clz32?Math.clz32:Nc,po=Math.log,ka=Math.LN2;function Nc(e){return e>>>=0,e===0?32:31-(po(e)/ka|0)|0}var vr=256,zs=4194304;function li(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ki(e,i,l){var u=e.pendingLanes;if(u===0)return 0;var f=0,g=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=u&134217727;return E!==0?(u=E&~g,u!==0?f=li(u):(p&=E,p!==0?f=li(p):l||(l=E&~e,l!==0&&(f=li(l))))):(E=u&~g,E!==0?f=li(E):p!==0?f=li(p):l||(l=u&~e,l!==0&&(f=li(l)))),f===0?0:i!==0&&i!==f&&(i&g)===0&&(g=f&-f,l=i&-i,g>=l||g===32&&(l&4194048)!==0)?i:f}function qi(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Ic(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Er(){var e=vr;return vr<<=1,(vr&4194048)===0&&(vr=256),e}function Wi(){var e=zs;return zs<<=1,(zs&62914560)===0&&(zs=4194304),e}function yi(e){for(var i=[],l=0;31>l;l++)i.push(e);return i}function Hn(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function vo(e,i,l,u,f,g){var p=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var E=e.entanglements,w=e.expirationTimes,k=e.hiddenUpdates;for(l=p&~l;0<l;){var V=31-ke(l),J=1<<V;E[V]=0,w[V]=-1;var F=k[V];if(F!==null)for(k[V]=null,V=0;V<F.length;V++){var U=F[V];U!==null&&(U.lane&=-536870913)}l&=~J}u!==0&&Fa(e,u,0),g!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=g&~(p&~i))}function Fa(e,i,l){e.pendingLanes|=i,e.suspendedLanes&=~i;var u=31-ke(i);e.entangledLanes|=i,e.entanglements[u]=e.entanglements[u]|1073741824|l&4194090}function Ze(e,i){var l=e.entangledLanes|=i;for(e=e.entanglements;l;){var u=31-ke(l),f=1<<u;f&i|e[u]&i&&(e[u]|=i),l&=~f}}function Pn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fe(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function pn(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:N1(e.type))}function tn(e,i){var l=P.p;try{return P.p=e,i()}finally{P.p=l}}var Ce=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Ce,At="__reactProps$"+Ce,oe="__reactContainer$"+Ce,vn="__reactEvents$"+Ce,zc="__reactListeners$"+Ce,iv="__reactHandles$"+Ce,e0="__reactResources$"+Ce,Ua="__reactMarker$"+Ce;function jc(e){delete e[Qt],delete e[At],delete e[vn],delete e[zc],delete e[iv]}function xr(e){var i=e[Qt];if(i)return i;for(var l=e.parentNode;l;){if(i=l[oe]||l[Qt]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(e=p1(e);e!==null;){if(l=e[Qt])return l;e=p1(e)}return i}e=l,l=e.parentNode}return null}function Sr(e){if(e=e[Qt]||e[oe]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Ba(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Tr(e){var i=e[e0];return i||(i=e[e0]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Re(e){e[Ua]=!0}var n0=new Set,i0={};function js(e,i){Cr(e,i),Cr(e+"Capture",i)}function Cr(e,i){for(i0[e]=i,e=0;e<i.length;e++)n0.add(i[e])}var sv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),s0={},r0={};function rv(e){return Je.call(r0,e)?!0:Je.call(s0,e)?!1:sv.test(e)?r0[e]=!0:(s0[e]=!0,!1)}function Eo(e,i,l){if(rv(i))if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+l)}}function xo(e,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+l)}}function pi(e,i,l,u){if(u===null)e.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(i,l,""+u)}}var Gc,a0;function Rr(e){if(Gc===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Gc=i&&i[1]||"",a0=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gc+e+a0}var kc=!1;function Fc(e,i){if(!e||kc)return"";kc=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(U){var F=U}Reflect.construct(e,[],J)}else{try{J.call()}catch(U){F=U}e.call(J.prototype)}}else{try{throw Error()}catch(U){F=U}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(U){if(U&&F&&typeof U.stack=="string")return[U.stack,F.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),p=g[0],E=g[1];if(p&&E){var w=p.split(`
`),k=E.split(`
`);for(f=u=0;u<w.length&&!w[u].includes("DetermineComponentFrameRoot");)u++;for(;f<k.length&&!k[f].includes("DetermineComponentFrameRoot");)f++;if(u===w.length||f===k.length)for(u=w.length-1,f=k.length-1;1<=u&&0<=f&&w[u]!==k[f];)f--;for(;1<=u&&0<=f;u--,f--)if(w[u]!==k[f]){if(u!==1||f!==1)do if(u--,f--,0>f||w[u]!==k[f]){var V=`
`+w[u].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=u&&0<=f);break}}}finally{kc=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Rr(l):""}function av(e){switch(e.tag){case 26:case 27:case 5:return Rr(e.type);case 16:return Rr("Lazy");case 13:return Rr("Suspense");case 19:return Rr("SuspenseList");case 0:case 15:return Fc(e.type,!1);case 11:return Fc(e.type.render,!1);case 1:return Fc(e.type,!0);case 31:return Rr("Activity");default:return""}}function l0(e){try{var i="";do i+=av(e),e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Mn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function o0(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function lv(e){var i=o0(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),u=""+e[i];if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return f.call(this)},set:function(p){u=""+p,g.call(this,p)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(p){u=""+p},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function So(e){e._valueTracker||(e._valueTracker=lv(e))}function u0(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return e&&(u=o0(e)?e.checked?"true":"false":e.value),e=u,e!==l?(i.setValue(e),!0):!1}function To(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ov=/[\n"\\]/g;function On(e){return e.replace(ov,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Uc(e,i,l,u,f,g,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),i!=null?p==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Mn(i)):e.value!==""+Mn(i)&&(e.value=""+Mn(i)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),i!=null?Bc(e,p,Mn(i)):l!=null?Bc(e,p,Mn(l)):u!=null&&e.removeAttribute("value"),f==null&&g!=null&&(e.defaultChecked=!!g),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Mn(E):e.removeAttribute("name")}function c0(e,i,l,u,f,g,p,E){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),i!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;l=l!=null?""+Mn(l):"",i=i!=null?""+Mn(i):l,E||i===e.value||(e.value=i),e.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=E?e.checked:!!u,e.defaultChecked=!!u,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p)}function Bc(e,i,l){i==="number"&&To(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function br(e,i,l,u){if(e=e.options,i){i={};for(var f=0;f<l.length;f++)i["$"+l[f]]=!0;for(l=0;l<e.length;l++)f=i.hasOwnProperty("$"+e[l].value),e[l].selected!==f&&(e[l].selected=f),f&&u&&(e[l].defaultSelected=!0)}else{for(l=""+Mn(l),i=null,f=0;f<e.length;f++){if(e[f].value===l){e[f].selected=!0,u&&(e[f].defaultSelected=!0);return}i!==null||e[f].disabled||(i=e[f])}i!==null&&(i.selected=!0)}}function h0(e,i,l){if(i!=null&&(i=""+Mn(i),i!==e.value&&(e.value=i),l==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=l!=null?""+Mn(l):""}function f0(e,i,l,u){if(i==null){if(u!=null){if(l!=null)throw Error(s(92));if(at(u)){if(1<u.length)throw Error(s(93));u=u[0]}l=u}l==null&&(l=""),i=l}l=Mn(i),e.defaultValue=l,u=e.textContent,u===l&&u!==""&&u!==null&&(e.value=u)}function wr(e,i){if(i){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=i;return}}e.textContent=i}var uv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function d0(e,i,l){var u=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":u?e.setProperty(i,l):typeof l!="number"||l===0||uv.has(i)?i==="float"?e.cssFloat=l:e[i]=(""+l).trim():e[i]=l+"px"}function g0(e,i,l){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&l[f]!==u&&d0(e,f,u)}else for(var g in i)i.hasOwnProperty(g)&&d0(e,g,i[g])}function Xc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Co(e){return hv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Yc=null;function Hc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ar=null,Mr=null;function m0(e){var i=Sr(e);if(i&&(e=i.stateNode)){var l=e[At]||null;t:switch(e=i.stateNode,i.type){case"input":if(Uc(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+On(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==e&&u.form===e.form){var f=u[At]||null;if(!f)throw Error(s(90));Uc(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<l.length;i++)u=l[i],u.form===e.form&&u0(u)}break t;case"textarea":h0(e,l.value,l.defaultValue);break t;case"select":i=l.value,i!=null&&br(e,!!l.multiple,i,!1)}}}var Pc=!1;function _0(e,i,l){if(Pc)return e(i,l);Pc=!0;try{var u=e(i);return u}finally{if(Pc=!1,(Ar!==null||Mr!==null)&&(uu(),Ar&&(i=Ar,e=Mr,Mr=Ar=null,m0(i),e)))for(i=0;i<e.length;i++)m0(e[i])}}function Xa(e,i){var l=e.stateNode;if(l===null)return null;var u=l[At]||null;if(u===null)return null;l=u[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break t;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,i,typeof l));return l}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vc=!1;if(vi)try{var Ya={};Object.defineProperty(Ya,"passive",{get:function(){Vc=!0}}),window.addEventListener("test",Ya,Ya),window.removeEventListener("test",Ya,Ya)}catch{Vc=!1}var Qi=null,Zc=null,Ro=null;function y0(){if(Ro)return Ro;var e,i=Zc,l=i.length,u,f="value"in Qi?Qi.value:Qi.textContent,g=f.length;for(e=0;e<l&&i[e]===f[e];e++);var p=l-e;for(u=1;u<=p&&i[l-u]===f[g-u];u++);return Ro=f.slice(e,1<u?1-u:void 0)}function bo(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function wo(){return!0}function p0(){return!1}function en(e){function i(l,u,f,g,p){this._reactName=l,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(l=e[E],this[E]=l?l(g):g[E]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?wo:p0,this.isPropagationStopped=p0,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=wo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=wo)},persist:function(){},isPersistent:wo}),i}var Gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ao=en(Gs),Ha=_({},Gs,{view:0,detail:0}),fv=en(Ha),Kc,qc,Pa,Mo=_({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pa&&(Pa&&e.type==="mousemove"?(Kc=e.screenX-Pa.screenX,qc=e.screenY-Pa.screenY):qc=Kc=0,Pa=e),Kc)},movementY:function(e){return"movementY"in e?e.movementY:qc}}),v0=en(Mo),dv=_({},Mo,{dataTransfer:0}),gv=en(dv),mv=_({},Ha,{relatedTarget:0}),Wc=en(mv),_v=_({},Gs,{animationName:0,elapsedTime:0,pseudoElement:0}),yv=en(_v),pv=_({},Gs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vv=en(pv),Ev=_({},Gs,{data:0}),E0=en(Ev),xv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cv(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Tv[e])?!!i[e]:!1}function Qc(){return Cv}var Rv=_({},Ha,{key:function(e){if(e.key){var i=xv[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=bo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qc,charCode:function(e){return e.type==="keypress"?bo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bv=en(Rv),wv=_({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x0=en(wv),Av=_({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qc}),Mv=en(Av),Ov=_({},Gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dv=en(Ov),Lv=_({},Mo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nv=en(Lv),Iv=_({},Gs,{newState:0,oldState:0}),zv=en(Iv),jv=[9,13,27,32],$c=vi&&"CompositionEvent"in window,Va=null;vi&&"documentMode"in document&&(Va=document.documentMode);var Gv=vi&&"TextEvent"in window&&!Va,S0=vi&&(!$c||Va&&8<Va&&11>=Va),T0=" ",C0=!1;function R0(e,i){switch(e){case"keyup":return jv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Or=!1;function kv(e,i){switch(e){case"compositionend":return b0(i);case"keypress":return i.which!==32?null:(C0=!0,T0);case"textInput":return e=i.data,e===T0&&C0?null:e;default:return null}}function Fv(e,i){if(Or)return e==="compositionend"||!$c&&R0(e,i)?(e=y0(),Ro=Zc=Qi=null,Or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return S0&&i.locale!=="ko"?null:i.data;default:return null}}var Uv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w0(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Uv[e.type]:i==="textarea"}function A0(e,i,l,u){Ar?Mr?Mr.push(u):Mr=[u]:Ar=u,i=mu(i,"onChange"),0<i.length&&(l=new Ao("onChange","change",null,l,u),e.push({event:l,listeners:i}))}var Za=null,Ka=null;function Bv(e){o1(e,0)}function Oo(e){var i=Ba(e);if(u0(i))return e}function M0(e,i){if(e==="change")return i}var O0=!1;if(vi){var Jc;if(vi){var th="oninput"in document;if(!th){var D0=document.createElement("div");D0.setAttribute("oninput","return;"),th=typeof D0.oninput=="function"}Jc=th}else Jc=!1;O0=Jc&&(!document.documentMode||9<document.documentMode)}function L0(){Za&&(Za.detachEvent("onpropertychange",N0),Ka=Za=null)}function N0(e){if(e.propertyName==="value"&&Oo(Ka)){var i=[];A0(i,Ka,e,Hc(e)),_0(Bv,i)}}function Xv(e,i,l){e==="focusin"?(L0(),Za=i,Ka=l,Za.attachEvent("onpropertychange",N0)):e==="focusout"&&L0()}function Yv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Oo(Ka)}function Hv(e,i){if(e==="click")return Oo(i)}function Pv(e,i){if(e==="input"||e==="change")return Oo(i)}function Vv(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var En=typeof Object.is=="function"?Object.is:Vv;function qa(e,i){if(En(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var l=Object.keys(e),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var f=l[u];if(!Je.call(i,f)||!En(e[f],i[f]))return!1}return!0}function I0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function z0(e,i){var l=I0(e);e=0;for(var u;l;){if(l.nodeType===3){if(u=e+l.textContent.length,e<=i&&u>=i)return{node:l,offset:i-e};e=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=I0(l)}}function j0(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?j0(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function G0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=To(e.document);i instanceof e.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)e=i.contentWindow;else break;i=To(e.document)}return i}function eh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Zv=vi&&"documentMode"in document&&11>=document.documentMode,Dr=null,nh=null,Wa=null,ih=!1;function k0(e,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ih||Dr==null||Dr!==To(u)||(u=Dr,"selectionStart"in u&&eh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Wa&&qa(Wa,u)||(Wa=u,u=mu(nh,"onSelect"),0<u.length&&(i=new Ao("onSelect","select",null,i,l),e.push({event:i,listeners:u}),i.target=Dr)))}function ks(e,i){var l={};return l[e.toLowerCase()]=i.toLowerCase(),l["Webkit"+e]="webkit"+i,l["Moz"+e]="moz"+i,l}var Lr={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},sh={},F0={};vi&&(F0=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function Fs(e){if(sh[e])return sh[e];if(!Lr[e])return e;var i=Lr[e],l;for(l in i)if(i.hasOwnProperty(l)&&l in F0)return sh[e]=i[l];return e}var U0=Fs("animationend"),B0=Fs("animationiteration"),X0=Fs("animationstart"),Kv=Fs("transitionrun"),qv=Fs("transitionstart"),Wv=Fs("transitioncancel"),Y0=Fs("transitionend"),H0=new Map,rh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rh.push("scrollEnd");function Vn(e,i){H0.set(e,i),js(i,[e])}var P0=new WeakMap;function Dn(e,i){if(typeof e=="object"&&e!==null){var l=P0.get(e);return l!==void 0?l:(i={value:e,source:i,stack:l0(i)},P0.set(e,i),i)}return{value:e,source:i,stack:l0(i)}}var Ln=[],Nr=0,ah=0;function Do(){for(var e=Nr,i=ah=Nr=0;i<e;){var l=Ln[i];Ln[i++]=null;var u=Ln[i];Ln[i++]=null;var f=Ln[i];Ln[i++]=null;var g=Ln[i];if(Ln[i++]=null,u!==null&&f!==null){var p=u.pending;p===null?f.next=f:(f.next=p.next,p.next=f),u.pending=f}g!==0&&V0(l,f,g)}}function Lo(e,i,l,u){Ln[Nr++]=e,Ln[Nr++]=i,Ln[Nr++]=l,Ln[Nr++]=u,ah|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function lh(e,i,l,u){return Lo(e,i,l,u),No(e)}function Ir(e,i){return Lo(e,null,null,i),No(e)}function V0(e,i,l){e.lanes|=l;var u=e.alternate;u!==null&&(u.lanes|=l);for(var f=!1,g=e.return;g!==null;)g.childLanes|=l,u=g.alternate,u!==null&&(u.childLanes|=l),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(f=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,f&&i!==null&&(f=31-ke(l),e=g.hiddenUpdates,u=e[f],u===null?e[f]=[i]:u.push(i),i.lane=l|536870912),g):null}function No(e){if(50<xl)throw xl=0,gf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var zr={};function Qv(e,i,l,u){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,i,l,u){return new Qv(e,i,l,u)}function oh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ei(e,i){var l=e.alternate;return l===null?(l=xn(e.tag,i,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=i,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,i=e.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Z0(e,i){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,i=l.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Io(e,i,l,u,f,g){var p=0;if(u=e,typeof e=="function")oh(e)&&(p=1);else if(typeof e=="string")p=JE(e,l,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case et:return e=xn(31,l,i,f),e.elementType=et,e.lanes=g,e;case T:return Us(l.children,f,g,i);case b:p=8,f|=24;break;case C:return e=xn(12,l,i,f|2),e.elementType=C,e.lanes=g,e;case M:return e=xn(13,l,i,f),e.elementType=M,e.lanes=g,e;case Y:return e=xn(19,l,i,f),e.elementType=Y,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A:case z:p=10;break t;case L:p=9;break t;case N:p=11;break t;case W:p=14;break t;case q:p=16,u=null;break t}p=29,l=Error(s(130,e===null?"null":typeof e,"")),u=null}return i=xn(p,l,i,f),i.elementType=e,i.type=u,i.lanes=g,i}function Us(e,i,l,u){return e=xn(7,e,u,i),e.lanes=l,e}function uh(e,i,l){return e=xn(6,e,null,i),e.lanes=l,e}function ch(e,i,l){return i=xn(4,e.children!==null?e.children:[],e.key,i),i.lanes=l,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var jr=[],Gr=0,zo=null,jo=0,Nn=[],In=0,Bs=null,xi=1,Si="";function Xs(e,i){jr[Gr++]=jo,jr[Gr++]=zo,zo=e,jo=i}function K0(e,i,l){Nn[In++]=xi,Nn[In++]=Si,Nn[In++]=Bs,Bs=e;var u=xi;e=Si;var f=32-ke(u)-1;u&=~(1<<f),l+=1;var g=32-ke(i)+f;if(30<g){var p=f-f%5;g=(u&(1<<p)-1).toString(32),u>>=p,f-=p,xi=1<<32-ke(i)+f|l<<f|u,Si=g+e}else xi=1<<g|l<<f|u,Si=e}function hh(e){e.return!==null&&(Xs(e,1),K0(e,1,0))}function fh(e){for(;e===zo;)zo=jr[--Gr],jr[Gr]=null,jo=jr[--Gr],jr[Gr]=null;for(;e===Bs;)Bs=Nn[--In],Nn[In]=null,Si=Nn[--In],Nn[In]=null,xi=Nn[--In],Nn[In]=null}var Ke=null,ue=null,kt=!1,Ys=null,oi=!1,dh=Error(s(519));function Hs(e){var i=Error(s(418,""));throw Ja(Dn(i,e)),dh}function q0(e){var i=e.stateNode,l=e.type,u=e.memoizedProps;switch(i[Qt]=e,i[At]=u,l){case"dialog":Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":case"embed":Ot("load",i);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Ot(Tl[l],i);break;case"source":Ot("error",i);break;case"img":case"image":case"link":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"input":Ot("invalid",i),c0(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),So(i);break;case"select":Ot("invalid",i);break;case"textarea":Ot("invalid",i),f0(i,u.value,u.defaultValue,u.children),So(i)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||u.suppressHydrationWarning===!0||f1(i.textContent,l)?(u.popover!=null&&(Ot("beforetoggle",i),Ot("toggle",i)),u.onScroll!=null&&Ot("scroll",i),u.onScrollEnd!=null&&Ot("scrollend",i),u.onClick!=null&&(i.onclick=_u),i=!0):i=!1,i||Hs(e)}function W0(e){for(Ke=e.return;Ke;)switch(Ke.tag){case 5:case 13:oi=!1;return;case 27:case 3:oi=!0;return;default:Ke=Ke.return}}function Qa(e){if(e!==Ke)return!1;if(!kt)return W0(e),kt=!0,!1;var i=e.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Of(e.type,e.memoizedProps)),l=!l),l&&ue&&Hs(e),W0(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(i===0){ue=Kn(e.nextSibling);break t}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;e=e.nextSibling}ue=null}}else i===27?(i=ue,ds(e.type)?(e=If,If=null,ue=e):ue=i):ue=Ke?Kn(e.stateNode.nextSibling):null;return!0}function $a(){ue=Ke=null,kt=!1}function Q0(){var e=Ys;return e!==null&&(rn===null?rn=e:rn.push.apply(rn,e),Ys=null),e}function Ja(e){Ys===null?Ys=[e]:Ys.push(e)}var gh=X(null),Ps=null,Ti=null;function $i(e,i,l){nt(gh,i._currentValue),i._currentValue=l}function Ci(e){e._currentValue=gh.current,G(gh)}function mh(e,i,l){for(;e!==null;){var u=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),e===l)break;e=e.return}}function _h(e,i,l,u){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var g=f.dependencies;if(g!==null){var p=f.child;g=g.firstContext;t:for(;g!==null;){var E=g;g=f;for(var w=0;w<i.length;w++)if(E.context===i[w]){g.lanes|=l,E=g.alternate,E!==null&&(E.lanes|=l),mh(g.return,l,e),u||(p=null);break t}g=E.next}}else if(f.tag===18){if(p=f.return,p===null)throw Error(s(341));p.lanes|=l,g=p.alternate,g!==null&&(g.lanes|=l),mh(p,l,e),p=null}else p=f.child;if(p!==null)p.return=f;else for(p=f;p!==null;){if(p===e){p=null;break}if(f=p.sibling,f!==null){f.return=p.return,p=f;break}p=p.return}f=p}}function tl(e,i,l,u){e=null;for(var f=i,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var p=f.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var E=f.type;En(f.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(f===Dt.current){if(p=f.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Ml):e=[Ml])}f=f.return}e!==null&&_h(i,e,l,u),i.flags|=262144}function Go(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vs(e){Ps=e,Ti=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ue(e){return $0(Ps,e)}function ko(e,i){return Ps===null&&Vs(e),$0(e,i)}function $0(e,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},Ti===null){if(e===null)throw Error(s(308));Ti=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Ti=Ti.next=i;return l}var $v=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(l,u){e.push(u)}};this.abort=function(){i.aborted=!0,e.forEach(function(l){return l()})}},Jv=r.unstable_scheduleCallback,tE=r.unstable_NormalPriority,pe={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yh(){return{controller:new $v,data:new Map,refCount:0}}function el(e){e.refCount--,e.refCount===0&&Jv(tE,function(){e.controller.abort()})}var nl=null,ph=0,kr=0,Fr=null;function eE(e,i){if(nl===null){var l=nl=[];ph=0,kr=xf(),Fr={status:"pending",value:void 0,then:function(u){l.push(u)}}}return ph++,i.then(J0,J0),i}function J0(){if(--ph===0&&nl!==null){Fr!==null&&(Fr.status="fulfilled");var e=nl;nl=null,kr=0,Fr=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function nE(e,i){var l=[],u={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return e.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<l.length;f++)(0,l[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),u}var tm=O.S;O.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&eE(e,i),tm!==null&&tm(e,i)};var Zs=X(null);function vh(){var e=Zs.current;return e!==null?e:$t.pooledCache}function Fo(e,i){i===null?nt(Zs,Zs.current):nt(Zs,i.pool)}function em(){var e=vh();return e===null?null:{parent:pe._currentValue,pool:e}}var il=Error(s(460)),nm=Error(s(474)),Uo=Error(s(542)),Eh={then:function(){}};function im(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bo(){}function sm(e,i,l){switch(l=e[l],l===void 0?e.push(i):l!==i&&(i.then(Bo,Bo),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,am(e),e;default:if(typeof i.status=="string")i.then(Bo,Bo);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,am(e),e}throw sl=i,il}}var sl=null;function rm(){if(sl===null)throw Error(s(459));var e=sl;return sl=null,e}function am(e){if(e===il||e===Uo)throw Error(s(483))}var Ji=!1;function xh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ts(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function es(e,i,l){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(Xt&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=No(e),V0(e,null,l),i}return Lo(e,u,i,l),No(e)}function rl(e,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var u=i.lanes;u&=e.pendingLanes,l|=u,i.lanes=l,Ze(e,l)}}function Th(e,i){var l=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var p={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?f=g=p:g=g.next=p,l=l.next}while(l!==null);g===null?f=g=i:g=g.next=i}else f=g=i;l={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=i:e.next=i,l.lastBaseUpdate=i}var Ch=!1;function al(){if(Ch){var e=Fr;if(e!==null)throw e}}function ll(e,i,l,u){Ch=!1;var f=e.updateQueue;Ji=!1;var g=f.firstBaseUpdate,p=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var w=E,k=w.next;w.next=null,p===null?g=k:p.next=k,p=w;var V=e.alternate;V!==null&&(V=V.updateQueue,E=V.lastBaseUpdate,E!==p&&(E===null?V.firstBaseUpdate=k:E.next=k,V.lastBaseUpdate=w))}if(g!==null){var J=f.baseState;p=0,V=k=w=null,E=g;do{var F=E.lane&-536870913,U=F!==E.lane;if(U?(Nt&F)===F:(u&F)===F){F!==0&&F===kr&&(Ch=!0),V!==null&&(V=V.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var yt=e,mt=E;F=i;var Kt=l;switch(mt.tag){case 1:if(yt=mt.payload,typeof yt=="function"){J=yt.call(Kt,J,F);break t}J=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=mt.payload,F=typeof yt=="function"?yt.call(Kt,J,F):yt,F==null)break t;J=_({},J,F);break t;case 2:Ji=!0}}F=E.callback,F!==null&&(e.flags|=64,U&&(e.flags|=8192),U=f.callbacks,U===null?f.callbacks=[F]:U.push(F))}else U={lane:F,tag:E.tag,payload:E.payload,callback:E.callback,next:null},V===null?(k=V=U,w=J):V=V.next=U,p|=F;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;U=E,E=U.next,U.next=null,f.lastBaseUpdate=U,f.shared.pending=null}}while(!0);V===null&&(w=J),f.baseState=w,f.firstBaseUpdate=k,f.lastBaseUpdate=V,g===null&&(f.shared.lanes=0),us|=p,e.lanes=p,e.memoizedState=J}}function lm(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function om(e,i){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)lm(l[e],i)}var Ur=X(null),Xo=X(0);function um(e,i){e=Di,nt(Xo,e),nt(Ur,i),Di=e|i.baseLanes}function Rh(){nt(Xo,Di),nt(Ur,Ur.current)}function bh(){Di=Xo.current,G(Ur),G(Xo)}var ns=0,bt=null,Vt=null,_e=null,Yo=!1,Br=!1,Ks=!1,Ho=0,ol=0,Xr=null,iE=0;function ge(){throw Error(s(321))}function wh(e,i){if(i===null)return!1;for(var l=0;l<i.length&&l<e.length;l++)if(!En(e[l],i[l]))return!1;return!0}function Ah(e,i,l,u,f,g){return ns=g,bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,O.H=e===null||e.memoizedState===null?Vm:Zm,Ks=!1,g=l(u,f),Ks=!1,Br&&(g=hm(i,l,u,f)),cm(e),g}function cm(e){O.H=Wo;var i=Vt!==null&&Vt.next!==null;if(ns=0,_e=Vt=bt=null,Yo=!1,ol=0,Xr=null,i)throw Error(s(300));e===null||be||(e=e.dependencies,e!==null&&Go(e)&&(be=!0))}function hm(e,i,l,u){bt=e;var f=0;do{if(Br&&(Xr=null),ol=0,Br=!1,25<=f)throw Error(s(301));if(f+=1,_e=Vt=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}O.H=cE,g=i(l,u)}while(Br);return g}function sE(){var e=O.H,i=e.useState()[0];return i=typeof i.then=="function"?ul(i):i,e=e.useState()[0],(Vt!==null?Vt.memoizedState:null)!==e&&(bt.flags|=1024),i}function Mh(){var e=Ho!==0;return Ho=0,e}function Oh(e,i,l){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~l}function Dh(e){if(Yo){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Yo=!1}ns=0,_e=Vt=bt=null,Br=!1,ol=Ho=0,Xr=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?bt.memoizedState=_e=e:_e=_e.next=e,_e}function ye(){if(Vt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Vt.next;var i=_e===null?bt.memoizedState:_e.next;if(i!==null)_e=i,Vt=e;else{if(e===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Vt=e,e={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},_e===null?bt.memoizedState=_e=e:_e=_e.next=e}return _e}function Lh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(e){var i=ol;return ol+=1,Xr===null&&(Xr=[]),e=sm(Xr,e,i),i=bt,(_e===null?i.memoizedState:_e.next)===null&&(i=i.alternate,O.H=i===null||i.memoizedState===null?Vm:Zm),e}function Po(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ul(e);if(e.$$typeof===z)return Ue(e)}throw Error(s(438,String(e)))}function Nh(e){var i=null,l=bt.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var u=bt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Lh(),bt.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(e),u=0;u<e;u++)l[u]=it;return i.index++,l}function Ri(e,i){return typeof i=="function"?i(e):i}function Vo(e){var i=ye();return Ih(i,Vt,e)}function Ih(e,i,l){var u=e.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=l;var f=e.baseQueue,g=u.pending;if(g!==null){if(f!==null){var p=f.next;f.next=g.next,g.next=p}i.baseQueue=f=g,u.pending=null}if(g=e.baseState,f===null)e.memoizedState=g;else{i=f.next;var E=p=null,w=null,k=i,V=!1;do{var J=k.lane&-536870913;if(J!==k.lane?(Nt&J)===J:(ns&J)===J){var F=k.revertLane;if(F===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),J===kr&&(V=!0);else if((ns&F)===F){k=k.next,F===kr&&(V=!0);continue}else J={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(E=w=J,p=g):w=w.next=J,bt.lanes|=F,us|=F;J=k.action,Ks&&l(g,J),g=k.hasEagerState?k.eagerState:l(g,J)}else F={lane:J,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(E=w=F,p=g):w=w.next=F,bt.lanes|=J,us|=J;k=k.next}while(k!==null&&k!==i);if(w===null?p=g:w.next=E,!En(g,e.memoizedState)&&(be=!0,V&&(l=Fr,l!==null)))throw l;e.memoizedState=g,e.baseState=p,e.baseQueue=w,u.lastRenderedState=g}return f===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function zh(e){var i=ye(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var u=l.dispatch,f=l.pending,g=i.memoizedState;if(f!==null){l.pending=null;var p=f=f.next;do g=e(g,p.action),p=p.next;while(p!==f);En(g,i.memoizedState)||(be=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),l.lastRenderedState=g}return[g,u]}function fm(e,i,l){var u=bt,f=ye(),g=kt;if(g){if(l===void 0)throw Error(s(407));l=l()}else l=i();var p=!En((Vt||f).memoizedState,l);p&&(f.memoizedState=l,be=!0),f=f.queue;var E=mm.bind(null,u,f,e);if(cl(2048,8,E,[e]),f.getSnapshot!==i||p||_e!==null&&_e.memoizedState.tag&1){if(u.flags|=2048,Yr(9,Zo(),gm.bind(null,u,f,l,i),null),$t===null)throw Error(s(349));g||(ns&124)!==0||dm(u,i,l)}return l}function dm(e,i,l){e.flags|=16384,e={getSnapshot:i,value:l},i=bt.updateQueue,i===null?(i=Lh(),bt.updateQueue=i,i.stores=[e]):(l=i.stores,l===null?i.stores=[e]:l.push(e))}function gm(e,i,l,u){i.value=l,i.getSnapshot=u,_m(i)&&ym(e)}function mm(e,i,l){return l(function(){_m(i)&&ym(e)})}function _m(e){var i=e.getSnapshot;e=e.value;try{var l=i();return!En(e,l)}catch{return!0}}function ym(e){var i=Ir(e,2);i!==null&&bn(i,e,2)}function jh(e){var i=nn();if(typeof e=="function"){var l=e;if(e=l(),Ks){yn(!0);try{l()}finally{yn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:e},i}function pm(e,i,l,u){return e.baseState=l,Ih(e,Vt,typeof u=="function"?u:Ri)}function rE(e,i,l,u,f){if(qo(e))throw Error(s(485));if(e=i.action,e!==null){var g={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){g.listeners.push(p)}};O.T!==null?l(!0):g.isTransition=!1,u(g),l=i.pending,l===null?(g.next=i.pending=g,vm(i,g)):(g.next=l.next,i.pending=l.next=g)}}function vm(e,i){var l=i.action,u=i.payload,f=e.state;if(i.isTransition){var g=O.T,p={};O.T=p;try{var E=l(f,u),w=O.S;w!==null&&w(p,E),Em(e,i,E)}catch(k){Gh(e,i,k)}finally{O.T=g}}else try{g=l(f,u),Em(e,i,g)}catch(k){Gh(e,i,k)}}function Em(e,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){xm(e,i,u)},function(u){return Gh(e,i,u)}):xm(e,i,l)}function xm(e,i,l){i.status="fulfilled",i.value=l,Sm(i),e.state=l,i=e.pending,i!==null&&(l=i.next,l===i?e.pending=null:(l=l.next,i.next=l,vm(e,l)))}function Gh(e,i,l){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=l,Sm(i),i=i.next;while(i!==u)}e.action=null}function Sm(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Tm(e,i){return i}function Cm(e,i){if(kt){var l=$t.formState;if(l!==null){t:{var u=bt;if(kt){if(ue){e:{for(var f=ue,g=oi;f.nodeType!==8;){if(!g){f=null;break e}if(f=Kn(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){ue=Kn(f.nextSibling),u=f.data==="F!";break t}}Hs(u)}u=!1}u&&(i=l[0])}}return l=nn(),l.memoizedState=l.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tm,lastRenderedState:i},l.queue=u,l=Ym.bind(null,bt,u),u.dispatch=l,u=jh(!1),g=Xh.bind(null,bt,!1,u.queue),u=nn(),f={state:i,dispatch:null,action:e,pending:null},u.queue=f,l=rE.bind(null,bt,f,g,l),f.dispatch=l,u.memoizedState=e,[i,l,!1]}function Rm(e){var i=ye();return bm(i,Vt,e)}function bm(e,i,l){if(i=Ih(e,i,Tm)[0],e=Vo(Ri)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=ul(i)}catch(p){throw p===il?Uo:p}else u=i;i=ye();var f=i.queue,g=f.dispatch;return l!==i.memoizedState&&(bt.flags|=2048,Yr(9,Zo(),aE.bind(null,f,l),null)),[u,g,e]}function aE(e,i){e.action=i}function wm(e){var i=ye(),l=Vt;if(l!==null)return bm(i,l,e);ye(),i=i.memoizedState,l=ye();var u=l.queue.dispatch;return l.memoizedState=e,[i,u,!1]}function Yr(e,i,l,u){return e={tag:e,create:l,deps:u,inst:i,next:null},i=bt.updateQueue,i===null&&(i=Lh(),bt.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=e.next=e:(u=l.next,l.next=e,e.next=u,i.lastEffect=e),e}function Zo(){return{destroy:void 0,resource:void 0}}function Am(){return ye().memoizedState}function Ko(e,i,l,u){var f=nn();u=u===void 0?null:u,bt.flags|=e,f.memoizedState=Yr(1|i,Zo(),l,u)}function cl(e,i,l,u){var f=ye();u=u===void 0?null:u;var g=f.memoizedState.inst;Vt!==null&&u!==null&&wh(u,Vt.memoizedState.deps)?f.memoizedState=Yr(i,g,l,u):(bt.flags|=e,f.memoizedState=Yr(1|i,g,l,u))}function Mm(e,i){Ko(8390656,8,e,i)}function Om(e,i){cl(2048,8,e,i)}function Dm(e,i){return cl(4,2,e,i)}function Lm(e,i){return cl(4,4,e,i)}function Nm(e,i){if(typeof i=="function"){e=e();var l=i(e);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Im(e,i,l){l=l!=null?l.concat([e]):null,cl(4,4,Nm.bind(null,i,e),l)}function kh(){}function zm(e,i){var l=ye();i=i===void 0?null:i;var u=l.memoizedState;return i!==null&&wh(i,u[1])?u[0]:(l.memoizedState=[e,i],e)}function jm(e,i){var l=ye();i=i===void 0?null:i;var u=l.memoizedState;if(i!==null&&wh(i,u[1]))return u[0];if(u=e(),Ks){yn(!0);try{e()}finally{yn(!1)}}return l.memoizedState=[u,i],u}function Fh(e,i,l){return l===void 0||(ns&1073741824)!==0?e.memoizedState=i:(e.memoizedState=l,e=F_(),bt.lanes|=e,us|=e,l)}function Gm(e,i,l,u){return En(l,i)?l:Ur.current!==null?(e=Fh(e,l,u),En(e,i)||(be=!0),e):(ns&42)===0?(be=!0,e.memoizedState=l):(e=F_(),bt.lanes|=e,us|=e,i)}function km(e,i,l,u,f){var g=P.p;P.p=g!==0&&8>g?g:8;var p=O.T,E={};O.T=E,Xh(e,!1,i,l);try{var w=f(),k=O.S;if(k!==null&&k(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var V=nE(w,u);hl(e,i,V,Rn(e))}else hl(e,i,u,Rn(e))}catch(J){hl(e,i,{then:function(){},status:"rejected",reason:J},Rn())}finally{P.p=g,O.T=p}}function lE(){}function Uh(e,i,l,u){if(e.tag!==5)throw Error(s(476));var f=Fm(e).queue;km(e,f,i,Z,l===null?lE:function(){return Um(e),l(u)})}function Fm(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:Z},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:l},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Um(e){var i=Fm(e).next.queue;hl(e,i,{},Rn())}function Bh(){return Ue(Ml)}function Bm(){return ye().memoizedState}function Xm(){return ye().memoizedState}function oE(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var l=Rn();e=ts(l);var u=es(i,e,l);u!==null&&(bn(u,i,l),rl(u,i,l)),i={cache:yh()},e.payload=i;return}i=i.return}}function uE(e,i,l){var u=Rn();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},qo(e)?Hm(i,l):(l=lh(e,i,l,u),l!==null&&(bn(l,e,u),Pm(l,i,u)))}function Ym(e,i,l){var u=Rn();hl(e,i,l,u)}function hl(e,i,l,u){var f={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(qo(e))Hm(i,f);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var p=i.lastRenderedState,E=g(p,l);if(f.hasEagerState=!0,f.eagerState=E,En(E,p))return Lo(e,i,f,0),$t===null&&Do(),!1}catch{}finally{}if(l=lh(e,i,f,u),l!==null)return bn(l,e,u),Pm(l,i,u),!0}return!1}function Xh(e,i,l,u){if(u={lane:2,revertLane:xf(),action:u,hasEagerState:!1,eagerState:null,next:null},qo(e)){if(i)throw Error(s(479))}else i=lh(e,l,u,2),i!==null&&bn(i,e,2)}function qo(e){var i=e.alternate;return e===bt||i!==null&&i===bt}function Hm(e,i){Br=Yo=!0;var l=e.pending;l===null?i.next=i:(i.next=l.next,l.next=i),e.pending=i}function Pm(e,i,l){if((l&4194048)!==0){var u=i.lanes;u&=e.pendingLanes,l|=u,i.lanes=l,Ze(e,l)}}var Wo={readContext:Ue,use:Po,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},Vm={readContext:Ue,use:Po,useCallback:function(e,i){return nn().memoizedState=[e,i===void 0?null:i],e},useContext:Ue,useEffect:Mm,useImperativeHandle:function(e,i,l){l=l!=null?l.concat([e]):null,Ko(4194308,4,Nm.bind(null,i,e),l)},useLayoutEffect:function(e,i){return Ko(4194308,4,e,i)},useInsertionEffect:function(e,i){Ko(4,2,e,i)},useMemo:function(e,i){var l=nn();i=i===void 0?null:i;var u=e();if(Ks){yn(!0);try{e()}finally{yn(!1)}}return l.memoizedState=[u,i],u},useReducer:function(e,i,l){var u=nn();if(l!==void 0){var f=l(i);if(Ks){yn(!0);try{l(i)}finally{yn(!1)}}}else f=i;return u.memoizedState=u.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},u.queue=e,e=e.dispatch=uE.bind(null,bt,e),[u.memoizedState,e]},useRef:function(e){var i=nn();return e={current:e},i.memoizedState=e},useState:function(e){e=jh(e);var i=e.queue,l=Ym.bind(null,bt,i);return i.dispatch=l,[e.memoizedState,l]},useDebugValue:kh,useDeferredValue:function(e,i){var l=nn();return Fh(l,e,i)},useTransition:function(){var e=jh(!1);return e=km.bind(null,bt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,l){var u=bt,f=nn();if(kt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=i(),$t===null)throw Error(s(349));(Nt&124)!==0||dm(u,i,l)}f.memoizedState=l;var g={value:l,getSnapshot:i};return f.queue=g,Mm(mm.bind(null,u,g,e),[e]),u.flags|=2048,Yr(9,Zo(),gm.bind(null,u,g,l,i),null),l},useId:function(){var e=nn(),i=$t.identifierPrefix;if(kt){var l=Si,u=xi;l=(u&~(1<<32-ke(u)-1)).toString(32)+l,i="«"+i+"R"+l,l=Ho++,0<l&&(i+="H"+l.toString(32)),i+="»"}else l=iE++,i="«"+i+"r"+l.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:Bh,useFormState:Cm,useActionState:Cm,useOptimistic:function(e){var i=nn();i.memoizedState=i.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Xh.bind(null,bt,!0,l),l.dispatch=i,[e,i]},useMemoCache:Nh,useCacheRefresh:function(){return nn().memoizedState=oE.bind(null,bt)}},Zm={readContext:Ue,use:Po,useCallback:zm,useContext:Ue,useEffect:Om,useImperativeHandle:Im,useInsertionEffect:Dm,useLayoutEffect:Lm,useMemo:jm,useReducer:Vo,useRef:Am,useState:function(){return Vo(Ri)},useDebugValue:kh,useDeferredValue:function(e,i){var l=ye();return Gm(l,Vt.memoizedState,e,i)},useTransition:function(){var e=Vo(Ri)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:ul(e),i]},useSyncExternalStore:fm,useId:Bm,useHostTransitionStatus:Bh,useFormState:Rm,useActionState:Rm,useOptimistic:function(e,i){var l=ye();return pm(l,Vt,e,i)},useMemoCache:Nh,useCacheRefresh:Xm},cE={readContext:Ue,use:Po,useCallback:zm,useContext:Ue,useEffect:Om,useImperativeHandle:Im,useInsertionEffect:Dm,useLayoutEffect:Lm,useMemo:jm,useReducer:zh,useRef:Am,useState:function(){return zh(Ri)},useDebugValue:kh,useDeferredValue:function(e,i){var l=ye();return Vt===null?Fh(l,e,i):Gm(l,Vt.memoizedState,e,i)},useTransition:function(){var e=zh(Ri)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:ul(e),i]},useSyncExternalStore:fm,useId:Bm,useHostTransitionStatus:Bh,useFormState:wm,useActionState:wm,useOptimistic:function(e,i){var l=ye();return Vt!==null?pm(l,Vt,e,i):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Nh,useCacheRefresh:Xm},Hr=null,fl=0;function Qo(e){var i=fl;return fl+=1,Hr===null&&(Hr=[]),sm(Hr,e,i)}function dl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function $o(e,i){throw i.$$typeof===y?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Km(e){var i=e._init;return i(e._payload)}function qm(e){function i(I,D){if(e){var j=I.deletions;j===null?(I.deletions=[D],I.flags|=16):j.push(D)}}function l(I,D){if(!e)return null;for(;D!==null;)i(I,D),D=D.sibling;return null}function u(I){for(var D=new Map;I!==null;)I.key!==null?D.set(I.key,I):D.set(I.index,I),I=I.sibling;return D}function f(I,D){return I=Ei(I,D),I.index=0,I.sibling=null,I}function g(I,D,j){return I.index=j,e?(j=I.alternate,j!==null?(j=j.index,j<D?(I.flags|=67108866,D):j):(I.flags|=67108866,D)):(I.flags|=1048576,D)}function p(I){return e&&I.alternate===null&&(I.flags|=67108866),I}function E(I,D,j,Q){return D===null||D.tag!==6?(D=uh(j,I.mode,Q),D.return=I,D):(D=f(D,j),D.return=I,D)}function w(I,D,j,Q){var ut=j.type;return ut===T?V(I,D,j.props.children,Q,j.key):D!==null&&(D.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===q&&Km(ut)===D.type)?(D=f(D,j.props),dl(D,j),D.return=I,D):(D=Io(j.type,j.key,j.props,null,I.mode,Q),dl(D,j),D.return=I,D)}function k(I,D,j,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=ch(j,I.mode,Q),D.return=I,D):(D=f(D,j.children||[]),D.return=I,D)}function V(I,D,j,Q,ut){return D===null||D.tag!==7?(D=Us(j,I.mode,Q,ut),D.return=I,D):(D=f(D,j),D.return=I,D)}function J(I,D,j){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=uh(""+D,I.mode,j),D.return=I,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case v:return j=Io(D.type,D.key,D.props,null,I.mode,j),dl(j,D),j.return=I,j;case S:return D=ch(D,I.mode,j),D.return=I,D;case q:var Q=D._init;return D=Q(D._payload),J(I,D,j)}if(at(D)||H(D))return D=Us(D,I.mode,j,null),D.return=I,D;if(typeof D.then=="function")return J(I,Qo(D),j);if(D.$$typeof===z)return J(I,ko(I,D),j);$o(I,D)}return null}function F(I,D,j,Q){var ut=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ut!==null?null:E(I,D,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case v:return j.key===ut?w(I,D,j,Q):null;case S:return j.key===ut?k(I,D,j,Q):null;case q:return ut=j._init,j=ut(j._payload),F(I,D,j,Q)}if(at(j)||H(j))return ut!==null?null:V(I,D,j,Q,null);if(typeof j.then=="function")return F(I,D,Qo(j),Q);if(j.$$typeof===z)return F(I,D,ko(I,j),Q);$o(I,j)}return null}function U(I,D,j,Q,ut){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return I=I.get(j)||null,E(D,I,""+Q,ut);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:return I=I.get(Q.key===null?j:Q.key)||null,w(D,I,Q,ut);case S:return I=I.get(Q.key===null?j:Q.key)||null,k(D,I,Q,ut);case q:var wt=Q._init;return Q=wt(Q._payload),U(I,D,j,Q,ut)}if(at(Q)||H(Q))return I=I.get(j)||null,V(D,I,Q,ut,null);if(typeof Q.then=="function")return U(I,D,j,Qo(Q),ut);if(Q.$$typeof===z)return U(I,D,j,ko(D,Q),ut);$o(D,Q)}return null}function yt(I,D,j,Q){for(var ut=null,wt=null,ft=D,_t=D=0,Ae=null;ft!==null&&_t<j.length;_t++){ft.index>_t?(Ae=ft,ft=null):Ae=ft.sibling;var zt=F(I,ft,j[_t],Q);if(zt===null){ft===null&&(ft=Ae);break}e&&ft&&zt.alternate===null&&i(I,ft),D=g(zt,D,_t),wt===null?ut=zt:wt.sibling=zt,wt=zt,ft=Ae}if(_t===j.length)return l(I,ft),kt&&Xs(I,_t),ut;if(ft===null){for(;_t<j.length;_t++)ft=J(I,j[_t],Q),ft!==null&&(D=g(ft,D,_t),wt===null?ut=ft:wt.sibling=ft,wt=ft);return kt&&Xs(I,_t),ut}for(ft=u(ft);_t<j.length;_t++)Ae=U(ft,I,_t,j[_t],Q),Ae!==null&&(e&&Ae.alternate!==null&&ft.delete(Ae.key===null?_t:Ae.key),D=g(Ae,D,_t),wt===null?ut=Ae:wt.sibling=Ae,wt=Ae);return e&&ft.forEach(function(ps){return i(I,ps)}),kt&&Xs(I,_t),ut}function mt(I,D,j,Q){if(j==null)throw Error(s(151));for(var ut=null,wt=null,ft=D,_t=D=0,Ae=null,zt=j.next();ft!==null&&!zt.done;_t++,zt=j.next()){ft.index>_t?(Ae=ft,ft=null):Ae=ft.sibling;var ps=F(I,ft,zt.value,Q);if(ps===null){ft===null&&(ft=Ae);break}e&&ft&&ps.alternate===null&&i(I,ft),D=g(ps,D,_t),wt===null?ut=ps:wt.sibling=ps,wt=ps,ft=Ae}if(zt.done)return l(I,ft),kt&&Xs(I,_t),ut;if(ft===null){for(;!zt.done;_t++,zt=j.next())zt=J(I,zt.value,Q),zt!==null&&(D=g(zt,D,_t),wt===null?ut=zt:wt.sibling=zt,wt=zt);return kt&&Xs(I,_t),ut}for(ft=u(ft);!zt.done;_t++,zt=j.next())zt=U(ft,I,_t,zt.value,Q),zt!==null&&(e&&zt.alternate!==null&&ft.delete(zt.key===null?_t:zt.key),D=g(zt,D,_t),wt===null?ut=zt:wt.sibling=zt,wt=zt);return e&&ft.forEach(function(hx){return i(I,hx)}),kt&&Xs(I,_t),ut}function Kt(I,D,j,Q){if(typeof j=="object"&&j!==null&&j.type===T&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case v:t:{for(var ut=j.key;D!==null;){if(D.key===ut){if(ut=j.type,ut===T){if(D.tag===7){l(I,D.sibling),Q=f(D,j.props.children),Q.return=I,I=Q;break t}}else if(D.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===q&&Km(ut)===D.type){l(I,D.sibling),Q=f(D,j.props),dl(Q,j),Q.return=I,I=Q;break t}l(I,D);break}else i(I,D);D=D.sibling}j.type===T?(Q=Us(j.props.children,I.mode,Q,j.key),Q.return=I,I=Q):(Q=Io(j.type,j.key,j.props,null,I.mode,Q),dl(Q,j),Q.return=I,I=Q)}return p(I);case S:t:{for(ut=j.key;D!==null;){if(D.key===ut)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){l(I,D.sibling),Q=f(D,j.children||[]),Q.return=I,I=Q;break t}else{l(I,D);break}else i(I,D);D=D.sibling}Q=ch(j,I.mode,Q),Q.return=I,I=Q}return p(I);case q:return ut=j._init,j=ut(j._payload),Kt(I,D,j,Q)}if(at(j))return yt(I,D,j,Q);if(H(j)){if(ut=H(j),typeof ut!="function")throw Error(s(150));return j=ut.call(j),mt(I,D,j,Q)}if(typeof j.then=="function")return Kt(I,D,Qo(j),Q);if(j.$$typeof===z)return Kt(I,D,ko(I,j),Q);$o(I,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,D!==null&&D.tag===6?(l(I,D.sibling),Q=f(D,j),Q.return=I,I=Q):(l(I,D),Q=uh(j,I.mode,Q),Q.return=I,I=Q),p(I)):l(I,D)}return function(I,D,j,Q){try{fl=0;var ut=Kt(I,D,j,Q);return Hr=null,ut}catch(ft){if(ft===il||ft===Uo)throw ft;var wt=xn(29,ft,null,I.mode);return wt.lanes=Q,wt.return=I,wt}finally{}}}var Pr=qm(!0),Wm=qm(!1),zn=X(null),ui=null;function is(e){var i=e.alternate;nt(ve,ve.current&1),nt(zn,e),ui===null&&(i===null||Ur.current!==null||i.memoizedState!==null)&&(ui=e)}function Qm(e){if(e.tag===22){if(nt(ve,ve.current),nt(zn,e),ui===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ui=e)}}else ss()}function ss(){nt(ve,ve.current),nt(zn,zn.current)}function bi(e){G(zn),ui===e&&(ui=null),G(ve)}var ve=X(0);function Jo(e){for(var i=e;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Nf(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Yh(e,i,l,u){i=e.memoizedState,l=l(u,i),l=l==null?i:_({},i,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Hh={enqueueSetState:function(e,i,l){e=e._reactInternals;var u=Rn(),f=ts(u);f.payload=i,l!=null&&(f.callback=l),i=es(e,f,u),i!==null&&(bn(i,e,u),rl(i,e,u))},enqueueReplaceState:function(e,i,l){e=e._reactInternals;var u=Rn(),f=ts(u);f.tag=1,f.payload=i,l!=null&&(f.callback=l),i=es(e,f,u),i!==null&&(bn(i,e,u),rl(i,e,u))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var l=Rn(),u=ts(l);u.tag=2,i!=null&&(u.callback=i),i=es(e,u,l),i!==null&&(bn(i,e,l),rl(i,e,l))}};function $m(e,i,l,u,f,g,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,g,p):i.prototype&&i.prototype.isPureReactComponent?!qa(l,u)||!qa(f,g):!0}function Jm(e,i,l,u){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==e&&Hh.enqueueReplaceState(i,i.state,null)}function qs(e,i){var l=i;if("ref"in i){l={};for(var u in i)u!=="ref"&&(l[u]=i[u])}if(e=e.defaultProps){l===i&&(l=_({},l));for(var f in e)l[f]===void 0&&(l[f]=e[f])}return l}var tu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function t_(e){tu(e)}function e_(e){console.error(e)}function n_(e){tu(e)}function eu(e,i){try{var l=e.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function i_(e,i,l){try{var u=e.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ph(e,i,l){return l=ts(l),l.tag=3,l.payload={element:null},l.callback=function(){eu(e,i)},l}function s_(e){return e=ts(e),e.tag=3,e}function r_(e,i,l,u){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;e.payload=function(){return f(g)},e.callback=function(){i_(i,l,u)}}var p=l.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){i_(i,l,u),typeof f!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function hE(e,i,l,u,f){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=l.alternate,i!==null&&tl(i,l,f,!0),l=zn.current,l!==null){switch(l.tag){case 13:return ui===null?_f():l.alternate===null&&ce===0&&(ce=3),l.flags&=-257,l.flags|=65536,l.lanes=f,u===Eh?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([u]):i.add(u),pf(e,u,f)),!1;case 22:return l.flags|=65536,u===Eh?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([u]):l.add(u)),pf(e,u,f)),!1}throw Error(s(435,l.tag))}return pf(e,u,f),_f(),!1}if(kt)return i=zn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==dh&&(e=Error(s(422),{cause:u}),Ja(Dn(e,l)))):(u!==dh&&(i=Error(s(423),{cause:u}),Ja(Dn(i,l))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,u=Dn(u,l),f=Ph(e.stateNode,u,f),Th(e,f),ce!==4&&(ce=2)),!1;var g=Error(s(520),{cause:u});if(g=Dn(g,l),El===null?El=[g]:El.push(g),ce!==4&&(ce=2),i===null)return!0;u=Dn(u,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,e=f&-f,l.lanes|=e,e=Ph(l.stateNode,u,e),Th(l,e),!1;case 1:if(i=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(cs===null||!cs.has(g))))return l.flags|=65536,f&=-f,l.lanes|=f,f=s_(f),r_(f,e,l,u),Th(l,f),!1}l=l.return}while(l!==null);return!1}var a_=Error(s(461)),be=!1;function Le(e,i,l,u){i.child=e===null?Wm(i,null,l,u):Pr(i,e.child,l,u)}function l_(e,i,l,u,f){l=l.render;var g=i.ref;if("ref"in u){var p={};for(var E in u)E!=="ref"&&(p[E]=u[E])}else p=u;return Vs(i),u=Ah(e,i,l,p,g,f),E=Mh(),e!==null&&!be?(Oh(e,i,f),wi(e,i,f)):(kt&&E&&hh(i),i.flags|=1,Le(e,i,u,f),i.child)}function o_(e,i,l,u,f){if(e===null){var g=l.type;return typeof g=="function"&&!oh(g)&&g.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=g,u_(e,i,g,u,f)):(e=Io(l.type,null,u,i,i.mode,f),e.ref=i.ref,e.return=i,i.child=e)}if(g=e.child,!Jh(e,f)){var p=g.memoizedProps;if(l=l.compare,l=l!==null?l:qa,l(p,u)&&e.ref===i.ref)return wi(e,i,f)}return i.flags|=1,e=Ei(g,u),e.ref=i.ref,e.return=i,i.child=e}function u_(e,i,l,u,f){if(e!==null){var g=e.memoizedProps;if(qa(g,u)&&e.ref===i.ref)if(be=!1,i.pendingProps=u=g,Jh(e,f))(e.flags&131072)!==0&&(be=!0);else return i.lanes=e.lanes,wi(e,i,f)}return Vh(e,i,l,u,f)}function c_(e,i,l){var u=i.pendingProps,f=u.children,g=e!==null?e.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=g!==null?g.baseLanes|l:l,e!==null){for(f=i.child=e.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;i.childLanes=g&~u}else i.childLanes=0,i.child=null;return h_(e,i,u,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fo(i,g!==null?g.cachePool:null),g!==null?um(i,g):Rh(),Qm(i);else return i.lanes=i.childLanes=536870912,h_(e,i,g!==null?g.baseLanes|l:l,l)}else g!==null?(Fo(i,g.cachePool),um(i,g),ss(),i.memoizedState=null):(e!==null&&Fo(i,null),Rh(),ss());return Le(e,i,f,l),i.child}function h_(e,i,l,u){var f=vh();return f=f===null?null:{parent:pe._currentValue,pool:f},i.memoizedState={baseLanes:l,cachePool:f},e!==null&&Fo(i,null),Rh(),Qm(i),e!==null&&tl(e,i,u,!0),null}function nu(e,i){var l=i.ref;if(l===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(e===null||e.ref!==l)&&(i.flags|=4194816)}}function Vh(e,i,l,u,f){return Vs(i),l=Ah(e,i,l,u,void 0,f),u=Mh(),e!==null&&!be?(Oh(e,i,f),wi(e,i,f)):(kt&&u&&hh(i),i.flags|=1,Le(e,i,l,f),i.child)}function f_(e,i,l,u,f,g){return Vs(i),i.updateQueue=null,l=hm(i,u,l,f),cm(e),u=Mh(),e!==null&&!be?(Oh(e,i,g),wi(e,i,g)):(kt&&u&&hh(i),i.flags|=1,Le(e,i,l,g),i.child)}function d_(e,i,l,u,f){if(Vs(i),i.stateNode===null){var g=zr,p=l.contextType;typeof p=="object"&&p!==null&&(g=Ue(p)),g=new l(u,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Hh,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=u,g.state=i.memoizedState,g.refs={},xh(i),p=l.contextType,g.context=typeof p=="object"&&p!==null?Ue(p):zr,g.state=i.memoizedState,p=l.getDerivedStateFromProps,typeof p=="function"&&(Yh(i,l,p,u),g.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(p=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),p!==g.state&&Hh.enqueueReplaceState(g,g.state,null),ll(i,u,g,f),al(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(e===null){g=i.stateNode;var E=i.memoizedProps,w=qs(l,E);g.props=w;var k=g.context,V=l.contextType;p=zr,typeof V=="object"&&V!==null&&(p=Ue(V));var J=l.getDerivedStateFromProps;V=typeof J=="function"||typeof g.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,V||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E||k!==p)&&Jm(i,g,u,p),Ji=!1;var F=i.memoizedState;g.state=F,ll(i,u,g,f),al(),k=i.memoizedState,E||F!==k||Ji?(typeof J=="function"&&(Yh(i,l,J,u),k=i.memoizedState),(w=Ji||$m(i,l,w,u,F,k,p))?(V||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=k),g.props=u,g.state=k,g.context=p,u=w):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{g=i.stateNode,Sh(e,i),p=i.memoizedProps,V=qs(l,p),g.props=V,J=i.pendingProps,F=g.context,k=l.contextType,w=zr,typeof k=="object"&&k!==null&&(w=Ue(k)),E=l.getDerivedStateFromProps,(k=typeof E=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(p!==J||F!==w)&&Jm(i,g,u,w),Ji=!1,F=i.memoizedState,g.state=F,ll(i,u,g,f),al();var U=i.memoizedState;p!==J||F!==U||Ji||e!==null&&e.dependencies!==null&&Go(e.dependencies)?(typeof E=="function"&&(Yh(i,l,E,u),U=i.memoizedState),(V=Ji||$m(i,l,V,u,F,U,w)||e!==null&&e.dependencies!==null&&Go(e.dependencies))?(k||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,U,w),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,U,w)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||p===e.memoizedProps&&F===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&F===e.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=U),g.props=u,g.state=U,g.context=w,u=V):(typeof g.componentDidUpdate!="function"||p===e.memoizedProps&&F===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&F===e.memoizedState||(i.flags|=1024),u=!1)}return g=u,nu(e,i),u=(i.flags&128)!==0,g||u?(g=i.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,e!==null&&u?(i.child=Pr(i,e.child,null,f),i.child=Pr(i,null,l,f)):Le(e,i,l,f),i.memoizedState=g.state,e=i.child):e=wi(e,i,f),e}function g_(e,i,l,u){return $a(),i.flags|=256,Le(e,i,l,u),i.child}var Zh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kh(e){return{baseLanes:e,cachePool:em()}}function qh(e,i,l){return e=e!==null?e.childLanes&~l:0,i&&(e|=jn),e}function m_(e,i,l){var u=i.pendingProps,f=!1,g=(i.flags&128)!==0,p;if((p=g)||(p=e!==null&&e.memoizedState===null?!1:(ve.current&2)!==0),p&&(f=!0,i.flags&=-129),p=(i.flags&32)!==0,i.flags&=-33,e===null){if(kt){if(f?is(i):ss(),kt){var E=ue,w;if(w=E){t:{for(w=E,E=oi;w.nodeType!==8;){if(!E){E=null;break t}if(w=Kn(w.nextSibling),w===null){E=null;break t}}E=w}E!==null?(i.memoizedState={dehydrated:E,treeContext:Bs!==null?{id:xi,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},w=xn(18,null,null,0),w.stateNode=E,w.return=i,i.child=w,Ke=i,ue=null,w=!0):w=!1}w||Hs(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Nf(E)?i.lanes=32:i.lanes=536870912,null;bi(i)}return E=u.children,u=u.fallback,f?(ss(),f=i.mode,E=iu({mode:"hidden",children:E},f),u=Us(u,f,l,null),E.return=i,u.return=i,E.sibling=u,i.child=E,f=i.child,f.memoizedState=Kh(l),f.childLanes=qh(e,p,l),i.memoizedState=Zh,u):(is(i),Wh(i,E))}if(w=e.memoizedState,w!==null&&(E=w.dehydrated,E!==null)){if(g)i.flags&256?(is(i),i.flags&=-257,i=Qh(e,i,l)):i.memoizedState!==null?(ss(),i.child=e.child,i.flags|=128,i=null):(ss(),f=u.fallback,E=i.mode,u=iu({mode:"visible",children:u.children},E),f=Us(f,E,l,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,Pr(i,e.child,null,l),u=i.child,u.memoizedState=Kh(l),u.childLanes=qh(e,p,l),i.memoizedState=Zh,i=f);else if(is(i),Nf(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var k=p.dgst;p=k,u=Error(s(419)),u.stack="",u.digest=p,Ja({value:u,source:null,stack:null}),i=Qh(e,i,l)}else if(be||tl(e,i,l,!1),p=(l&e.childLanes)!==0,be||p){if(p=$t,p!==null&&(u=l&-l,u=(u&42)!==0?1:Pn(u),u=(u&(p.suspendedLanes|l))!==0?0:u,u!==0&&u!==w.retryLane))throw w.retryLane=u,Ir(e,u),bn(p,e,u),a_;E.data==="$?"||_f(),i=Qh(e,i,l)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=w.treeContext,ue=Kn(E.nextSibling),Ke=i,kt=!0,Ys=null,oi=!1,e!==null&&(Nn[In++]=xi,Nn[In++]=Si,Nn[In++]=Bs,xi=e.id,Si=e.overflow,Bs=i),i=Wh(i,u.children),i.flags|=4096);return i}return f?(ss(),f=u.fallback,E=i.mode,w=e.child,k=w.sibling,u=Ei(w,{mode:"hidden",children:u.children}),u.subtreeFlags=w.subtreeFlags&65011712,k!==null?f=Ei(k,f):(f=Us(f,E,l,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,E=e.child.memoizedState,E===null?E=Kh(l):(w=E.cachePool,w!==null?(k=pe._currentValue,w=w.parent!==k?{parent:k,pool:k}:w):w=em(),E={baseLanes:E.baseLanes|l,cachePool:w}),f.memoizedState=E,f.childLanes=qh(e,p,l),i.memoizedState=Zh,u):(is(i),l=e.child,e=l.sibling,l=Ei(l,{mode:"visible",children:u.children}),l.return=i,l.sibling=null,e!==null&&(p=i.deletions,p===null?(i.deletions=[e],i.flags|=16):p.push(e)),i.child=l,i.memoizedState=null,l)}function Wh(e,i){return i=iu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function iu(e,i){return e=xn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Qh(e,i,l){return Pr(i,e.child,null,l),e=Wh(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function __(e,i,l){e.lanes|=i;var u=e.alternate;u!==null&&(u.lanes|=i),mh(e.return,i,l)}function $h(e,i,l,u,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=l,g.tailMode=f)}function y_(e,i,l){var u=i.pendingProps,f=u.revealOrder,g=u.tail;if(Le(e,i,u.children,l),u=ve.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&__(e,l,i);else if(e.tag===19)__(e,l,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}switch(nt(ve,u),f){case"forwards":for(l=i.child,f=null;l!==null;)e=l.alternate,e!==null&&Jo(e)===null&&(f=l),l=l.sibling;l=f,l===null?(f=i.child,i.child=null):(f=l.sibling,l.sibling=null),$h(i,!1,f,l,g);break;case"backwards":for(l=null,f=i.child,i.child=null;f!==null;){if(e=f.alternate,e!==null&&Jo(e)===null){i.child=f;break}e=f.sibling,f.sibling=l,l=f,f=e}$h(i,!0,l,null,g);break;case"together":$h(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function wi(e,i,l){if(e!==null&&(i.dependencies=e.dependencies),us|=i.lanes,(l&i.childLanes)===0)if(e!==null){if(tl(e,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,l=Ei(e,e.pendingProps),i.child=l,l.return=i;e.sibling!==null;)e=e.sibling,l=l.sibling=Ei(e,e.pendingProps),l.return=i;l.sibling=null}return i.child}function Jh(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Go(e)))}function fE(e,i,l){switch(i.tag){case 3:Ct(i,i.stateNode.containerInfo),$i(i,pe,e.memoizedState.cache),$a();break;case 27:case 5:ee(i);break;case 4:Ct(i,i.stateNode.containerInfo);break;case 10:$i(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(is(i),i.flags|=128,null):(l&i.child.childLanes)!==0?m_(e,i,l):(is(i),e=wi(e,i,l),e!==null?e.sibling:null);is(i);break;case 19:var f=(e.flags&128)!==0;if(u=(l&i.childLanes)!==0,u||(tl(e,i,l,!1),u=(l&i.childLanes)!==0),f){if(u)return y_(e,i,l);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),nt(ve,ve.current),u)break;return null;case 22:case 23:return i.lanes=0,c_(e,i,l);case 24:$i(i,pe,e.memoizedState.cache)}return wi(e,i,l)}function p_(e,i,l){if(e!==null)if(e.memoizedProps!==i.pendingProps)be=!0;else{if(!Jh(e,l)&&(i.flags&128)===0)return be=!1,fE(e,i,l);be=(e.flags&131072)!==0}else be=!1,kt&&(i.flags&1048576)!==0&&K0(i,jo,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")oh(u)?(e=qs(u,e),i.tag=1,i=d_(null,i,u,e,l)):(i.tag=0,i=Vh(null,i,u,e,l));else{if(u!=null){if(f=u.$$typeof,f===N){i.tag=11,i=l_(null,i,u,e,l);break t}else if(f===W){i.tag=14,i=o_(null,i,u,e,l);break t}}throw i=tt(u)||u,Error(s(306,i,""))}}return i;case 0:return Vh(e,i,i.type,i.pendingProps,l);case 1:return u=i.type,f=qs(u,i.pendingProps),d_(e,i,u,f,l);case 3:t:{if(Ct(i,i.stateNode.containerInfo),e===null)throw Error(s(387));u=i.pendingProps;var g=i.memoizedState;f=g.element,Sh(e,i),ll(i,u,null,l);var p=i.memoizedState;if(u=p.cache,$i(i,pe,u),u!==g.cache&&_h(i,[pe],l,!0),al(),u=p.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:p.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=g_(e,i,u,l);break t}else if(u!==f){f=Dn(Error(s(424)),i),Ja(f),i=g_(e,i,u,l);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ue=Kn(e.firstChild),Ke=i,kt=!0,Ys=null,oi=!0,l=Wm(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if($a(),u===f){i=wi(e,i,l);break t}Le(e,i,u,l)}i=i.child}return i;case 26:return nu(e,i),e===null?(l=S1(i.type,null,i.pendingProps,null))?i.memoizedState=l:kt||(l=i.type,e=i.pendingProps,u=yu(ct.current).createElement(l),u[Qt]=i,u[At]=e,Ie(u,l,e),Re(u),i.stateNode=u):i.memoizedState=S1(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ee(i),e===null&&kt&&(u=i.stateNode=v1(i.type,i.pendingProps,ct.current),Ke=i,oi=!0,f=ue,ds(i.type)?(If=f,ue=Kn(u.firstChild)):ue=f),Le(e,i,i.pendingProps.children,l),nu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&kt&&((f=u=ue)&&(u=UE(u,i.type,i.pendingProps,oi),u!==null?(i.stateNode=u,Ke=i,ue=Kn(u.firstChild),oi=!1,f=!0):f=!1),f||Hs(i)),ee(i),f=i.type,g=i.pendingProps,p=e!==null?e.memoizedProps:null,u=g.children,Of(f,g)?u=null:p!==null&&Of(f,p)&&(i.flags|=32),i.memoizedState!==null&&(f=Ah(e,i,sE,null,null,l),Ml._currentValue=f),nu(e,i),Le(e,i,u,l),i.child;case 6:return e===null&&kt&&((e=l=ue)&&(l=BE(l,i.pendingProps,oi),l!==null?(i.stateNode=l,Ke=i,ue=null,e=!0):e=!1),e||Hs(i)),null;case 13:return m_(e,i,l);case 4:return Ct(i,i.stateNode.containerInfo),u=i.pendingProps,e===null?i.child=Pr(i,null,u,l):Le(e,i,u,l),i.child;case 11:return l_(e,i,i.type,i.pendingProps,l);case 7:return Le(e,i,i.pendingProps,l),i.child;case 8:return Le(e,i,i.pendingProps.children,l),i.child;case 12:return Le(e,i,i.pendingProps.children,l),i.child;case 10:return u=i.pendingProps,$i(i,i.type,u.value),Le(e,i,u.children,l),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,Vs(i),f=Ue(f),u=u(f),i.flags|=1,Le(e,i,u,l),i.child;case 14:return o_(e,i,i.type,i.pendingProps,l);case 15:return u_(e,i,i.type,i.pendingProps,l);case 19:return y_(e,i,l);case 31:return u=i.pendingProps,l=i.mode,u={mode:u.mode,children:u.children},e===null?(l=iu(u,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=Ei(e.child,u),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return c_(e,i,l);case 24:return Vs(i),u=Ue(pe),e===null?(f=vh(),f===null&&(f=$t,g=yh(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=l),f=g),i.memoizedState={parent:u,cache:f},xh(i),$i(i,pe,f)):((e.lanes&l)!==0&&(Sh(e,i),ll(i,null,null,l),al()),f=e.memoizedState,g=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),$i(i,pe,u)):(u=g.cache,$i(i,pe,u),u!==f.cache&&_h(i,[pe],l,!0))),Le(e,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ai(e){e.flags|=4}function v_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!w1(i)){if(i=zn.current,i!==null&&((Nt&4194048)===Nt?ui!==null:(Nt&62914560)!==Nt&&(Nt&536870912)===0||i!==ui))throw sl=Eh,nm;e.flags|=8192}}function su(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Wi():536870912,e.lanes|=i,qr|=i)}function gl(e,i){if(!kt)switch(e.tailMode){case"hidden":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function re(e){var i=e.alternate!==null&&e.alternate.child===e.child,l=0,u=0;if(i)for(var f=e.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=u,e.childLanes=l,i}function dE(e,i,l){var u=i.pendingProps;switch(fh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return l=i.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Ci(pe),Wt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Qa(i)?Ai(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Q0())),re(i),null;case 26:return l=i.memoizedState,e===null?(Ai(i),l!==null?(re(i),v_(i,l)):(re(i),i.flags&=-16777217)):l?l!==e.memoizedState?(Ai(i),re(i),v_(i,l)):(re(i),i.flags&=-16777217):(e.memoizedProps!==u&&Ai(i),re(i),i.flags&=-16777217),null;case 27:$e(i),l=ct.current;var f=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==u&&Ai(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return re(i),null}e=rt.current,Qa(i)?q0(i):(e=v1(f,u,l),i.stateNode=e,Ai(i))}return re(i),null;case 5:if($e(i),l=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==u&&Ai(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return re(i),null}if(e=rt.current,Qa(i))q0(i);else{switch(f=yu(ct.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?e.multiple=!0:u.size&&(e.size=u.size);break;default:e=typeof u.is=="string"?f.createElement(l,{is:u.is}):f.createElement(l)}}e[Qt]=i,e[At]=u;t:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break t;for(;f.sibling===null;){if(f.return===null||f.return===i)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=e;t:switch(Ie(e,l,u),l){case"button":case"input":case"select":case"textarea":e=!!u.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ai(i)}}return re(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==u&&Ai(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(e=ct.current,Qa(i)){if(e=i.stateNode,l=i.memoizedProps,u=null,f=Ke,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}e[Qt]=i,e=!!(e.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||f1(e.nodeValue,l)),e||Hs(i)}else e=yu(e).createTextNode(u),e[Qt]=i,i.stateNode=e}return re(i),null;case 13:if(u=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Qa(i),u!==null&&u.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Qt]=i}else $a(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),f=!1}else f=Q0(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(bi(i),i):(bi(i),null)}if(bi(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=u!==null,e=e!==null&&e.memoizedState!==null,l){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return l!==e&&l&&(i.child.flags|=8192),su(i,i.updateQueue),re(i),null;case 4:return Wt(),e===null&&Rf(i.stateNode.containerInfo),re(i),null;case 10:return Ci(i.type),re(i),null;case 19:if(G(ve),f=i.memoizedState,f===null)return re(i),null;if(u=(i.flags&128)!==0,g=f.rendering,g===null)if(u)gl(f,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(g=Jo(e),g!==null){for(i.flags|=128,gl(f,!1),e=g.updateQueue,i.updateQueue=e,su(i,e),i.subtreeFlags=0,e=l,l=i.child;l!==null;)Z0(l,e),l=l.sibling;return nt(ve,ve.current&1|2),i.child}e=e.sibling}f.tail!==null&&ie()>lu&&(i.flags|=128,u=!0,gl(f,!1),i.lanes=4194304)}else{if(!u)if(e=Jo(g),e!==null){if(i.flags|=128,u=!0,e=e.updateQueue,i.updateQueue=e,su(i,e),gl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!kt)return re(i),null}else 2*ie()-f.renderingStartTime>lu&&l!==536870912&&(i.flags|=128,u=!0,gl(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(e=f.last,e!==null?e.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=ie(),i.sibling=null,e=ve.current,nt(ve,u?e&1|2:e&1),i):(re(i),null);case 22:case 23:return bi(i),bh(),u=i.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(l&536870912)!==0&&(i.flags&128)===0&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),l=i.updateQueue,l!==null&&su(i,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==l&&(i.flags|=2048),e!==null&&G(Zs),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ci(pe),re(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function gE(e,i){switch(fh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ci(pe),Wt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return $e(i),null;case 13:if(bi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));$a()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return G(ve),null;case 4:return Wt(),null;case 10:return Ci(i.type),null;case 22:case 23:return bi(i),bh(),e!==null&&G(Zs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ci(pe),null;case 25:return null;default:return null}}function E_(e,i){switch(fh(i),i.tag){case 3:Ci(pe),Wt();break;case 26:case 27:case 5:$e(i);break;case 4:Wt();break;case 13:bi(i);break;case 19:G(ve);break;case 10:Ci(i.type);break;case 22:case 23:bi(i),bh(),e!==null&&G(Zs);break;case 24:Ci(pe)}}function ml(e,i){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&e)===e){u=void 0;var g=l.create,p=l.inst;u=g(),p.destroy=u}l=l.next}while(l!==f)}}catch(E){qt(i,i.return,E)}}function rs(e,i,l){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&e)===e){var p=u.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,f=i;var w=l,k=E;try{k()}catch(V){qt(f,w,V)}}}u=u.next}while(u!==g)}}catch(V){qt(i,i.return,V)}}function x_(e){var i=e.updateQueue;if(i!==null){var l=e.stateNode;try{om(i,l)}catch(u){qt(e,e.return,u)}}}function S_(e,i,l){l.props=qs(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(u){qt(e,i,u)}}function _l(e,i){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof l=="function"?e.refCleanup=l(u):l.current=u}}catch(f){qt(e,i,f)}}function ci(e,i){var l=e.ref,u=e.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(f){qt(e,i,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){qt(e,i,f)}else l.current=null}function T_(e){var i=e.type,l=e.memoizedProps,u=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(f){qt(e,e.return,f)}}function tf(e,i,l){try{var u=e.stateNode;zE(u,e.type,l,i),u[At]=i}catch(f){qt(e,e.return,f)}}function C_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ds(e.type)||e.tag===4}function ef(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||C_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ds(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nf(e,i,l){var u=e.tag;if(u===5||u===6)e=e.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(e),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=_u));else if(u!==4&&(u===27&&ds(e.type)&&(l=e.stateNode,i=null),e=e.child,e!==null))for(nf(e,i,l),e=e.sibling;e!==null;)nf(e,i,l),e=e.sibling}function ru(e,i,l){var u=e.tag;if(u===5||u===6)e=e.stateNode,i?l.insertBefore(e,i):l.appendChild(e);else if(u!==4&&(u===27&&ds(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(ru(e,i,l),e=e.sibling;e!==null;)ru(e,i,l),e=e.sibling}function R_(e){var i=e.stateNode,l=e.memoizedProps;try{for(var u=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Ie(i,u,l),i[Qt]=e,i[At]=l}catch(g){qt(e,e.return,g)}}var Mi=!1,me=!1,sf=!1,b_=typeof WeakSet=="function"?WeakSet:Set,we=null;function mE(e,i){if(e=e.containerInfo,Af=Tu,e=G0(e),eh(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else t:{l=(l=e.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break t}var p=0,E=-1,w=-1,k=0,V=0,J=e,F=null;e:for(;;){for(var U;J!==l||f!==0&&J.nodeType!==3||(E=p+f),J!==g||u!==0&&J.nodeType!==3||(w=p+u),J.nodeType===3&&(p+=J.nodeValue.length),(U=J.firstChild)!==null;)F=J,J=U;for(;;){if(J===e)break e;if(F===l&&++k===f&&(E=p),F===g&&++V===u&&(w=p),(U=J.nextSibling)!==null)break;J=F,F=J.parentNode}J=U}l=E===-1||w===-1?null:{start:E,end:w}}else l=null}l=l||{start:0,end:0}}else l=null;for(Mf={focusedElem:e,selectionRange:l},Tu=!1,we=i;we!==null;)if(i=we,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,we=e;else for(;we!==null;){switch(i=we,g=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,l=i,f=g.memoizedProps,g=g.memoizedState,u=l.stateNode;try{var yt=qs(l.type,f,l.elementType===l.type);e=u.getSnapshotBeforeUpdate(yt,g),u.__reactInternalSnapshotBeforeUpdate=e}catch(mt){qt(l,l.return,mt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,l=e.nodeType,l===9)Lf(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Lf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,we=e;break}we=i.return}}function w_(e,i,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:as(e,l),u&4&&ml(5,l);break;case 1:if(as(e,l),u&4)if(e=l.stateNode,i===null)try{e.componentDidMount()}catch(p){qt(l,l.return,p)}else{var f=qs(l.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(f,i,e.__reactInternalSnapshotBeforeUpdate)}catch(p){qt(l,l.return,p)}}u&64&&x_(l),u&512&&_l(l,l.return);break;case 3:if(as(e,l),u&64&&(e=l.updateQueue,e!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{om(e,i)}catch(p){qt(l,l.return,p)}}break;case 27:i===null&&u&4&&R_(l);case 26:case 5:as(e,l),i===null&&u&4&&T_(l),u&512&&_l(l,l.return);break;case 12:as(e,l);break;case 13:as(e,l),u&4&&O_(e,l),u&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=CE.bind(null,l),XE(e,l))));break;case 22:if(u=l.memoizedState!==null||Mi,!u){i=i!==null&&i.memoizedState!==null||me,f=Mi;var g=me;Mi=u,(me=i)&&!g?ls(e,l,(l.subtreeFlags&8772)!==0):as(e,l),Mi=f,me=g}break;case 30:break;default:as(e,l)}}function A_(e){var i=e.alternate;i!==null&&(e.alternate=null,A_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&jc(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ne=null,sn=!1;function Oi(e,i,l){for(l=l.child;l!==null;)M_(e,i,l),l=l.sibling}function M_(e,i,l){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(vt,l)}catch{}switch(l.tag){case 26:me||ci(l,i),Oi(e,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:me||ci(l,i);var u=ne,f=sn;ds(l.type)&&(ne=l.stateNode,sn=!1),Oi(e,i,l),Rl(l.stateNode),ne=u,sn=f;break;case 5:me||ci(l,i);case 6:if(u=ne,f=sn,ne=null,Oi(e,i,l),ne=u,sn=f,ne!==null)if(sn)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(l.stateNode)}catch(g){qt(l,i,g)}else try{ne.removeChild(l.stateNode)}catch(g){qt(l,i,g)}break;case 18:ne!==null&&(sn?(e=ne,y1(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Nl(e)):y1(ne,l.stateNode));break;case 4:u=ne,f=sn,ne=l.stateNode.containerInfo,sn=!0,Oi(e,i,l),ne=u,sn=f;break;case 0:case 11:case 14:case 15:me||rs(2,l,i),me||rs(4,l,i),Oi(e,i,l);break;case 1:me||(ci(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"&&S_(l,i,u)),Oi(e,i,l);break;case 21:Oi(e,i,l);break;case 22:me=(u=me)||l.memoizedState!==null,Oi(e,i,l),me=u;break;default:Oi(e,i,l)}}function O_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Nl(e)}catch(l){qt(i,i.return,l)}}function _E(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new b_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new b_),i;default:throw Error(s(435,e.tag))}}function rf(e,i){var l=_E(e);i.forEach(function(u){var f=RE.bind(null,e,u);l.has(u)||(l.add(u),u.then(f,f))})}function Sn(e,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var f=l[u],g=e,p=i,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(ds(E.type)){ne=E.stateNode,sn=!1;break t}break;case 5:ne=E.stateNode,sn=!1;break t;case 3:case 4:ne=E.stateNode.containerInfo,sn=!0;break t}E=E.return}if(ne===null)throw Error(s(160));M_(g,p,f),ne=null,sn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)D_(i,e),i=i.sibling}var Zn=null;function D_(e,i){var l=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Sn(i,e),Tn(e),u&4&&(rs(3,e,e.return),ml(3,e),rs(5,e,e.return));break;case 1:Sn(i,e),Tn(e),u&512&&(me||l===null||ci(l,l.return)),u&64&&Mi&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var f=Zn;if(Sn(i,e),Tn(e),u&512&&(me||l===null||ci(l,l.return)),u&4){var g=l!==null?l.memoizedState:null;if(u=e.memoizedState,l===null)if(u===null)if(e.stateNode===null){t:{u=e.type,l=e.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Ua]||g[Qt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Ie(g,u,l),g[Qt]=e,Re(g),u=g;break t;case"link":var p=R1("link","href",f).get(u+(l.href||""));if(p){for(var E=0;E<p.length;E++)if(g=p[E],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){p.splice(E,1);break e}}g=f.createElement(u),Ie(g,u,l),f.head.appendChild(g);break;case"meta":if(p=R1("meta","content",f).get(u+(l.content||""))){for(E=0;E<p.length;E++)if(g=p[E],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){p.splice(E,1);break e}}g=f.createElement(u),Ie(g,u,l),f.head.appendChild(g);break;default:throw Error(s(468,u))}g[Qt]=e,Re(g),u=g}e.stateNode=u}else b1(f,e.type,e.stateNode);else e.stateNode=C1(f,u,e.memoizedProps);else g!==u?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,u===null?b1(f,e.type,e.stateNode):C1(f,u,e.memoizedProps)):u===null&&e.stateNode!==null&&tf(e,e.memoizedProps,l.memoizedProps)}break;case 27:Sn(i,e),Tn(e),u&512&&(me||l===null||ci(l,l.return)),l!==null&&u&4&&tf(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Sn(i,e),Tn(e),u&512&&(me||l===null||ci(l,l.return)),e.flags&32){f=e.stateNode;try{wr(f,"")}catch(U){qt(e,e.return,U)}}u&4&&e.stateNode!=null&&(f=e.memoizedProps,tf(e,f,l!==null?l.memoizedProps:f)),u&1024&&(sf=!0);break;case 6:if(Sn(i,e),Tn(e),u&4){if(e.stateNode===null)throw Error(s(162));u=e.memoizedProps,l=e.stateNode;try{l.nodeValue=u}catch(U){qt(e,e.return,U)}}break;case 3:if(Eu=null,f=Zn,Zn=pu(i.containerInfo),Sn(i,e),Zn=f,Tn(e),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Nl(i.containerInfo)}catch(U){qt(e,e.return,U)}sf&&(sf=!1,L_(e));break;case 4:u=Zn,Zn=pu(e.stateNode.containerInfo),Sn(i,e),Tn(e),Zn=u;break;case 12:Sn(i,e),Tn(e);break;case 13:Sn(i,e),Tn(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(hf=ie()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,rf(e,u)));break;case 22:f=e.memoizedState!==null;var w=l!==null&&l.memoizedState!==null,k=Mi,V=me;if(Mi=k||f,me=V||w,Sn(i,e),me=V,Mi=k,Tn(e),u&8192)t:for(i=e.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(l===null||w||Mi||me||Ws(e)),l=null,i=e;;){if(i.tag===5||i.tag===26){if(l===null){w=l=i;try{if(g=w.stateNode,f)p=g.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=w.stateNode;var J=w.memoizedProps.style,F=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(U){qt(w,w.return,U)}}}else if(i.tag===6){if(l===null){w=i;try{w.stateNode.nodeValue=f?"":w.memoizedProps}catch(U){qt(w,w.return,U)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=e.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,rf(e,l))));break;case 19:Sn(i,e),Tn(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,rf(e,u)));break;case 30:break;case 21:break;default:Sn(i,e),Tn(e)}}function Tn(e){var i=e.flags;if(i&2){try{for(var l,u=e.return;u!==null;){if(C_(u)){l=u;break}u=u.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var f=l.stateNode,g=ef(e);ru(e,g,f);break;case 5:var p=l.stateNode;l.flags&32&&(wr(p,""),l.flags&=-33);var E=ef(e);ru(e,E,p);break;case 3:case 4:var w=l.stateNode.containerInfo,k=ef(e);nf(e,k,w);break;default:throw Error(s(161))}}catch(V){qt(e,e.return,V)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function L_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;L_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function as(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)w_(e,i.alternate,i),i=i.sibling}function Ws(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:rs(4,i,i.return),Ws(i);break;case 1:ci(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&S_(i,i.return,l),Ws(i);break;case 27:Rl(i.stateNode);case 26:case 5:ci(i,i.return),Ws(i);break;case 22:i.memoizedState===null&&Ws(i);break;case 30:Ws(i);break;default:Ws(i)}e=e.sibling}}function ls(e,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=e,g=i,p=g.flags;switch(g.tag){case 0:case 11:case 15:ls(f,g,l),ml(4,g);break;case 1:if(ls(f,g,l),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(k){qt(u,u.return,k)}if(u=g,f=u.updateQueue,f!==null){var E=u.stateNode;try{var w=f.shared.hiddenCallbacks;if(w!==null)for(f.shared.hiddenCallbacks=null,f=0;f<w.length;f++)lm(w[f],E)}catch(k){qt(u,u.return,k)}}l&&p&64&&x_(g),_l(g,g.return);break;case 27:R_(g);case 26:case 5:ls(f,g,l),l&&u===null&&p&4&&T_(g),_l(g,g.return);break;case 12:ls(f,g,l);break;case 13:ls(f,g,l),l&&p&4&&O_(f,g);break;case 22:g.memoizedState===null&&ls(f,g,l),_l(g,g.return);break;case 30:break;default:ls(f,g,l)}i=i.sibling}}function af(e,i){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&el(l))}function lf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&el(e))}function hi(e,i,l,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)N_(e,i,l,u),i=i.sibling}function N_(e,i,l,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:hi(e,i,l,u),f&2048&&ml(9,i);break;case 1:hi(e,i,l,u);break;case 3:hi(e,i,l,u),f&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&el(e)));break;case 12:if(f&2048){hi(e,i,l,u),e=i.stateNode;try{var g=i.memoizedProps,p=g.id,E=g.onPostCommit;typeof E=="function"&&E(p,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){qt(i,i.return,w)}}else hi(e,i,l,u);break;case 13:hi(e,i,l,u);break;case 23:break;case 22:g=i.stateNode,p=i.alternate,i.memoizedState!==null?g._visibility&2?hi(e,i,l,u):yl(e,i):g._visibility&2?hi(e,i,l,u):(g._visibility|=2,Vr(e,i,l,u,(i.subtreeFlags&10256)!==0)),f&2048&&af(p,i);break;case 24:hi(e,i,l,u),f&2048&&lf(i.alternate,i);break;default:hi(e,i,l,u)}}function Vr(e,i,l,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=e,p=i,E=l,w=u,k=p.flags;switch(p.tag){case 0:case 11:case 15:Vr(g,p,E,w,f),ml(8,p);break;case 23:break;case 22:var V=p.stateNode;p.memoizedState!==null?V._visibility&2?Vr(g,p,E,w,f):yl(g,p):(V._visibility|=2,Vr(g,p,E,w,f)),f&&k&2048&&af(p.alternate,p);break;case 24:Vr(g,p,E,w,f),f&&k&2048&&lf(p.alternate,p);break;default:Vr(g,p,E,w,f)}i=i.sibling}}function yl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=e,u=i,f=u.flags;switch(u.tag){case 22:yl(l,u),f&2048&&af(u.alternate,u);break;case 24:yl(l,u),f&2048&&lf(u.alternate,u);break;default:yl(l,u)}i=i.sibling}}var pl=8192;function Zr(e){if(e.subtreeFlags&pl)for(e=e.child;e!==null;)I_(e),e=e.sibling}function I_(e){switch(e.tag){case 26:Zr(e),e.flags&pl&&e.memoizedState!==null&&ex(Zn,e.memoizedState,e.memoizedProps);break;case 5:Zr(e);break;case 3:case 4:var i=Zn;Zn=pu(e.stateNode.containerInfo),Zr(e),Zn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=pl,pl=16777216,Zr(e),pl=i):Zr(e));break;default:Zr(e)}}function z_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function vl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];we=u,G_(u,e)}z_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)j_(e),e=e.sibling}function j_(e){switch(e.tag){case 0:case 11:case 15:vl(e),e.flags&2048&&rs(9,e,e.return);break;case 3:vl(e);break;case 12:vl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,au(e)):vl(e);break;default:vl(e)}}function au(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];we=u,G_(u,e)}z_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:rs(8,i,i.return),au(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,au(i));break;default:au(i)}e=e.sibling}}function G_(e,i){for(;we!==null;){var l=we;switch(l.tag){case 0:case 11:case 15:rs(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:el(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,we=u;else t:for(l=e;we!==null;){u=we;var f=u.sibling,g=u.return;if(A_(u),u===l){we=null;break t}if(f!==null){f.return=g,we=f;break t}we=g}}}var yE={getCacheForType:function(e){var i=Ue(pe),l=i.data.get(e);return l===void 0&&(l=e(),i.data.set(e,l)),l}},pE=typeof WeakMap=="function"?WeakMap:Map,Xt=0,$t=null,Mt=null,Nt=0,Yt=0,Cn=null,os=!1,Kr=!1,of=!1,Di=0,ce=0,us=0,Qs=0,uf=0,jn=0,qr=0,El=null,rn=null,cf=!1,hf=0,lu=1/0,ou=null,cs=null,Ne=0,hs=null,Wr=null,Qr=0,ff=0,df=null,k_=null,xl=0,gf=null;function Rn(){if((Xt&2)!==0&&Nt!==0)return Nt&-Nt;if(O.T!==null){var e=kr;return e!==0?e:xf()}return pn()}function F_(){jn===0&&(jn=(Nt&536870912)===0||kt?Er():536870912);var e=zn.current;return e!==null&&(e.flags|=32),jn}function bn(e,i,l){(e===$t&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&($r(e,0),fs(e,Nt,jn,!1)),Hn(e,l),((Xt&2)===0||e!==$t)&&(e===$t&&((Xt&2)===0&&(Qs|=l),ce===4&&fs(e,Nt,jn,!1)),fi(e))}function U_(e,i,l){if((Xt&6)!==0)throw Error(s(327));var u=!l&&(i&124)===0&&(i&e.expiredLanes)===0||qi(e,i),f=u?xE(e,i):yf(e,i,!0),g=u;do{if(f===0){Kr&&!u&&fs(e,i,0,!1);break}else{if(l=e.current.alternate,g&&!vE(l)){f=yf(e,i,!1),g=!1;continue}if(f===2){if(g=i,e.errorRecoveryDisabledLanes&g)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){i=p;t:{var E=e;f=El;var w=E.current.memoizedState.isDehydrated;if(w&&($r(E,p).flags|=256),p=yf(E,p,!1),p!==2){if(of&&!w){E.errorRecoveryDisabledLanes|=g,Qs|=g,f=4;break t}g=rn,rn=f,g!==null&&(rn===null?rn=g:rn.push.apply(rn,g))}f=p}if(g=!1,f!==2)continue}}if(f===1){$r(e,0),fs(e,i,0,!0);break}t:{switch(u=e,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:fs(u,i,jn,!os);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=hf+300-ie(),10<f)){if(fs(u,i,jn,!os),Ki(u,0,!0)!==0)break t;u.timeoutHandle=m1(B_.bind(null,u,l,rn,ou,cf,i,jn,Qs,qr,os,g,2,-0,0),f);break t}B_(u,l,rn,ou,cf,i,jn,Qs,qr,os,g,0,-0,0)}}break}while(!0);fi(e)}function B_(e,i,l,u,f,g,p,E,w,k,V,J,F,U){if(e.timeoutHandle=-1,J=i.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Al={stylesheets:null,count:0,unsuspend:tx},I_(i),J=nx(),J!==null)){e.cancelPendingCommit=J(K_.bind(null,e,i,g,l,u,f,p,E,w,V,1,F,U)),fs(e,g,p,!k);return}K_(e,i,g,l,u,f,p,E,w)}function vE(e){for(var i=e;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var f=l[u],g=f.getSnapshot;f=f.value;try{if(!En(g(),f))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function fs(e,i,l,u){i&=~uf,i&=~Qs,e.suspendedLanes|=i,e.pingedLanes&=~i,u&&(e.warmLanes|=i),u=e.expirationTimes;for(var f=i;0<f;){var g=31-ke(f),p=1<<g;u[g]=-1,f&=~p}l!==0&&Fa(e,l,i)}function uu(){return(Xt&6)===0?(Sl(0),!1):!0}function mf(){if(Mt!==null){if(Yt===0)var e=Mt.return;else e=Mt,Ti=Ps=null,Dh(e),Hr=null,fl=0,e=Mt;for(;e!==null;)E_(e.alternate,e),e=e.return;Mt=null}}function $r(e,i){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,GE(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),mf(),$t=e,Mt=l=Ei(e.current,null),Nt=i,Yt=0,Cn=null,os=!1,Kr=qi(e,i),of=!1,qr=jn=uf=Qs=us=ce=0,rn=El=null,cf=!1,(i&8)!==0&&(i|=i&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=i;0<u;){var f=31-ke(u),g=1<<f;i|=e[f],u&=~g}return Di=i,Do(),l}function X_(e,i){bt=null,O.H=Wo,i===il||i===Uo?(i=rm(),Yt=3):i===nm?(i=rm(),Yt=4):Yt=i===a_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Cn=i,Mt===null&&(ce=1,eu(e,Dn(i,e.current)))}function Y_(){var e=O.H;return O.H=Wo,e===null?Wo:e}function H_(){var e=O.A;return O.A=yE,e}function _f(){ce=4,os||(Nt&4194048)!==Nt&&zn.current!==null||(Kr=!0),(us&134217727)===0&&(Qs&134217727)===0||$t===null||fs($t,Nt,jn,!1)}function yf(e,i,l){var u=Xt;Xt|=2;var f=Y_(),g=H_();($t!==e||Nt!==i)&&(ou=null,$r(e,i)),i=!1;var p=ce;t:do try{if(Yt!==0&&Mt!==null){var E=Mt,w=Cn;switch(Yt){case 8:mf(),p=6;break t;case 3:case 2:case 9:case 6:zn.current===null&&(i=!0);var k=Yt;if(Yt=0,Cn=null,Jr(e,E,w,k),l&&Kr){p=0;break t}break;default:k=Yt,Yt=0,Cn=null,Jr(e,E,w,k)}}EE(),p=ce;break}catch(V){X_(e,V)}while(!0);return i&&e.shellSuspendCounter++,Ti=Ps=null,Xt=u,O.H=f,O.A=g,Mt===null&&($t=null,Nt=0,Do()),p}function EE(){for(;Mt!==null;)P_(Mt)}function xE(e,i){var l=Xt;Xt|=2;var u=Y_(),f=H_();$t!==e||Nt!==i?(ou=null,lu=ie()+500,$r(e,i)):Kr=qi(e,i);t:do try{if(Yt!==0&&Mt!==null){i=Mt;var g=Cn;e:switch(Yt){case 1:Yt=0,Cn=null,Jr(e,i,g,1);break;case 2:case 9:if(im(g)){Yt=0,Cn=null,V_(i);break}i=function(){Yt!==2&&Yt!==9||$t!==e||(Yt=7),fi(e)},g.then(i,i);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:im(g)?(Yt=0,Cn=null,V_(i)):(Yt=0,Cn=null,Jr(e,i,g,7));break;case 5:var p=null;switch(Mt.tag){case 26:p=Mt.memoizedState;case 5:case 27:var E=Mt;if(!p||w1(p)){Yt=0,Cn=null;var w=E.sibling;if(w!==null)Mt=w;else{var k=E.return;k!==null?(Mt=k,cu(k)):Mt=null}break e}}Yt=0,Cn=null,Jr(e,i,g,5);break;case 6:Yt=0,Cn=null,Jr(e,i,g,6);break;case 8:mf(),ce=6;break t;default:throw Error(s(462))}}SE();break}catch(V){X_(e,V)}while(!0);return Ti=Ps=null,O.H=u,O.A=f,Xt=l,Mt!==null?0:($t=null,Nt=0,Do(),ce)}function SE(){for(;Mt!==null&&!Rt();)P_(Mt)}function P_(e){var i=p_(e.alternate,e,Di);e.memoizedProps=e.pendingProps,i===null?cu(e):Mt=i}function V_(e){var i=e,l=i.alternate;switch(i.tag){case 15:case 0:i=f_(l,i,i.pendingProps,i.type,void 0,Nt);break;case 11:i=f_(l,i,i.pendingProps,i.type.render,i.ref,Nt);break;case 5:Dh(i);default:E_(l,i),i=Mt=Z0(i,Di),i=p_(l,i,Di)}e.memoizedProps=e.pendingProps,i===null?cu(e):Mt=i}function Jr(e,i,l,u){Ti=Ps=null,Dh(i),Hr=null,fl=0;var f=i.return;try{if(hE(e,f,i,l,Nt)){ce=1,eu(e,Dn(l,e.current)),Mt=null;return}}catch(g){if(f!==null)throw Mt=f,g;ce=1,eu(e,Dn(l,e.current)),Mt=null;return}i.flags&32768?(kt||u===1?e=!0:Kr||(Nt&536870912)!==0?e=!1:(os=e=!0,(u===2||u===9||u===3||u===6)&&(u=zn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Z_(i,e)):cu(i)}function cu(e){var i=e;do{if((i.flags&32768)!==0){Z_(i,os);return}e=i.return;var l=dE(i.alternate,i,Di);if(l!==null){Mt=l;return}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=e}while(i!==null);ce===0&&(ce=5)}function Z_(e,i){do{var l=gE(e.alternate,e);if(l!==null){l.flags&=32767,Mt=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=l}while(e!==null);ce=6,Mt=null}function K_(e,i,l,u,f,g,p,E,w){e.cancelPendingCommit=null;do hu();while(Ne!==0);if((Xt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(g=i.lanes|i.childLanes,g|=ah,vo(e,l,g,p,E,w),e===$t&&(Mt=$t=null,Nt=0),Wr=i,hs=e,Qr=l,ff=g,df=f,k_=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,bE(_n,function(){return J_(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=O.T,O.T=null,f=P.p,P.p=2,p=Xt,Xt|=4;try{mE(e,i,l)}finally{Xt=p,P.p=f,O.T=u}}Ne=1,q_(),W_(),Q_()}}function q_(){if(Ne===1){Ne=0;var e=hs,i=Wr,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=O.T,O.T=null;var u=P.p;P.p=2;var f=Xt;Xt|=4;try{D_(i,e);var g=Mf,p=G0(e.containerInfo),E=g.focusedElem,w=g.selectionRange;if(p!==E&&E&&E.ownerDocument&&j0(E.ownerDocument.documentElement,E)){if(w!==null&&eh(E)){var k=w.start,V=w.end;if(V===void 0&&(V=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(V,E.value.length);else{var J=E.ownerDocument||document,F=J&&J.defaultView||window;if(F.getSelection){var U=F.getSelection(),yt=E.textContent.length,mt=Math.min(w.start,yt),Kt=w.end===void 0?mt:Math.min(w.end,yt);!U.extend&&mt>Kt&&(p=Kt,Kt=mt,mt=p);var I=z0(E,mt),D=z0(E,Kt);if(I&&D&&(U.rangeCount!==1||U.anchorNode!==I.node||U.anchorOffset!==I.offset||U.focusNode!==D.node||U.focusOffset!==D.offset)){var j=J.createRange();j.setStart(I.node,I.offset),U.removeAllRanges(),mt>Kt?(U.addRange(j),U.extend(D.node,D.offset)):(j.setEnd(D.node,D.offset),U.addRange(j))}}}}for(J=[],U=E;U=U.parentNode;)U.nodeType===1&&J.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var Q=J[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Tu=!!Af,Mf=Af=null}finally{Xt=f,P.p=u,O.T=l}}e.current=i,Ne=2}}function W_(){if(Ne===2){Ne=0;var e=hs,i=Wr,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=O.T,O.T=null;var u=P.p;P.p=2;var f=Xt;Xt|=4;try{w_(e,i.alternate,i)}finally{Xt=f,P.p=u,O.T=l}}Ne=3}}function Q_(){if(Ne===4||Ne===3){Ne=0,De();var e=hs,i=Wr,l=Qr,u=k_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ne=5:(Ne=0,Wr=hs=null,$_(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(cs=null),Fe(l),i=i.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(vt,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=O.T,f=P.p,P.p=2,O.T=null;try{for(var g=e.onRecoverableError,p=0;p<u.length;p++){var E=u[p];g(E.value,{componentStack:E.stack})}}finally{O.T=i,P.p=f}}(Qr&3)!==0&&hu(),fi(e),f=e.pendingLanes,(l&4194090)!==0&&(f&42)!==0?e===gf?xl++:(xl=0,gf=e):xl=0,Sl(0)}}function $_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,el(i)))}function hu(e){return q_(),W_(),Q_(),J_()}function J_(){if(Ne!==5)return!1;var e=hs,i=ff;ff=0;var l=Fe(Qr),u=O.T,f=P.p;try{P.p=32>l?32:l,O.T=null,l=df,df=null;var g=hs,p=Qr;if(Ne=0,Wr=hs=null,Qr=0,(Xt&6)!==0)throw Error(s(331));var E=Xt;if(Xt|=4,j_(g.current),N_(g,g.current,p,l),Xt=E,Sl(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(vt,g)}catch{}return!0}finally{P.p=f,O.T=u,$_(e,i)}}function t1(e,i,l){i=Dn(l,i),i=Ph(e.stateNode,i,2),e=es(e,i,2),e!==null&&(Hn(e,2),fi(e))}function qt(e,i,l){if(e.tag===3)t1(e,e,l);else for(;i!==null;){if(i.tag===3){t1(i,e,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(cs===null||!cs.has(u))){e=Dn(l,e),l=s_(2),u=es(i,l,2),u!==null&&(r_(l,u,i,e),Hn(u,2),fi(u));break}}i=i.return}}function pf(e,i,l){var u=e.pingCache;if(u===null){u=e.pingCache=new pE;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(l)||(of=!0,f.add(l),e=TE.bind(null,e,i,l),i.then(e,e))}function TE(e,i,l){var u=e.pingCache;u!==null&&u.delete(i),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,$t===e&&(Nt&l)===l&&(ce===4||ce===3&&(Nt&62914560)===Nt&&300>ie()-hf?(Xt&2)===0&&$r(e,0):uf|=l,qr===Nt&&(qr=0)),fi(e)}function e1(e,i){i===0&&(i=Wi()),e=Ir(e,i),e!==null&&(Hn(e,i),fi(e))}function CE(e){var i=e.memoizedState,l=0;i!==null&&(l=i.retryLane),e1(e,l)}function RE(e,i){var l=0;switch(e.tag){case 13:var u=e.stateNode,f=e.memoizedState;f!==null&&(l=f.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),e1(e,l)}function bE(e,i){return Ve(e,i)}var fu=null,ta=null,vf=!1,du=!1,Ef=!1,$s=0;function fi(e){e!==ta&&e.next===null&&(ta===null?fu=ta=e:ta=ta.next=e),du=!0,vf||(vf=!0,AE())}function Sl(e,i){if(!Ef&&du){Ef=!0;do for(var l=!1,u=fu;u!==null;){if(e!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var p=u.suspendedLanes,E=u.pingedLanes;g=(1<<31-ke(42|e)+1)-1,g&=f&~(p&~E),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,r1(u,g))}else g=Nt,g=Ki(u,u===$t?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||qi(u,g)||(l=!0,r1(u,g));u=u.next}while(l);Ef=!1}}function wE(){n1()}function n1(){du=vf=!1;var e=0;$s!==0&&(jE()&&(e=$s),$s=0);for(var i=ie(),l=null,u=fu;u!==null;){var f=u.next,g=i1(u,i);g===0?(u.next=null,l===null?fu=f:l.next=f,f===null&&(ta=l)):(l=u,(e!==0||(g&3)!==0)&&(du=!0)),u=f}Sl(e)}function i1(e,i){for(var l=e.suspendedLanes,u=e.pingedLanes,f=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var p=31-ke(g),E=1<<p,w=f[p];w===-1?((E&l)===0||(E&u)!==0)&&(f[p]=Ic(E,i)):w<=i&&(e.expiredLanes|=E),g&=~E}if(i=$t,l=Nt,l=Ki(e,e===i?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,l===0||e===i&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&Te(u),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||qi(e,l)){if(i=l&-l,i===e.callbackPriority)return i;switch(u!==null&&Te(u),Fe(l)){case 2:case 8:l=An;break;case 32:l=_n;break;case 268435456:l=se;break;default:l=_n}return u=s1.bind(null,e),l=Ve(l,u),e.callbackPriority=i,e.callbackNode=l,i}return u!==null&&u!==null&&Te(u),e.callbackPriority=2,e.callbackNode=null,2}function s1(e,i){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(hu()&&e.callbackNode!==l)return null;var u=Nt;return u=Ki(e,e===$t?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(U_(e,u,i),i1(e,ie()),e.callbackNode!=null&&e.callbackNode===l?s1.bind(null,e):null)}function r1(e,i){if(hu())return null;U_(e,i,!0)}function AE(){kE(function(){(Xt&6)!==0?Ve(ri,wE):n1()})}function xf(){return $s===0&&($s=Er()),$s}function a1(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Co(""+e)}function l1(e,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,e.id&&l.setAttribute("form",e.id),i.parentNode.insertBefore(l,i),e=new FormData(e),l.parentNode.removeChild(l),e}function ME(e,i,l,u,f){if(i==="submit"&&l&&l.stateNode===f){var g=a1((f[At]||null).action),p=u.submitter;p&&(i=(i=p[At]||null)?a1(i.formAction):p.getAttribute("formAction"),i!==null&&(g=i,p=null));var E=new Ao("action","action",null,u,f);e.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if($s!==0){var w=p?l1(f,p):new FormData(f);Uh(l,{pending:!0,data:w,method:f.method,action:g},null,w)}}else typeof g=="function"&&(E.preventDefault(),w=p?l1(f,p):new FormData(f),Uh(l,{pending:!0,data:w,method:f.method,action:g},g,w))},currentTarget:f}]})}}for(var Sf=0;Sf<rh.length;Sf++){var Tf=rh[Sf],OE=Tf.toLowerCase(),DE=Tf[0].toUpperCase()+Tf.slice(1);Vn(OE,"on"+DE)}Vn(U0,"onAnimationEnd"),Vn(B0,"onAnimationIteration"),Vn(X0,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(Kv,"onTransitionRun"),Vn(qv,"onTransitionStart"),Vn(Wv,"onTransitionCancel"),Vn(Y0,"onTransitionEnd"),Cr("onMouseEnter",["mouseout","mouseover"]),Cr("onMouseLeave",["mouseout","mouseover"]),Cr("onPointerEnter",["pointerout","pointerover"]),Cr("onPointerLeave",["pointerout","pointerover"]),js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),js("onBeforeInput",["compositionend","keypress","textInput","paste"]),js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function o1(e,i){i=(i&4)!==0;for(var l=0;l<e.length;l++){var u=e[l],f=u.event;u=u.listeners;t:{var g=void 0;if(i)for(var p=u.length-1;0<=p;p--){var E=u[p],w=E.instance,k=E.currentTarget;if(E=E.listener,w!==g&&f.isPropagationStopped())break t;g=E,f.currentTarget=k;try{g(f)}catch(V){tu(V)}f.currentTarget=null,g=w}else for(p=0;p<u.length;p++){if(E=u[p],w=E.instance,k=E.currentTarget,E=E.listener,w!==g&&f.isPropagationStopped())break t;g=E,f.currentTarget=k;try{g(f)}catch(V){tu(V)}f.currentTarget=null,g=w}}}}function Ot(e,i){var l=i[vn];l===void 0&&(l=i[vn]=new Set);var u=e+"__bubble";l.has(u)||(u1(i,e,2,!1),l.add(u))}function Cf(e,i,l){var u=0;i&&(u|=4),u1(l,e,u,i)}var gu="_reactListening"+Math.random().toString(36).slice(2);function Rf(e){if(!e[gu]){e[gu]=!0,n0.forEach(function(l){l!=="selectionchange"&&(LE.has(l)||Cf(l,!1,e),Cf(l,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[gu]||(i[gu]=!0,Cf("selectionchange",!1,i))}}function u1(e,i,l,u){switch(N1(i)){case 2:var f=rx;break;case 8:f=ax;break;default:f=Ff}l=f.bind(null,i,l,e),f=void 0,!Vc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?e.addEventListener(i,l,{capture:!0,passive:f}):e.addEventListener(i,l,!0):f!==void 0?e.addEventListener(i,l,{passive:f}):e.addEventListener(i,l,!1)}function bf(e,i,l,u,f){var g=u;if((i&1)===0&&(i&2)===0&&u!==null)t:for(;;){if(u===null)return;var p=u.tag;if(p===3||p===4){var E=u.stateNode.containerInfo;if(E===f)break;if(p===4)for(p=u.return;p!==null;){var w=p.tag;if((w===3||w===4)&&p.stateNode.containerInfo===f)return;p=p.return}for(;E!==null;){if(p=xr(E),p===null)return;if(w=p.tag,w===5||w===6||w===26||w===27){u=g=p;continue t}E=E.parentNode}}u=u.return}_0(function(){var k=g,V=Hc(l),J=[];t:{var F=H0.get(e);if(F!==void 0){var U=Ao,yt=e;switch(e){case"keypress":if(bo(l)===0)break t;case"keydown":case"keyup":U=bv;break;case"focusin":yt="focus",U=Wc;break;case"focusout":yt="blur",U=Wc;break;case"beforeblur":case"afterblur":U=Wc;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=v0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=gv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Mv;break;case U0:case B0:case X0:U=yv;break;case Y0:U=Dv;break;case"scroll":case"scrollend":U=fv;break;case"wheel":U=Nv;break;case"copy":case"cut":case"paste":U=vv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=x0;break;case"toggle":case"beforetoggle":U=zv}var mt=(i&4)!==0,Kt=!mt&&(e==="scroll"||e==="scrollend"),I=mt?F!==null?F+"Capture":null:F;mt=[];for(var D=k,j;D!==null;){var Q=D;if(j=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||j===null||I===null||(Q=Xa(D,I),Q!=null&&mt.push(Cl(D,Q,j))),Kt)break;D=D.return}0<mt.length&&(F=new U(F,yt,null,l,V),J.push({event:F,listeners:mt}))}}if((i&7)===0){t:{if(F=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",F&&l!==Yc&&(yt=l.relatedTarget||l.fromElement)&&(xr(yt)||yt[oe]))break t;if((U||F)&&(F=V.window===V?V:(F=V.ownerDocument)?F.defaultView||F.parentWindow:window,U?(yt=l.relatedTarget||l.toElement,U=k,yt=yt?xr(yt):null,yt!==null&&(Kt=o(yt),mt=yt.tag,yt!==Kt||mt!==5&&mt!==27&&mt!==6)&&(yt=null)):(U=null,yt=k),U!==yt)){if(mt=v0,Q="onMouseLeave",I="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(mt=x0,Q="onPointerLeave",I="onPointerEnter",D="pointer"),Kt=U==null?F:Ba(U),j=yt==null?F:Ba(yt),F=new mt(Q,D+"leave",U,l,V),F.target=Kt,F.relatedTarget=j,Q=null,xr(V)===k&&(mt=new mt(I,D+"enter",yt,l,V),mt.target=j,mt.relatedTarget=Kt,Q=mt),Kt=Q,U&&yt)e:{for(mt=U,I=yt,D=0,j=mt;j;j=ea(j))D++;for(j=0,Q=I;Q;Q=ea(Q))j++;for(;0<D-j;)mt=ea(mt),D--;for(;0<j-D;)I=ea(I),j--;for(;D--;){if(mt===I||I!==null&&mt===I.alternate)break e;mt=ea(mt),I=ea(I)}mt=null}else mt=null;U!==null&&c1(J,F,U,mt,!1),yt!==null&&Kt!==null&&c1(J,Kt,yt,mt,!0)}}t:{if(F=k?Ba(k):window,U=F.nodeName&&F.nodeName.toLowerCase(),U==="select"||U==="input"&&F.type==="file")var ut=M0;else if(w0(F))if(O0)ut=Pv;else{ut=Yv;var wt=Xv}else U=F.nodeName,!U||U.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?k&&Xc(k.elementType)&&(ut=M0):ut=Hv;if(ut&&(ut=ut(e,k))){A0(J,ut,l,V);break t}wt&&wt(e,F,k),e==="focusout"&&k&&F.type==="number"&&k.memoizedProps.value!=null&&Bc(F,"number",F.value)}switch(wt=k?Ba(k):window,e){case"focusin":(w0(wt)||wt.contentEditable==="true")&&(Dr=wt,nh=k,Wa=null);break;case"focusout":Wa=nh=Dr=null;break;case"mousedown":ih=!0;break;case"contextmenu":case"mouseup":case"dragend":ih=!1,k0(J,l,V);break;case"selectionchange":if(Zv)break;case"keydown":case"keyup":k0(J,l,V)}var ft;if($c)t:{switch(e){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Or?R0(e,l)&&(_t="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(_t="onCompositionStart");_t&&(S0&&l.locale!=="ko"&&(Or||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Or&&(ft=y0()):(Qi=V,Zc="value"in Qi?Qi.value:Qi.textContent,Or=!0)),wt=mu(k,_t),0<wt.length&&(_t=new E0(_t,e,null,l,V),J.push({event:_t,listeners:wt}),ft?_t.data=ft:(ft=b0(l),ft!==null&&(_t.data=ft)))),(ft=Gv?kv(e,l):Fv(e,l))&&(_t=mu(k,"onBeforeInput"),0<_t.length&&(wt=new E0("onBeforeInput","beforeinput",null,l,V),J.push({event:wt,listeners:_t}),wt.data=ft)),ME(J,e,k,l,V)}o1(J,i)})}function Cl(e,i,l){return{instance:e,listener:i,currentTarget:l}}function mu(e,i){for(var l=i+"Capture",u=[];e!==null;){var f=e,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Xa(e,l),f!=null&&u.unshift(Cl(e,f,g)),f=Xa(e,i),f!=null&&u.push(Cl(e,f,g))),e.tag===3)return u;e=e.return}return[]}function ea(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function c1(e,i,l,u,f){for(var g=i._reactName,p=[];l!==null&&l!==u;){var E=l,w=E.alternate,k=E.stateNode;if(E=E.tag,w!==null&&w===u)break;E!==5&&E!==26&&E!==27||k===null||(w=k,f?(k=Xa(l,g),k!=null&&p.unshift(Cl(l,k,w))):f||(k=Xa(l,g),k!=null&&p.push(Cl(l,k,w)))),l=l.return}p.length!==0&&e.push({event:i,listeners:p})}var NE=/\r\n?/g,IE=/\u0000|\uFFFD/g;function h1(e){return(typeof e=="string"?e:""+e).replace(NE,`
`).replace(IE,"")}function f1(e,i){return i=h1(i),h1(e)===i}function _u(){}function Zt(e,i,l,u,f,g){switch(l){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||wr(e,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&wr(e,""+u);break;case"className":xo(e,"class",u);break;case"tabIndex":xo(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":xo(e,l,u);break;case"style":g0(e,u,g);break;case"data":if(i!=="object"){xo(e,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||l!=="href")){e.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(l);break}u=Co(""+u),e.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(i!=="input"&&Zt(e,i,"name",f.name,f,null),Zt(e,i,"formEncType",f.formEncType,f,null),Zt(e,i,"formMethod",f.formMethod,f,null),Zt(e,i,"formTarget",f.formTarget,f,null)):(Zt(e,i,"encType",f.encType,f,null),Zt(e,i,"method",f.method,f,null),Zt(e,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(l);break}u=Co(""+u),e.setAttribute(l,u);break;case"onClick":u!=null&&(e.onclick=_u);break;case"onScroll":u!=null&&Ot("scroll",e);break;case"onScrollEnd":u!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}l=Co(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(l,""+u):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":u===!0?e.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(l,u):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(l,u):e.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(l):e.setAttribute(l,u);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),Eo(e,"popover",u);break;case"xlinkActuate":pi(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":pi(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":pi(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":pi(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":pi(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":pi(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":pi(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":pi(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":pi(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Eo(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=cv.get(l)||l,Eo(e,l,u))}}function wf(e,i,l,u,f,g){switch(l){case"style":g0(e,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"children":typeof u=="string"?wr(e,u):(typeof u=="number"||typeof u=="bigint")&&wr(e,""+u);break;case"onScroll":u!=null&&Ot("scroll",e);break;case"onScrollEnd":u!=null&&Ot("scrollend",e);break;case"onClick":u!=null&&(e.onclick=_u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!i0.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),i=l.slice(2,f?l.length-7:void 0),g=e[At]||null,g=g!=null?g[l]:null,typeof g=="function"&&e.removeEventListener(i,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(i,u,f);break t}l in e?e[l]=u:u===!0?e.setAttribute(l,""):Eo(e,l,u)}}}function Ie(e,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var u=!1,f=!1,g;for(g in l)if(l.hasOwnProperty(g)){var p=l[g];if(p!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Zt(e,i,g,p,l,null)}}f&&Zt(e,i,"srcSet",l.srcSet,l,null),u&&Zt(e,i,"src",l.src,l,null);return;case"input":Ot("invalid",e);var E=g=p=f=null,w=null,k=null;for(u in l)if(l.hasOwnProperty(u)){var V=l[u];if(V!=null)switch(u){case"name":f=V;break;case"type":p=V;break;case"checked":w=V;break;case"defaultChecked":k=V;break;case"value":g=V;break;case"defaultValue":E=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,i));break;default:Zt(e,i,u,V,l,null)}}c0(e,g,E,w,k,p,f,!1),So(e);return;case"select":Ot("invalid",e),u=p=g=null;for(f in l)if(l.hasOwnProperty(f)&&(E=l[f],E!=null))switch(f){case"value":g=E;break;case"defaultValue":p=E;break;case"multiple":u=E;default:Zt(e,i,f,E,l,null)}i=g,l=p,e.multiple=!!u,i!=null?br(e,!!u,i,!1):l!=null&&br(e,!!u,l,!0);return;case"textarea":Ot("invalid",e),g=f=u=null;for(p in l)if(l.hasOwnProperty(p)&&(E=l[p],E!=null))switch(p){case"value":u=E;break;case"defaultValue":f=E;break;case"children":g=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Zt(e,i,p,E,l,null)}f0(e,u,f,g),So(e);return;case"option":for(w in l)if(l.hasOwnProperty(w)&&(u=l[w],u!=null))switch(w){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Zt(e,i,w,u,l,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(u=0;u<Tl.length;u++)Ot(Tl[u],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in l)if(l.hasOwnProperty(k)&&(u=l[k],u!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Zt(e,i,k,u,l,null)}return;default:if(Xc(i)){for(V in l)l.hasOwnProperty(V)&&(u=l[V],u!==void 0&&wf(e,i,V,u,l,void 0));return}}for(E in l)l.hasOwnProperty(E)&&(u=l[E],u!=null&&Zt(e,i,E,u,l,null))}function zE(e,i,l,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,p=null,E=null,w=null,k=null,V=null;for(U in l){var J=l[U];if(l.hasOwnProperty(U)&&J!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":w=J;default:u.hasOwnProperty(U)||Zt(e,i,U,null,u,J)}}for(var F in u){var U=u[F];if(J=l[F],u.hasOwnProperty(F)&&(U!=null||J!=null))switch(F){case"type":g=U;break;case"name":f=U;break;case"checked":k=U;break;case"defaultChecked":V=U;break;case"value":p=U;break;case"defaultValue":E=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,i));break;default:U!==J&&Zt(e,i,F,U,u,J)}}Uc(e,p,E,w,k,V,g,f);return;case"select":U=p=E=F=null;for(g in l)if(w=l[g],l.hasOwnProperty(g)&&w!=null)switch(g){case"value":break;case"multiple":U=w;default:u.hasOwnProperty(g)||Zt(e,i,g,null,u,w)}for(f in u)if(g=u[f],w=l[f],u.hasOwnProperty(f)&&(g!=null||w!=null))switch(f){case"value":F=g;break;case"defaultValue":E=g;break;case"multiple":p=g;default:g!==w&&Zt(e,i,f,g,u,w)}i=E,l=p,u=U,F!=null?br(e,!!l,F,!1):!!u!=!!l&&(i!=null?br(e,!!l,i,!0):br(e,!!l,l?[]:"",!1));return;case"textarea":U=F=null;for(E in l)if(f=l[E],l.hasOwnProperty(E)&&f!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,i,E,null,u,f)}for(p in u)if(f=u[p],g=l[p],u.hasOwnProperty(p)&&(f!=null||g!=null))switch(p){case"value":F=f;break;case"defaultValue":U=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&Zt(e,i,p,f,u,g)}h0(e,F,U);return;case"option":for(var yt in l)if(F=l[yt],l.hasOwnProperty(yt)&&F!=null&&!u.hasOwnProperty(yt))switch(yt){case"selected":e.selected=!1;break;default:Zt(e,i,yt,null,u,F)}for(w in u)if(F=u[w],U=l[w],u.hasOwnProperty(w)&&F!==U&&(F!=null||U!=null))switch(w){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Zt(e,i,w,F,u,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in l)F=l[mt],l.hasOwnProperty(mt)&&F!=null&&!u.hasOwnProperty(mt)&&Zt(e,i,mt,null,u,F);for(k in u)if(F=u[k],U=l[k],u.hasOwnProperty(k)&&F!==U&&(F!=null||U!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Zt(e,i,k,F,u,U)}return;default:if(Xc(i)){for(var Kt in l)F=l[Kt],l.hasOwnProperty(Kt)&&F!==void 0&&!u.hasOwnProperty(Kt)&&wf(e,i,Kt,void 0,u,F);for(V in u)F=u[V],U=l[V],!u.hasOwnProperty(V)||F===U||F===void 0&&U===void 0||wf(e,i,V,F,u,U);return}}for(var I in l)F=l[I],l.hasOwnProperty(I)&&F!=null&&!u.hasOwnProperty(I)&&Zt(e,i,I,null,u,F);for(J in u)F=u[J],U=l[J],!u.hasOwnProperty(J)||F===U||F==null&&U==null||Zt(e,i,J,F,u,U)}var Af=null,Mf=null;function yu(e){return e.nodeType===9?e:e.ownerDocument}function d1(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g1(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Of(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Df=null;function jE(){var e=window.event;return e&&e.type==="popstate"?e===Df?!1:(Df=e,!0):(Df=null,!1)}var m1=typeof setTimeout=="function"?setTimeout:void 0,GE=typeof clearTimeout=="function"?clearTimeout:void 0,_1=typeof Promise=="function"?Promise:void 0,kE=typeof queueMicrotask=="function"?queueMicrotask:typeof _1<"u"?function(e){return _1.resolve(null).then(e).catch(FE)}:m1;function FE(e){setTimeout(function(){throw e})}function ds(e){return e==="head"}function y1(e,i){var l=i,u=0,f=0;do{var g=l.nextSibling;if(e.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(0<u&&8>u){l=u;var p=e.ownerDocument;if(l&1&&Rl(p.documentElement),l&2&&Rl(p.body),l&4)for(l=p.head,Rl(l),p=l.firstChild;p;){var E=p.nextSibling,w=p.nodeName;p[Ua]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=E}}if(f===0){e.removeChild(g),Nl(i);return}f--}else l==="$"||l==="$?"||l==="$!"?f++:u=l.charCodeAt(0)-48;else u=0;l=g}while(l);Nl(i)}function Lf(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Lf(l),jc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function UE(e,i,l,u){for(;e.nodeType===1;){var f=l;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[Ua])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=Kn(e.nextSibling),e===null)break}return null}function BE(e,i,l){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Kn(e.nextSibling),e===null))return null;return e}function Nf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function XE(e,i){var l=e.ownerDocument;if(e.data!=="$?"||l.readyState==="complete")i();else{var u=function(){i(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function Kn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var If=null;function p1(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return e;i--}else l==="/$"&&i++}e=e.previousSibling}return null}function v1(e,i,l){switch(i=yu(l),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Rl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);jc(e)}var Gn=new Map,E1=new Set;function pu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Li=P.d;P.d={f:YE,r:HE,D:PE,C:VE,L:ZE,m:KE,X:WE,S:qE,M:QE};function YE(){var e=Li.f(),i=uu();return e||i}function HE(e){var i=Sr(e);i!==null&&i.tag===5&&i.type==="form"?Um(i):Li.r(e)}var na=typeof document>"u"?null:document;function x1(e,i,l){var u=na;if(u&&typeof i=="string"&&i){var f=On(i);f='link[rel="'+e+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),E1.has(f)||(E1.add(f),e={rel:e,crossOrigin:l,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),Ie(i,"link",e),Re(i),u.head.appendChild(i)))}}function PE(e){Li.D(e),x1("dns-prefetch",e,null)}function VE(e,i){Li.C(e,i),x1("preconnect",e,i)}function ZE(e,i,l){Li.L(e,i,l);var u=na;if(u&&e&&i){var f='link[rel="preload"][as="'+On(i)+'"]';i==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+On(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+On(l.imageSizes)+'"]')):f+='[href="'+On(e)+'"]';var g=f;switch(i){case"style":g=ia(e);break;case"script":g=sa(e)}Gn.has(g)||(e=_({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:e,as:i},l),Gn.set(g,e),u.querySelector(f)!==null||i==="style"&&u.querySelector(bl(g))||i==="script"&&u.querySelector(wl(g))||(i=u.createElement("link"),Ie(i,"link",e),Re(i),u.head.appendChild(i)))}}function KE(e,i){Li.m(e,i);var l=na;if(l&&e){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+On(u)+'"][href="'+On(e)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=sa(e)}if(!Gn.has(g)&&(e=_({rel:"modulepreload",href:e},i),Gn.set(g,e),l.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(wl(g)))return}u=l.createElement("link"),Ie(u,"link",e),Re(u),l.head.appendChild(u)}}}function qE(e,i,l){Li.S(e,i,l);var u=na;if(u&&e){var f=Tr(u).hoistableStyles,g=ia(e);i=i||"default";var p=f.get(g);if(!p){var E={loading:0,preload:null};if(p=u.querySelector(bl(g)))E.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":i},l),(l=Gn.get(g))&&zf(e,l);var w=p=u.createElement("link");Re(w),Ie(w,"link",e),w._p=new Promise(function(k,V){w.onload=k,w.onerror=V}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,vu(p,i,u)}p={type:"stylesheet",instance:p,count:1,state:E},f.set(g,p)}}}function WE(e,i){Li.X(e,i);var l=na;if(l&&e){var u=Tr(l).hoistableScripts,f=sa(e),g=u.get(f);g||(g=l.querySelector(wl(f)),g||(e=_({src:e,async:!0},i),(i=Gn.get(f))&&jf(e,i),g=l.createElement("script"),Re(g),Ie(g,"link",e),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function QE(e,i){Li.M(e,i);var l=na;if(l&&e){var u=Tr(l).hoistableScripts,f=sa(e),g=u.get(f);g||(g=l.querySelector(wl(f)),g||(e=_({src:e,async:!0,type:"module"},i),(i=Gn.get(f))&&jf(e,i),g=l.createElement("script"),Re(g),Ie(g,"link",e),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function S1(e,i,l,u){var f=(f=ct.current)?pu(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=ia(l.href),l=Tr(f).hoistableStyles,u=l.get(i),u||(u={type:"style",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=ia(l.href);var g=Tr(f).hoistableStyles,p=g.get(e);if(p||(f=f.ownerDocument||f,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,p),(g=f.querySelector(bl(e)))&&!g._p&&(p.instance=g,p.state.loading=5),Gn.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Gn.set(e,l),g||$E(f,e,l,p.state))),i&&u===null)throw Error(s(528,""));return p}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=sa(l),l=Tr(f).hoistableScripts,u=l.get(i),u||(u={type:"script",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ia(e){return'href="'+On(e)+'"'}function bl(e){return'link[rel="stylesheet"]['+e+"]"}function T1(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function $E(e,i,l,u){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=e.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Ie(i,"link",l),Re(i),e.head.appendChild(i))}function sa(e){return'[src="'+On(e)+'"]'}function wl(e){return"script[async]"+e}function C1(e,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var u=e.querySelector('style[data-href~="'+On(l.href)+'"]');if(u)return i.instance=u,Re(u),u;var f=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),Re(u),Ie(u,"style",f),vu(u,l.precedence,e),i.instance=u;case"stylesheet":f=ia(l.href);var g=e.querySelector(bl(f));if(g)return i.state.loading|=4,i.instance=g,Re(g),g;u=T1(l),(f=Gn.get(f))&&zf(u,f),g=(e.ownerDocument||e).createElement("link"),Re(g);var p=g;return p._p=new Promise(function(E,w){p.onload=E,p.onerror=w}),Ie(g,"link",u),i.state.loading|=4,vu(g,l.precedence,e),i.instance=g;case"script":return g=sa(l.src),(f=e.querySelector(wl(g)))?(i.instance=f,Re(f),f):(u=l,(f=Gn.get(g))&&(u=_({},l),jf(u,f)),e=e.ownerDocument||e,f=e.createElement("script"),Re(f),Ie(f,"link",u),e.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,vu(u,l.precedence,e));return i.instance}function vu(e,i,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,p=0;p<u.length;p++){var E=u[p];if(E.dataset.precedence===i)g=E;else if(g!==f)break}g?g.parentNode.insertBefore(e,g.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(e,i.firstChild))}function zf(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function jf(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Eu=null;function R1(e,i,l){if(Eu===null){var u=new Map,f=Eu=new Map;f.set(l,u)}else f=Eu,u=f.get(l),u||(u=new Map,f.set(l,u));if(u.has(e))return u;for(u.set(e,null),l=l.getElementsByTagName(e),f=0;f<l.length;f++){var g=l[f];if(!(g[Ua]||g[Qt]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var p=g.getAttribute(i)||"";p=e+p;var E=u.get(p);E?E.push(g):u.set(p,[g])}}return u}function b1(e,i,l){e=e.ownerDocument||e,e.head.insertBefore(l,i==="title"?e.querySelector("head > title"):null)}function JE(e,i,l){if(l===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function w1(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Al=null;function tx(){}function ex(e,i,l){if(Al===null)throw Error(s(475));var u=Al;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=ia(l.href),g=e.querySelector(bl(f));if(g){e=g._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(u.count++,u=xu.bind(u),e.then(u,u)),i.state.loading|=4,i.instance=g,Re(g);return}g=e.ownerDocument||e,l=T1(l),(f=Gn.get(f))&&zf(l,f),g=g.createElement("link"),Re(g);var p=g;p._p=new Promise(function(E,w){p.onload=E,p.onerror=w}),Ie(g,"link",l),i.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=xu.bind(u),e.addEventListener("load",i),e.addEventListener("error",i))}}function nx(){if(Al===null)throw Error(s(475));var e=Al;return e.stylesheets&&e.count===0&&Gf(e,e.stylesheets),0<e.count?function(i){var l=setTimeout(function(){if(e.stylesheets&&Gf(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(l)}}:null}function xu(){if(this.count--,this.count===0){if(this.stylesheets)Gf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Su=null;function Gf(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Su=new Map,i.forEach(ix,e),Su=null,xu.call(e))}function ix(e,i){if(!(i.state.loading&4)){var l=Su.get(e);if(l)var u=l.get(null);else{l=new Map,Su.set(e,l);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var p=f[g];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(l.set(p.dataset.precedence,p),u=p)}u&&l.set(null,u)}f=i.instance,p=f.getAttribute("data-precedence"),g=l.get(p)||u,g===u&&l.set(null,f),l.set(p,f),this.count++,u=xu.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),i.state.loading|=4}}var Ml={$$typeof:z,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function sx(e,i,l,u,f,g,p,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function A1(e,i,l,u,f,g,p,E,w,k,V,J){return e=new sx(e,i,l,p,E,w,k,J),i=1,g===!0&&(i|=24),g=xn(3,null,null,i),e.current=g,g.stateNode=e,i=yh(),i.refCount++,e.pooledCache=i,i.refCount++,g.memoizedState={element:u,isDehydrated:l,cache:i},xh(g),e}function M1(e){return e?(e=zr,e):zr}function O1(e,i,l,u,f,g){f=M1(f),u.context===null?u.context=f:u.pendingContext=f,u=ts(i),u.payload={element:l},g=g===void 0?null:g,g!==null&&(u.callback=g),l=es(e,u,i),l!==null&&(bn(l,e,i),rl(l,e,i))}function D1(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<i?l:i}}function kf(e,i){D1(e,i),(e=e.alternate)&&D1(e,i)}function L1(e){if(e.tag===13){var i=Ir(e,67108864);i!==null&&bn(i,e,67108864),kf(e,67108864)}}var Tu=!0;function rx(e,i,l,u){var f=O.T;O.T=null;var g=P.p;try{P.p=2,Ff(e,i,l,u)}finally{P.p=g,O.T=f}}function ax(e,i,l,u){var f=O.T;O.T=null;var g=P.p;try{P.p=8,Ff(e,i,l,u)}finally{P.p=g,O.T=f}}function Ff(e,i,l,u){if(Tu){var f=Uf(u);if(f===null)bf(e,i,u,Cu,l),I1(e,u);else if(ox(f,e,i,l,u))u.stopPropagation();else if(I1(e,u),i&4&&-1<lx.indexOf(e)){for(;f!==null;){var g=Sr(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var p=li(g.pendingLanes);if(p!==0){var E=g;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var w=1<<31-ke(p);E.entanglements[1]|=w,p&=~w}fi(g),(Xt&6)===0&&(lu=ie()+500,Sl(0))}}break;case 13:E=Ir(g,2),E!==null&&bn(E,g,2),uu(),kf(g,2)}if(g=Uf(u),g===null&&bf(e,i,u,Cu,l),g===f)break;f=g}f!==null&&u.stopPropagation()}else bf(e,i,u,null,l)}}function Uf(e){return e=Hc(e),Bf(e)}var Cu=null;function Bf(e){if(Cu=null,e=xr(e),e!==null){var i=o(e);if(i===null)e=null;else{var l=i.tag;if(l===13){if(e=c(i),e!==null)return e;e=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Cu=e,null}function N1(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(si()){case ri:return 2;case An:return 8;case _n:case ai:return 32;case se:return 268435456;default:return 32}default:return 32}}var Xf=!1,gs=null,ms=null,_s=null,Ol=new Map,Dl=new Map,ys=[],lx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I1(e,i){switch(e){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":Ol.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(i.pointerId)}}function Ll(e,i,l,u,f,g){return e===null||e.nativeEvent!==g?(e={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},i!==null&&(i=Sr(i),i!==null&&L1(i)),e):(e.eventSystemFlags|=u,i=e.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),e)}function ox(e,i,l,u,f){switch(i){case"focusin":return gs=Ll(gs,e,i,l,u,f),!0;case"dragenter":return ms=Ll(ms,e,i,l,u,f),!0;case"mouseover":return _s=Ll(_s,e,i,l,u,f),!0;case"pointerover":var g=f.pointerId;return Ol.set(g,Ll(Ol.get(g)||null,e,i,l,u,f)),!0;case"gotpointercapture":return g=f.pointerId,Dl.set(g,Ll(Dl.get(g)||null,e,i,l,u,f)),!0}return!1}function z1(e){var i=xr(e.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){e.blockedOn=i,tn(e.priority,function(){if(l.tag===13){var u=Rn();u=Pn(u);var f=Ir(l,u);f!==null&&bn(f,l,u),kf(l,u)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ru(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var l=Uf(e.nativeEvent);if(l===null){l=e.nativeEvent;var u=new l.constructor(l.type,l);Yc=u,l.target.dispatchEvent(u),Yc=null}else return i=Sr(l),i!==null&&L1(i),e.blockedOn=l,!1;i.shift()}return!0}function j1(e,i,l){Ru(e)&&l.delete(i)}function ux(){Xf=!1,gs!==null&&Ru(gs)&&(gs=null),ms!==null&&Ru(ms)&&(ms=null),_s!==null&&Ru(_s)&&(_s=null),Ol.forEach(j1),Dl.forEach(j1)}function bu(e,i){e.blockedOn===i&&(e.blockedOn=null,Xf||(Xf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ux)))}var wu=null;function G1(e){wu!==e&&(wu=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wu===e&&(wu=null);for(var i=0;i<e.length;i+=3){var l=e[i],u=e[i+1],f=e[i+2];if(typeof u!="function"){if(Bf(u||l)===null)continue;break}var g=Sr(l);g!==null&&(e.splice(i,3),i-=3,Uh(g,{pending:!0,data:f,method:l.method,action:u},u,f))}}))}function Nl(e){function i(w){return bu(w,e)}gs!==null&&bu(gs,e),ms!==null&&bu(ms,e),_s!==null&&bu(_s,e),Ol.forEach(i),Dl.forEach(i);for(var l=0;l<ys.length;l++){var u=ys[l];u.blockedOn===e&&(u.blockedOn=null)}for(;0<ys.length&&(l=ys[0],l.blockedOn===null);)z1(l),l.blockedOn===null&&ys.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var f=l[u],g=l[u+1],p=f[At]||null;if(typeof g=="function")p||G1(l);else if(p){var E=null;if(g&&g.hasAttribute("formAction")){if(f=g,p=g[At]||null)E=p.formAction;else if(Bf(f)!==null)continue}else E=p.action;typeof E=="function"?l[u+1]=E:(l.splice(u,3),u-=3),G1(l)}}}function Yf(e){this._internalRoot=e}Au.prototype.render=Yf.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var l=i.current,u=Rn();O1(l,u,e,i,null,null)},Au.prototype.unmount=Yf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;O1(e.current,2,null,e,null,null),uu(),i[oe]=null}};function Au(e){this._internalRoot=e}Au.prototype.unstable_scheduleHydration=function(e){if(e){var i=pn();e={blockedOn:null,target:e,priority:i};for(var l=0;l<ys.length&&i!==0&&i<ys[l].priority;l++);ys.splice(l,0,e),l===0&&z1(e)}};var k1=t.version;if(k1!=="19.1.1")throw Error(s(527,k1,"19.1.1"));P.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=d(i),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var cx={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{vt=Mu.inject(cx),Jt=Mu}catch{}}return zl.createRoot=function(e,i){if(!a(e))throw Error(s(299));var l=!1,u="",f=t_,g=e_,p=n_,E=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=A1(e,1,!1,null,null,l,u,f,g,p,E,null),e[oe]=i.current,Rf(e),new Yf(i)},zl.hydrateRoot=function(e,i,l){if(!a(e))throw Error(s(299));var u=!1,f="",g=t_,p=e_,E=n_,w=null,k=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(p=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(w=l.unstable_transitionCallbacks),l.formState!==void 0&&(k=l.formState)),i=A1(e,1,!0,i,l??null,u,f,g,p,E,w,k),i.context=M1(null),l=i.current,u=Rn(),u=Pn(u),f=ts(u),f.callback=null,es(l,f,u),l=u,i.current.lanes=l,Hn(i,l),fi(i),e[oe]=i.current,Rf(e),new Au(i)},zl.version="19.1.1",zl}var K1;function vx(){if(K1)return Vf.exports;K1=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Vf.exports=px(),Vf.exports}var Ex=vx();const xx="_mainWindow_2k7az_15",Sx="_header_2k7az_33",Tx="_title_2k7az_59",Cx="_titleContent_2k7az_93",Rx="_flag_2k7az_107",bx="_titleText_2k7az_123",wx="_airportName_2k7az_137",Ax="_countryRow_2k7az_151",Mx="_countryName_2k7az_165",Ox="_filterButton_2k7az_177",Dx="_filterIcon_2k7az_227",Lx="_container_2k7az_243",Nx="_leftColumn_2k7az_263",Ix="_rightColumn_2k7az_265",zx="_arrivalMapRow_2k7az_277",jx="_departureMapRow_2k7az_279",Gx="_mapContainer_2k7az_293",kx="_listContainer_2k7az_295",Fx="_row1_2k7az_311",Ux="_arrivalListRow_2k7az_419",Bx="_departureListRow_2k7az_423",ae={mainWindow:xx,header:Sx,title:Tx,titleContent:Cx,flag:Rx,titleText:bx,airportName:wx,countryRow:Ax,countryName:Mx,filterButton:Ox,filterIcon:Dx,container:Lx,leftColumn:Nx,rightColumn:Ix,arrivalMapRow:zx,departureMapRow:jx,mapContainer:Gx,listContainer:kx,row1:Fx,arrivalListRow:Ux,departureListRow:Bx},Xx="_mapContainer_188ly_3",Yx="_map_188ly_3",q1={mapContainer:Xx,map:Yx},ln={ADD:"add",REMOVE:"remove"},wa={PROPERTYCHANGE:"propertychange"},St={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class oc{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function Hx(r,t,n){let s,a;n=n||ki;let o=0,c=r.length,h=!1;for(;o<c;)s=o+(c-o>>1),a=+n(r[s],t),a<0?o=s+1:(c=s,h=!a);return h?o:~o}function ki(r,t){return r>t?1:r<t?-1:0}function Px(r,t){return r<t?1:r>t?-1:0}function ig(r,t,n){if(r[0]<=t)return 0;const s=r.length;if(t<=r[s-1])return s-1;if(typeof n=="function"){for(let a=1;a<s;++a){const o=r[a];if(o===t)return a;if(o<t)return n(t,r[a-1],o)>0?a-1:a}return s-1}if(n>0){for(let a=1;a<s;++a)if(r[a]<t)return a-1;return s-1}if(n<0){for(let a=1;a<s;++a)if(r[a]<=t)return a;return s-1}for(let a=1;a<s;++a){if(r[a]==t)return a;if(r[a]<t)return r[a-1]-t<t-r[a]?a-1:a}return s-1}function Vx(r,t,n){for(;t<n;){const s=r[t];r[t]=r[n],r[n]=s,++t,--n}}function uc(r,t){const n=Array.isArray(t)?t:[t],s=n.length;for(let a=0;a<s;a++)r[r.length]=n[a]}function Ns(r,t){const n=r.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(r[s]!==t[s])return!1;return!0}function Zx(r,t,n){const s=t||ki;return r.every(function(a,o){if(o===0)return!0;const c=s(r[o-1],a);return!(c>0||c===0)})}function Wl(){return!0}function cc(){return!1}function Ql(){}function Tp(r){let t,n,s;return function(){const a=Array.prototype.slice.call(arguments);return(!n||this!==s||!Ns(a,n))&&(s=this,n=a,t=r.apply(this,arguments)),t}}function Kx(r){function t(){let n;try{n=r()}catch(s){return Promise.reject(s)}return n instanceof Promise?n:Promise.resolve(n)}return t()}function oo(r){for(const t in r)delete r[t]}function Aa(r){let t;for(t in r)return!1;return!t}class Hi{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}class hc extends oc{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,n){if(!t||!n)return;const s=this.listeners_||(this.listeners_={}),a=s[t]||(s[t]=[]);a.includes(n)||a.push(n)}dispatchEvent(t){const n=typeof t=="string",s=n?t:t.type,a=this.listeners_&&this.listeners_[s];if(!a)return;const o=n?new Hi(t):t;o.target||(o.target=this.eventTarget_||this);const c=this.dispatching_||(this.dispatching_={}),h=this.pendingRemovals_||(this.pendingRemovals_={});s in c||(c[s]=0,h[s]=0),++c[s];let d;for(let m=0,_=a.length;m<_;++m)if("handleEvent"in a[m]?d=a[m].handleEvent(o):d=a[m].call(this,o),d===!1||o.propagationStopped){d=!1;break}if(--c[s]===0){let m=h[s];for(delete h[s];m--;)this.removeEventListener(s,Ql);delete c[s]}return d}disposeInternal(){this.listeners_&&oo(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,n){if(!this.listeners_)return;const s=this.listeners_[t];if(!s)return;const a=s.indexOf(n);a!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(s[a]=Ql,++this.pendingRemovals_[t]):(s.splice(a,1),s.length===0&&delete this.listeners_[t]))}}function It(r,t,n,s,a){if(a){const c=n;n=function(h){return r.removeEventListener(t,n),c.call(s??this,h)}}else s&&s!==r&&(n=n.bind(s));const o={target:r,type:t,listener:n};return r.addEventListener(t,n),o}function Pu(r,t,n,s){return It(r,t,n,s,!0)}function te(r){r&&r.target&&(r.target.removeEventListener(r.type,r.listener),oo(r))}class uo extends hc{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(St.CHANGE)}getRevision(){return this.revision_}onInternal(t,n){if(Array.isArray(t)){const s=t.length,a=new Array(s);for(let o=0;o<s;++o)a[o]=It(this,t[o],n);return a}return It(this,t,n)}onceInternal(t,n){let s;if(Array.isArray(t)){const a=t.length;s=new Array(a);for(let o=0;o<a;++o)s[o]=Pu(this,t[o],n)}else s=Pu(this,t,n);return n.ol_key=s,s}unInternal(t,n){const s=n.ol_key;if(s)qx(s);else if(Array.isArray(t))for(let a=0,o=t.length;a<o;++a)this.removeEventListener(t[a],n);else this.removeEventListener(t,n)}}uo.prototype.on;uo.prototype.once;uo.prototype.un;function qx(r){if(Array.isArray(r))for(let t=0,n=r.length;t<n;++t)te(r[t]);else te(r)}function jt(){throw new Error("Unimplemented abstract method.")}let Wx=0;function Gt(r){return r.ol_uid||(r.ol_uid=String(++Wx))}class W1 extends Hi{constructor(t,n,s){super(t),this.key=n,this.oldValue=s}}class ni extends uo{constructor(t){super(),this.on,this.once,this.un,Gt(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let n;return this.values_&&this.values_.hasOwnProperty(t)&&(n=this.values_[t]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,n){let s;s=`change:${t}`,this.hasListener(s)&&this.dispatchEvent(new W1(s,t,n)),s=wa.PROPERTYCHANGE,this.hasListener(s)&&this.dispatchEvent(new W1(s,t,n))}addChangeListener(t,n){this.addEventListener(`change:${t}`,n)}removeChangeListener(t,n){this.removeEventListener(`change:${t}`,n)}set(t,n,s){const a=this.values_||(this.values_={});if(s)a[t]=n;else{const o=a[t];a[t]=n,o!==n&&this.notify(t,o)}}setProperties(t,n){for(const s in t)this.set(s,t[s],n)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,n){if(this.values_&&t in this.values_){const s=this.values_[t];delete this.values_[t],Aa(this.values_)&&(this.values_=null),n||this.notify(t,s)}}}const Q1={LENGTH:"length"};class Ou extends Hi{constructor(t,n,s){super(t),this.element=n,this.index=s}}class gi extends ni{constructor(t,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=t||[],this.unique_)for(let s=0,a=this.array_.length;s<a;++s)this.assertUnique_(this.array_[s],s);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let n=0,s=t.length;n<s;++n)this.push(t[n]);return this}forEach(t){const n=this.array_;for(let s=0,a=n.length;s<a;++s)t(n[s],s,n)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(Q1.LENGTH)}insertAt(t,n){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n),this.array_.splice(t,0,n),this.updateLength_(),this.dispatchEvent(new Ou(ln.ADD,n,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const n=this.getLength();return this.insertAt(n,t),this.getLength()}remove(t){const n=this.array_;for(let s=0,a=n.length;s<a;++s)if(n[s]===t)return this.removeAt(s)}removeAt(t){if(t<0||t>=this.getLength())return;const n=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Ou(ln.REMOVE,n,t)),n}setAt(t,n){const s=this.getLength();if(t>=s){this.insertAt(t,n);return}if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n,t);const a=this.array_[t];this.array_[t]=n,this.dispatchEvent(new Ou(ln.REMOVE,a,t)),this.dispatchEvent(new Ou(ln.ADD,n,t))}updateLength_(){this.set(Q1.LENGTH,this.array_.length)}assertUnique_(t,n){for(let s=0,a=this.array_.length;s<a;++s)if(this.array_[s]===t&&s!==n)throw new Error("Duplicate item added to a unique collection")}}class ma extends Hi{constructor(t,n,s){super(t),this.map=n,this.frameState=s!==void 0?s:null}}class Cs extends ma{constructor(t,n,s,a,o,c){super(t,n,o),this.originalEvent=s,this.pixel_=null,this.coordinate_=null,this.dragging=a!==void 0?a:!1,this.activePointers=c}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const de={SINGLECLICK:"singleclick",CLICK:St.CLICK,DBLCLICK:St.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},gr=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",Qx=gr.includes("safari")&&!gr.includes("chrom");Qx&&(gr.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(gr));const $x=gr.includes("webkit")&&!gr.includes("edge"),Cp=gr.includes("macintosh"),Jx=typeof devicePixelRatio<"u"?devicePixelRatio:1,sg=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Rp=typeof Image<"u"&&Image.prototype.decode,bp=(function(){let r=!1;try{const t=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return r})(),Ld={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class tS extends hc{constructor(t,n){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const s=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=s,this.pointerdownListenerKey_=It(s,Ld.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=It(s,Ld.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(St.TOUCHMOVE,this.boundHandleTouchMove_,bp?{passive:!1}:!1)}emulateClick_(t){let n=new Cs(de.CLICK,this.map_,t);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new Cs(de.DBLCLICK,this.map_,t),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const s=new Cs(de.SINGLECLICK,this.map_,t);this.dispatchEvent(s)},250)}updateActivePointers_(t){const n=t,s=n.pointerId;if(n.type==de.POINTERUP||n.type==de.POINTERCANCEL){delete this.trackedTouches_[s];for(const a in this.trackedTouches_)if(this.trackedTouches_[a].target!==n.target){delete this.trackedTouches_[a];break}}else(n.type==de.POINTERDOWN||n.type==de.POINTERMOVE)&&(this.trackedTouches_[s]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const n=new Cs(de.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(te),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return t.button===0}handlePointerDown_(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);const n=new Cs(de.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),this.dragListenerKeys_.length===0){const s=this.map_.getOwnerDocument();this.dragListenerKeys_.push(It(s,de.POINTERMOVE,this.handlePointerMove_,this),It(s,de.POINTERUP,this.handlePointerUp_,this),It(this.element_,de.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==s&&this.dragListenerKeys_.push(It(this.element_.getRootNode(),de.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const n=new Cs(de.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const n=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new Cs(de.POINTERMOVE,this.map_,t,n))}handleTouchMove_(t){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(te(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(St.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(te(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(te),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const ji={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Ye={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},gt={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Bt(r,t){if(!r)throw new Error(t)}const Vu=1/0;class eS{constructor(t,n){this.priorityFunction_=t,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,oo(this.queuedElements_)}dequeue(){const t=this.elements_,n=this.priorities_,s=t[0];t.length==1?(t.length=0,n.length=0):(t[0]=t.pop(),n[0]=n.pop(),this.siftUp_(0));const a=this.keyFunction_(s);return delete this.queuedElements_[a],s}enqueue(t){Bt(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(t);return n!=Vu?(this.elements_.push(t),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(t){return t*2+1}getRightChildIndex_(t){return t*2+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return this.elements_.length===0}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const n=this.elements_,s=this.priorities_,a=n.length,o=n[t],c=s[t],h=t;for(;t<a>>1;){const d=this.getLeftChildIndex_(t),m=this.getRightChildIndex_(t),_=m<a&&s[m]<s[d]?m:d;n[t]=n[_],s[t]=s[_],t=_}n[t]=o,s[t]=c,this.siftDown_(h,t)}siftDown_(t,n){const s=this.elements_,a=this.priorities_,o=s[n],c=a[n];for(;n>t;){const h=this.getParentIndex_(n);if(a[h]>c)s[n]=s[h],a[n]=a[h],n=h;else break}s[n]=o,a[n]=c}reprioritize(){const t=this.priorityFunction_,n=this.elements_,s=this.priorities_;let a=0;const o=n.length;let c,h,d;for(h=0;h<o;++h)c=n[h],d=t(c),d==Vu?delete this.queuedElements_[this.keyFunction_(c)]:(s[a]=d,n[a++]=c);n.length=a,s.length=a,this.heapify_()}}class nS extends eS{constructor(t,n){super(s=>t.apply(null,s),s=>s[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const n=super.enqueue(t);return n&&t[0].addEventListener(St.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const n=t.target,s=n.getState();if(s===gt.LOADED||s===gt.ERROR||s===gt.EMPTY){s!==gt.ERROR&&n.removeEventListener(St.CHANGE,this.boundHandleTileChange_);const a=n.getKey();a in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[a],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,n){let s=0;for(;this.tilesLoading_<t&&s<n&&this.getCount()>0;){const a=this.dequeue()[0],o=a.getKey();a.getState()===gt.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++s,a.load())}}}function iS(r,t,n,s,a){if(!r||!(n in r.wantedTiles)||!r.wantedTiles[n][t.getKey()])return Vu;const o=r.viewState.center,c=s[0]-o[0],h=s[1]-o[1];return 65536*Math.log(a)+Math.sqrt(c*c+h*h)/a}const He={ANIMATING:0,INTERACTING:1},qn={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function le(r,t,n){return Math.min(Math.max(r,t),n)}function sS(r,t,n,s,a,o){const c=a-n,h=o-s;if(c!==0||h!==0){const d=((r-n)*c+(t-s)*h)/(c*c+h*h);d>1?(n=a,s=o):d>0&&(n+=c*d,s+=h*d)}return Sa(r,t,n,s)}function Sa(r,t,n,s){const a=n-r,o=s-t;return a*a+o*o}function rS(r){const t=r.length;for(let s=0;s<t;s++){let a=s,o=Math.abs(r[s][s]);for(let h=s+1;h<t;h++){const d=Math.abs(r[h][s]);d>o&&(o=d,a=h)}if(o===0)return null;const c=r[a];r[a]=r[s],r[s]=c;for(let h=s+1;h<t;h++){const d=-r[h][s]/r[s][s];for(let m=s;m<t+1;m++)s==m?r[h][m]=0:r[h][m]+=d*r[s][m]}}const n=new Array(t);for(let s=t-1;s>=0;s--){n[s]=r[s][t]/r[s][s];for(let a=s-1;a>=0;a--)r[a][t]-=r[a][s]*n[s]}return n}function $1(r){return r*180/Math.PI}function Ms(r){return r*Math.PI/180}function Ta(r,t){const n=r%t;return n*t<0?n+t:n}function wn(r,t,n){return r+n*(t-r)}function fc(r,t){const n=Math.pow(10,t);return Math.round(r*n)/n}function Du(r,t){return Math.floor(fc(r,t))}function Lu(r,t){return Math.ceil(fc(r,t))}function Nd(r,t,n){if(r>=t&&r<n)return r;const s=n-t;return((r-t)%s+s)%s+t}function J1(r,t,n){return(function(s,a,o,c,h){if(!s)return;if(!a&&!t)return s;const d=t?0:o[0]*a,m=t?0:o[1]*a,_=h?h[0]:0,y=h?h[1]:0;let v=r[0]+d/2+_,S=r[2]-d/2+_,T=r[1]+m/2+y,b=r[3]-m/2+y;v>S&&(v=(S+v)/2,S=v),T>b&&(T=(b+T)/2,b=T);let C=le(s[0],v,S),A=le(s[1],T,b);if(c&&n&&a){const L=30*a;C+=-L*Math.log(1+Math.max(0,v-s[0])/L)+L*Math.log(1+Math.max(0,s[0]-S)/L),A+=-L*Math.log(1+Math.max(0,T-s[1])/L)+L*Math.log(1+Math.max(0,s[1]-b)/L)}return[C,A]})}function aS(r){return r}const Me={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function ty(r){const t=Yn();for(let n=0,s=r.length;n<s;++n)Kl(t,r[n]);return t}function rg(r,t,n){return n?(n[0]=r[0]-t,n[1]=r[1]-t,n[2]=r[2]+t,n[3]=r[3]+t,n):[r[0]-t,r[1]-t,r[2]+t,r[3]+t]}function wp(r,t){return t?(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t):r.slice()}function ag(r,t,n){let s,a;return t<r[0]?s=r[0]-t:r[2]<t?s=t-r[2]:s=0,n<r[1]?a=r[1]-n:r[3]<n?a=n-r[3]:a=0,s*s+a*a}function Ma(r,t){return Ap(r,t[0],t[1])}function va(r,t){return r[0]<=t[0]&&t[2]<=r[2]&&r[1]<=t[1]&&t[3]<=r[3]}function Ap(r,t,n){return r[0]<=t&&t<=r[2]&&r[1]<=n&&n<=r[3]}function Id(r,t){const n=r[0],s=r[1],a=r[2],o=r[3],c=t[0],h=t[1];let d=Me.UNKNOWN;return c<n?d=d|Me.LEFT:c>a&&(d=d|Me.RIGHT),h<s?d=d|Me.BELOW:h>o&&(d=d|Me.ABOVE),d===Me.UNKNOWN&&(d=Me.INTERSECTING),d}function Yn(){return[1/0,1/0,-1/0,-1/0]}function Ds(r,t,n,s,a){return a?(a[0]=r,a[1]=t,a[2]=n,a[3]=s,a):[r,t,n,s]}function dc(r){return Ds(1/0,1/0,-1/0,-1/0,r)}function Mp(r,t){const n=r[0],s=r[1];return Ds(n,s,n,s,t)}function lg(r,t,n,s,a){const o=dc(a);return Op(o,r,t,n,s)}function $l(r,t){return r[0]==t[0]&&r[2]==t[2]&&r[1]==t[1]&&r[3]==t[3]}function lS(r,t){return t[0]<r[0]&&(r[0]=t[0]),t[2]>r[2]&&(r[2]=t[2]),t[1]<r[1]&&(r[1]=t[1]),t[3]>r[3]&&(r[3]=t[3]),r}function Kl(r,t){t[0]<r[0]&&(r[0]=t[0]),t[0]>r[2]&&(r[2]=t[0]),t[1]<r[1]&&(r[1]=t[1]),t[1]>r[3]&&(r[3]=t[1])}function Op(r,t,n,s,a){for(;n<s;n+=a)oS(r,t[n],t[n+1]);return r}function oS(r,t,n){r[0]=Math.min(r[0],t),r[1]=Math.min(r[1],n),r[2]=Math.max(r[2],t),r[3]=Math.max(r[3],n)}function Dp(r,t){let n;return n=t(gc(r)),n||(n=t(mc(r)),n)||(n=t(_c(r)),n)||(n=t(yr(r)),n)?n:!1}function zd(r){let t=0;return yc(r)||(t=Pt(r)*Qe(r)),t}function gc(r){return[r[0],r[1]]}function mc(r){return[r[2],r[1]]}function mr(r){return[(r[0]+r[2])/2,(r[1]+r[3])/2]}function uS(r,t){let n;if(t==="bottom-left")n=gc(r);else if(t==="bottom-right")n=mc(r);else if(t==="top-left")n=yr(r);else if(t==="top-right")n=_c(r);else throw new Error("Invalid corner");return n}function jd(r,t,n,s,a){const[o,c,h,d,m,_,y,v]=Lp(r,t,n,s);return Ds(Math.min(o,h,m,y),Math.min(c,d,_,v),Math.max(o,h,m,y),Math.max(c,d,_,v),a)}function Lp(r,t,n,s){const a=t*s[0]/2,o=t*s[1]/2,c=Math.cos(n),h=Math.sin(n),d=a*c,m=a*h,_=o*c,y=o*h,v=r[0],S=r[1];return[v-d+y,S-m-_,v-d-y,S-m+_,v+d-y,S+m+_,v+d+y,S+m-_,v-d+y,S-m-_]}function Qe(r){return r[3]-r[1]}function hr(r,t,n){const s=n||Yn();return cn(r,t)?(r[0]>t[0]?s[0]=r[0]:s[0]=t[0],r[1]>t[1]?s[1]=r[1]:s[1]=t[1],r[2]<t[2]?s[2]=r[2]:s[2]=t[2],r[3]<t[3]?s[3]=r[3]:s[3]=t[3]):dc(s),s}function yr(r){return[r[0],r[3]]}function _c(r){return[r[2],r[3]]}function Pt(r){return r[2]-r[0]}function cn(r,t){return r[0]<=t[2]&&r[2]>=t[0]&&r[1]<=t[3]&&r[3]>=t[1]}function yc(r){return r[2]<r[0]||r[3]<r[1]}function cS(r,t){return t?(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t):r}function hS(r,t,n){let s=!1;const a=Id(r,t),o=Id(r,n);if(a===Me.INTERSECTING||o===Me.INTERSECTING)s=!0;else{const c=r[0],h=r[1],d=r[2],m=r[3],_=t[0],y=t[1],v=n[0],S=n[1],T=(S-y)/(v-_);let b,C;o&Me.ABOVE&&!(a&Me.ABOVE)&&(b=v-(S-m)/T,s=b>=c&&b<=d),!s&&o&Me.RIGHT&&!(a&Me.RIGHT)&&(C=S-(v-d)*T,s=C>=h&&C<=m),!s&&o&Me.BELOW&&!(a&Me.BELOW)&&(b=v-(S-h)/T,s=b>=c&&b<=d),!s&&o&Me.LEFT&&!(a&Me.LEFT)&&(C=S-(v-c)*T,s=C>=h&&C<=m)}return s}function Np(r,t){const n=t.getExtent(),s=mr(r);if(t.canWrapX()&&(s[0]<n[0]||s[0]>=n[2])){const a=Pt(n),c=Math.floor((s[0]-n[0])/a)*a;r[0]-=c,r[2]-=c}return r}function Ip(r,t,n){if(t.canWrapX()){const s=t.getExtent();if(!isFinite(r[0])||!isFinite(r[2]))return[[s[0],r[1],s[2],r[3]]];Np(r,t);const a=Pt(s);if(Pt(r)>a&&!n)return[[s[0],r[1],s[2],r[3]]];if(r[0]<s[0])return[[r[0]+a,r[1],s[2],r[3]],[s[0],r[1],r[2],r[3]]];if(r[2]>s[2])return[[r[0],r[1],s[2],r[3]],[s[0],r[1],r[2]-a,r[3]]]}return[r]}function fS(r,t){return r[0]+=+t[0],r[1]+=+t[1],r}function Zu(r,t){let n=!0;for(let s=r.length-1;s>=0;--s)if(r[s]!=t[s]){n=!1;break}return n}function og(r,t){const n=Math.cos(t),s=Math.sin(t),a=r[0]*n-r[1]*s,o=r[1]*n+r[0]*s;return r[0]=a,r[1]=o,r}function dS(r,t){return r[0]*=t,r[1]*=t,r}function zp(r,t){if(t.canWrapX()){const n=Pt(t.getExtent()),s=gS(r,t,n);s&&(r[0]-=s*n)}return r}function gS(r,t,n){const s=t.getExtent();let a=0;return t.canWrapX()&&(r[0]<s[0]||r[0]>s[2])&&(n=n||Pt(s),a=Math.floor((r[0]-s[0])/n)),a}function jp(r){return Math.pow(r,3)}function za(r){return 1-jp(1-r)}function mS(r){return 3*r*r-2*r*r*r}function _S(r){return r}const yS=63710088e-1;function ey(r,t,n){n=n||yS;const s=Ms(r[1]),a=Ms(t[1]),o=(a-s)/2,c=Ms(t[0]-r[0])/2,h=Math.sin(o)*Math.sin(o)+Math.sin(c)*Math.sin(c)*Math.cos(s)*Math.cos(a);return 2*n*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))}function Gp(...r){console.warn(...r)}const ug={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class cg{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||ug[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const co=6378137,Ea=Math.PI*co,pS=[-Ea,-Ea,Ea,Ea],vS=[-180,-85,180,85],Nu=co*Math.log(Math.tan(Math.PI/2));class ra extends cg{constructor(t){super({code:t,units:"m",extent:pS,global:!0,worldExtent:vS,getPointResolution:function(n,s){return n/Math.cosh(s[1]/co)}})}}const ny=[new ra("EPSG:3857"),new ra("EPSG:102100"),new ra("EPSG:102113"),new ra("EPSG:900913"),new ra("http://www.opengis.net/def/crs/EPSG/0/3857"),new ra("http://www.opengis.net/gml/srs/epsg.xml#3857")];function ES(r,t,n,s){const a=r.length;n=n>1?n:2,s=s??n,t===void 0&&(n>2?t=r.slice():t=new Array(a));for(let o=0;o<a;o+=s){t[o]=Ea*r[o]/180;let c=co*Math.log(Math.tan(Math.PI*(+r[o+1]+90)/360));c>Nu?c=Nu:c<-Nu&&(c=-Nu),t[o+1]=c}return t}function xS(r,t,n,s){const a=r.length;n=n>1?n:2,s=s??n,t===void 0&&(n>2?t=r.slice():t=new Array(a));for(let o=0;o<a;o+=s)t[o]=180*r[o]/Ea,t[o+1]=360*Math.atan(Math.exp(r[o+1]/co))/Math.PI-90;return t}const SS=6378137,iy=[-180,-90,180,90],TS=Math.PI*SS/180;class Js extends cg{constructor(t,n){super({code:t,units:"degrees",extent:iy,axisOrientation:n,global:!0,metersPerUnit:TS,worldExtent:iy})}}const sy=[new Js("CRS:84"),new Js("EPSG:4326","neu"),new Js("urn:ogc:def:crs:OGC:1.3:CRS84"),new Js("urn:ogc:def:crs:OGC:2:84"),new Js("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Js("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Js("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Gd={};function CS(r){return Gd[r]||Gd[r.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function RS(r,t){Gd[r]=t}let Ca={};function Jl(r,t,n){const s=r.getCode(),a=t.getCode();s in Ca||(Ca[s]={}),Ca[s][a]=n}function Wf(r,t){return r in Ca&&t in Ca[r]?Ca[r][t]:null}const Ku=.9996,Xn=.00669438,pc=Xn*Xn,vc=pc*Xn,ar=Xn/(1-Xn),ry=Math.sqrt(1-Xn),Oa=(1-ry)/(1+ry),kp=Oa*Oa,hg=kp*Oa,fg=hg*Oa,Fp=fg*Oa,Up=1-Xn/4-3*pc/64-5*vc/256,bS=3*Xn/8+3*pc/32+45*vc/1024,wS=15*pc/256+45*vc/1024,AS=35*vc/3072,MS=3/2*Oa-27/32*hg+269/512*Fp,OS=21/16*kp-55/32*fg,DS=151/96*hg-417/128*Fp,LS=1097/512*fg,qu=6378137;function NS(r,t,n){const s=r-5e5,c=(n.north?t:t-1e7)/Ku/(qu*Up),h=c+MS*Math.sin(2*c)+OS*Math.sin(4*c)+DS*Math.sin(6*c)+LS*Math.sin(8*c),d=Math.sin(h),m=d*d,_=Math.cos(h),y=d/_,v=y*y,S=v*v,T=1-Xn*m,b=Math.sqrt(1-Xn*m),C=qu/b,A=(1-Xn)/T,L=ar*_**2,z=L*L,N=s/(C*Ku),M=N*N,Y=M*N,W=Y*N,q=W*N,et=q*N,it=h-y/A*(M/2-W/24*(5+3*v+10*L-4*z-9*ar))+et/720*(61+90*v+298*L+45*S-252*ar-3*z);let lt=(N-Y/6*(1+2*v+L)+q/120*(5-2*L+28*v-3*z+8*ar+24*S))/_;return lt=Nd(lt+Ms(Bp(n.number)),-Math.PI,Math.PI),[$1(lt),$1(it)]}const ay=-80,ly=84,IS=-180,zS=180;function jS(r,t,n){r=Nd(r,IS,zS),t<ay?t=ay:t>ly&&(t=ly);const s=Ms(t),a=Math.sin(s),o=Math.cos(s),c=a/o,h=c*c,d=h*h,m=Ms(r),_=Bp(n.number),y=Ms(_),v=qu/Math.sqrt(1-Xn*a**2),S=ar*o**2,T=o*Nd(m-y,-Math.PI,Math.PI),b=T*T,C=b*T,A=C*T,L=A*T,z=L*T,N=qu*(Up*s-bS*Math.sin(2*s)+wS*Math.sin(4*s)-AS*Math.sin(6*s)),M=Ku*v*(T+C/6*(1-h+S)+L/120*(5-18*h+d+72*S-58*ar))+5e5;let Y=Ku*(N+v*c*(b/2+A/24*(5-h+9*S+4*S**2)+z/720*(61-58*h+d+600*S-330*ar)));return n.north||(Y+=1e7),[M,Y]}function Bp(r){return(r-1)*6-180+3}const GS=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function Xp(r){let t=0;for(const a of GS){const o=r.match(a);if(o){t=parseInt(o[1]);break}}if(!t)return null;let n=0,s=!1;return t>32700&&t<32761?n=t-32700:t>32600&&t<32661&&(s=!0,n=t-32600),n?{number:n,north:s}:null}function oy(r,t){return function(n,s,a,o){const c=n.length;a=a>1?a:2,o=o??a,s||(a>2?s=n.slice():s=new Array(c));for(let h=0;h<c;h+=o){const d=n[h],m=n[h+1],_=r(d,m,t);s[h]=_[0],s[h+1]=_[1]}return s}}function kS(r){return Xp(r)?new cg({code:r,units:"m"}):null}function FS(r){const t=Xp(r.getCode());return t?{forward:oy(jS,t),inverse:oy(NS,t)}:null}const US=[FS],BS=[kS];let kd=!0;function Yp(r){kd=!1}function dg(r,t){if(t!==void 0){for(let n=0,s=r.length;n<s;++n)t[n]=r[n];t=t}else t=r.slice();return t}function Fd(r){RS(r.getCode(),r),Jl(r,r,dg)}function XS(r){r.forEach(Fd)}function mn(r){if(typeof r!="string")return r;const t=CS(r);if(t)return t;for(const n of BS){const s=n(r);if(s)return s}return null}function uy(r,t,n,s){r=mn(r);let a;const o=r.getPointResolutionFunc();if(o)a=o(t,n);else{const c=r.getUnits();if(c=="degrees"&&!s||s=="degrees")a=t;else{const h=mg(r,mn("EPSG:4326"));if(!h&&c!=="degrees")a=t*r.getMetersPerUnit();else{let m=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];m=h(m,m,2);const _=ey(m.slice(0,2),m.slice(2,4)),y=ey(m.slice(4,6),m.slice(6,8));a=(_+y)/2}const d=r.getMetersPerUnit();d!==void 0&&(a/=d)}}return a}function cy(r){XS(r),r.forEach(function(t){r.forEach(function(n){t!==n&&Jl(t,n,dg)})})}function YS(r,t,n,s){r.forEach(function(a){t.forEach(function(o){Jl(a,o,n),Jl(o,a,s)})})}function gg(r,t){return r?typeof r=="string"?mn(r):r:mn(t)}function HS(r){return(function(t,n,s,a){const o=t.length;s=s!==void 0?s:2,a=a??s,n=n!==void 0?n:new Array(o);for(let c=0;c<o;c+=a){const h=r(t.slice(c,c+s)),d=h.length;for(let m=0,_=a;m<_;++m)n[c+m]=m>=d?t[c+m]:h[m]}return n})}function fr(r,t){return Yp(),_g(r,"EPSG:4326","EPSG:3857")}function Qf(r,t){if(r===t)return!0;const n=r.getUnits()===t.getUnits();return(r.getCode()===t.getCode()||mg(r,t)===dg)&&n}function mg(r,t){const n=r.getCode(),s=t.getCode();let a=Wf(n,s);if(a)return a;let o=null,c=null;for(const d of US)o||(o=d(r)),c||(c=d(t));if(!o&&!c)return null;const h="EPSG:4326";if(c)if(o)a=$f(o.inverse,c.forward);else{const d=Wf(n,h);d&&(a=$f(d,c.forward))}else{const d=Wf(h,s);d&&(a=$f(o.inverse,d))}return a&&(Fd(r),Fd(t),Jl(r,t,a)),a}function $f(r,t){return function(n,s,a,o){return s=r(n,s,a,o),t(s,s,a,o)}}function Wu(r,t){const n=mn(r),s=mn(t);return mg(n,s)}function _g(r,t,n){const s=Wu(t,n);if(!s){const a=mn(t).getCode(),o=mn(n).getCode();throw new Error(`No transform available between ${a} and ${o}`)}return s(r,void 0,r.length)}function Ud(r,t){return r}function zi(r,t){return kd&&!Zu(r,[0,0])&&r[0]>=-180&&r[0]<=180&&r[1]>=-90&&r[1]<=90&&(kd=!1,Gp("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),r}function Hp(r,t){return r}function ws(r,t){return r}function PS(){cy(ny),cy(sy),YS(sy,ny,ES,xS)}PS();new Array(6);function Jn(){return[1,0,0,1,0,0]}function VS(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r}function Oe(r,t){const n=t[0],s=t[1];return t[0]=r[0]*n+r[2]*s+r[4],t[1]=r[1]*n+r[3]*s+r[5],t}function Xi(r,t,n,s,a,o,c,h){const d=Math.sin(o),m=Math.cos(o);return r[0]=s*m,r[1]=a*d,r[2]=-s*d,r[3]=a*m,r[4]=c*s*m-h*s*d+t,r[5]=c*a*d+h*a*m+n,r}function Pp(r,t){const n=ZS(t);Bt(n!==0,"Transformation matrix cannot be inverted");const s=t[0],a=t[1],o=t[2],c=t[3],h=t[4],d=t[5];return r[0]=c/n,r[1]=-a/n,r[2]=-o/n,r[3]=s/n,r[4]=(o*d-c*h)/n,r[5]=-(s*d-a*h)/n,r}function ZS(r){return r[0]*r[3]-r[1]*r[2]}const KS=[1e5,1e5,1e5,1e5,2,2];function qS(r){return"matrix("+r.join(", ")+")"}function hy(r){return r.substring(7,r.length-1).split(",").map(parseFloat)}function WS(r,t){const n=hy(r),s=hy(t);for(let a=0;a<6;++a)if(Math.round((n[a]-s[a])*KS[a])!==0)return!1;return!0}function Os(r,t,n,s,a,o,c){o=o||[],c=c||2;let h=0;for(let d=t;d<n;d+=s){const m=r[d],_=r[d+1];o[h++]=a[0]*m+a[2]*_+a[4],o[h++]=a[1]*m+a[3]*_+a[5];for(let y=2;y<c;y++)o[h++]=r[d+y]}return o&&o.length!=h&&(o.length=h),o}function Vp(r,t,n,s,a,o,c){c=c||[];const h=Math.cos(a),d=Math.sin(a),m=o[0],_=o[1];let y=0;for(let v=t;v<n;v+=s){const S=r[v]-m,T=r[v+1]-_;c[y++]=m+S*h-T*d,c[y++]=_+S*d+T*h;for(let b=v+2;b<v+s;++b)c[y++]=r[b]}return c&&c.length!=y&&(c.length=y),c}function QS(r,t,n,s,a,o,c,h){h=h||[];const d=c[0],m=c[1];let _=0;for(let y=t;y<n;y+=s){const v=r[y]-d,S=r[y+1]-m;h[_++]=d+a*v,h[_++]=m+o*S;for(let T=y+2;T<y+s;++T)h[_++]=r[T]}return h&&h.length!=_&&(h.length=_),h}function $S(r,t,n,s,a,o,c){c=c||[];let h=0;for(let d=t;d<n;d+=s){c[h++]=r[d]+a,c[h++]=r[d+1]+o;for(let m=d+2;m<d+s;++m)c[h++]=r[m]}return c&&c.length!=h&&(c.length=h),c}const fy=Jn(),JS=[NaN,NaN];class tT extends ni{constructor(){super(),this.extent_=Yn(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=Tp((t,n,s)=>{if(!s)return this.getSimplifiedGeometry(n);const a=this.clone();return a.applyTransform(s),a.getSimplifiedGeometry(n)})}simplifyTransformed(t,n){return this.simplifyTransformedInternal(this.getRevision(),t,n)}clone(){return jt()}closestPointXY(t,n,s,a){return jt()}containsXY(t,n){return this.closestPointXY(t,n,JS,Number.MIN_VALUE)===0}getClosestPoint(t,n){return n=n||[NaN,NaN],this.closestPointXY(t[0],t[1],n,1/0),n}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return jt()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&dc(n),this.extentRevision_=this.getRevision()}return cS(this.extent_,t)}rotate(t,n){jt()}scale(t,n,s){jt()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return jt()}getType(){return jt()}applyTransform(t){jt()}intersectsExtent(t){return jt()}translate(t,n){jt()}transform(t,n){const s=mn(t),a=s.getUnits()=="tile-pixels"?function(o,c,h){const d=s.getExtent(),m=s.getWorldExtent(),_=Qe(m)/Qe(d);Xi(fy,m[0],m[3],_,-_,0,0,0);const y=Os(o,0,o.length,h,fy,c),v=Wu(s,n);return v?v(y,y,h):y}:Wu(s,n);return this.applyTransform(a),this}}class Ec extends tT{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return lg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return jt()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,n){this.stride=dy(t),this.layout=t,this.flatCoordinates=n}setCoordinates(t,n){jt()}setLayout(t,n,s){let a;if(t)a=dy(t);else{for(let o=0;o<s;++o){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}a=n.length,t=eT(a)}this.layout=t,this.stride=a}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(t,n){const s=this.getFlatCoordinates();if(s){const a=this.getStride();Vp(s,0,s.length,a,t,n,s),this.changed()}}scale(t,n,s){n===void 0&&(n=t),s||(s=mr(this.getExtent()));const a=this.getFlatCoordinates();if(a){const o=this.getStride();QS(a,0,a.length,o,t,n,s,a),this.changed()}}translate(t,n){const s=this.getFlatCoordinates();if(s){const a=this.getStride();$S(s,0,s.length,a,t,n,s),this.changed()}}}function eT(r){let t;return r==2?t="XY":r==3?t="XYZ":r==4&&(t="XYZM"),t}function dy(r){let t;return r=="XY"?t=2:r=="XYZ"||r=="XYM"?t=3:r=="XYZM"&&(t=4),t}function nT(r,t,n){const s=r.getFlatCoordinates();if(!s)return null;const a=r.getStride();return Os(s,0,s.length,a,t,n)}function Zp(r,t,n,s){let a=0;const o=r[n-s],c=r[n-s+1];let h=0,d=0;for(;t<n;t+=s){const m=r[t]-o,_=r[t+1]-c;a+=d*m-h*_,h=m,d=_}return a/2}function iT(r,t,n,s){let a=0;for(let o=0,c=n.length;o<c;++o){const h=n[o];a+=Zp(r,t,h,s),t=h}return a}function gy(r,t,n,s,a,o,c){const h=r[t],d=r[t+1],m=r[n]-h,_=r[n+1]-d;let y;if(m===0&&_===0)y=t;else{const v=((a-h)*m+(o-d)*_)/(m*m+_*_);if(v>1)y=n;else if(v>0){for(let S=0;S<s;++S)c[S]=wn(r[t+S],r[n+S],v);c.length=s;return}else y=t}for(let v=0;v<s;++v)c[v]=r[y+v];c.length=s}function yg(r,t,n,s,a){let o=r[t],c=r[t+1];for(t+=s;t<n;t+=s){const h=r[t],d=r[t+1],m=Sa(o,c,h,d);m>a&&(a=m),o=h,c=d}return a}function sT(r,t,n,s,a){for(let o=0,c=n.length;o<c;++o){const h=n[o];a=yg(r,t,h,s,a),t=h}return a}function pg(r,t,n,s,a,o,c,h,d,m,_){if(t==n)return m;let y,v;if(a===0){if(v=Sa(c,h,r[t],r[t+1]),v<m){for(y=0;y<s;++y)d[y]=r[t+y];return d.length=s,v}return m}_=_||[NaN,NaN];let S=t+s;for(;S<n;)if(gy(r,S-s,S,s,c,h,_),v=Sa(c,h,_[0],_[1]),v<m){for(m=v,y=0;y<s;++y)d[y]=_[y];d.length=s,S+=s}else S+=s*Math.max((Math.sqrt(v)-Math.sqrt(m))/a|0,1);if(o&&(gy(r,n-s,t,s,c,h,_),v=Sa(c,h,_[0],_[1]),v<m)){for(m=v,y=0;y<s;++y)d[y]=_[y];d.length=s}return m}function rT(r,t,n,s,a,o,c,h,d,m,_){_=_||[NaN,NaN];for(let y=0,v=n.length;y<v;++y){const S=n[y];m=pg(r,t,S,s,a,o,c,h,d,m,_),t=S}return m}function aT(r,t,n,s){for(let a=0,o=n.length;a<o;++a)r[t++]=n[a];return t}function vg(r,t,n,s){for(let a=0,o=n.length;a<o;++a){const c=n[a];for(let h=0;h<s;++h)r[t++]=c[h]}return t}function lT(r,t,n,s,a){a=a||[];let o=0;for(let c=0,h=n.length;c<h;++c){const d=vg(r,t,n[c],s);a[o++]=d,t=d}return a.length=o,a}function lr(r,t,n,s,a){a=a!==void 0?a:[];let o=0;for(let c=t;c<n;c+=s)a[o++]=r.slice(c,c+s);return a.length=o,a}function Qu(r,t,n,s,a){a=a!==void 0?a:[];let o=0;for(let c=0,h=n.length;c<h;++c){const d=n[c];a[o++]=lr(r,t,d,s,a[o]),t=d}return a.length=o,a}function my(r,t,n,s,a){a=a!==void 0?a:[];let o=0;for(let c=0,h=n.length;c<h;++c){const d=n[c];a[o++]=d.length===1&&d[0]===t?[]:Qu(r,t,d,s,a[o]),t=d[d.length-1]}return a.length=o,a}function xc(r,t,n,s,a,o,c){const h=(n-t)/s;if(h<3){for(;t<n;t+=s)o[c++]=r[t],o[c++]=r[t+1];return c}const d=new Array(h);d[0]=1,d[h-1]=1;const m=[t,n-s];let _=0;for(;m.length>0;){const y=m.pop(),v=m.pop();let S=0;const T=r[v],b=r[v+1],C=r[y],A=r[y+1];for(let L=v+s;L<y;L+=s){const z=r[L],N=r[L+1],M=sS(z,N,T,b,C,A);M>S&&(_=L,S=M)}S>a&&(d[(_-t)/s]=1,v+s<_&&m.push(v,_),_+s<y&&m.push(_,y))}for(let y=0;y<h;++y)d[y]&&(o[c++]=r[t+y*s],o[c++]=r[t+y*s+1]);return c}function oT(r,t,n,s,a,o,c,h){for(let d=0,m=n.length;d<m;++d){const _=n[d];c=xc(r,t,_,s,a,o,c),h.push(c),t=_}return c}function er(r,t){return t*Math.round(r/t)}function uT(r,t,n,s,a,o,c){if(t==n)return c;let h=er(r[t],a),d=er(r[t+1],a);t+=s,o[c++]=h,o[c++]=d;let m,_;do if(m=er(r[t],a),_=er(r[t+1],a),t+=s,t==n)return o[c++]=m,o[c++]=_,c;while(m==h&&_==d);for(;t<n;){const y=er(r[t],a),v=er(r[t+1],a);if(t+=s,y==m&&v==_)continue;const S=m-h,T=_-d,b=y-h,C=v-d;if(S*C==T*b&&(S<0&&b<S||S==b||S>0&&b>S)&&(T<0&&C<T||T==C||T>0&&C>T)){m=y,_=v;continue}o[c++]=m,o[c++]=_,h=m,d=_,m=y,_=v}return o[c++]=m,o[c++]=_,c}function Kp(r,t,n,s,a,o,c,h){for(let d=0,m=n.length;d<m;++d){const _=n[d];c=uT(r,t,_,s,a,o,c),h.push(c),t=_}return c}class to extends Ec{constructor(t,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}clone(){return new to(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,n,s,a){return a<ag(this.getExtent(),t,n)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(yg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),pg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,n,s,a))}getArea(){return Zp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return lr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const n=[];return n.length=xc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new to(n,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=vg(this.flatCoordinates,0,t,this.stride),this.changed()}}class Ls extends Ec{constructor(t,n){super(),this.setCoordinates(t,n)}clone(){const t=new Ls(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,s,a){const o=this.flatCoordinates,c=Sa(t,n,o[0],o[1]);if(c<a){const h=this.stride;for(let d=0;d<h;++d)s[d]=o[d];return s.length=h,c}return a}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return Mp(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return Ap(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=aT(this.flatCoordinates,0,t,this.stride),this.changed()}}function cT(r,t,n,s,a){return!Dp(a,function(c){return!or(r,t,n,s,c[0],c[1])})}function or(r,t,n,s,a,o){let c=0,h=r[n-s],d=r[n-s+1];for(;t<n;t+=s){const m=r[t],_=r[t+1];d<=o?_>o&&(m-h)*(o-d)-(a-h)*(_-d)>0&&c++:_<=o&&(m-h)*(o-d)-(a-h)*(_-d)<0&&c--,h=m,d=_}return c!==0}function qp(r,t,n,s,a,o){if(n.length===0||!or(r,t,n[0],s,a,o))return!1;for(let c=1,h=n.length;c<h;++c)if(or(r,n[c-1],n[c],s,a,o))return!1;return!0}function Eg(r,t,n,s,a,o,c){let h,d,m,_,y,v,S;const T=a[o+1],b=[];for(let L=0,z=n.length;L<z;++L){const N=n[L];for(_=r[N-s],v=r[N-s+1],h=t;h<N;h+=s)y=r[h],S=r[h+1],(T<=v&&S<=T||v<=T&&T<=S)&&(m=(T-v)/(S-v)*(y-_)+_,b.push(m)),_=y,v=S}let C=NaN,A=-1/0;for(b.sort(ki),_=b[0],h=1,d=b.length;h<d;++h){y=b[h];const L=Math.abs(y-_);L>A&&(m=(_+y)/2,qp(r,t,n,s,m,T)&&(C=m,A=L)),_=y}return isNaN(C)&&(C=a[o]),c?(c.push(C,T,A),c):[C,T,A]}function hT(r,t,n,s,a){let o=[];for(let c=0,h=n.length;c<h;++c){const d=n[c];o=Eg(r,t,d,s,a,2*c,o),t=d[d.length-1]}return o}function Wp(r,t,n,s,a){let o;for(t+=s;t<n;t+=s)if(o=a(r.slice(t-s,t),r.slice(t,t+s)),o)return o;return!1}function xg(r,t,n,s,a,o){return o=o??Op(Yn(),r,t,n,s),cn(a,o)?o[0]>=a[0]&&o[2]<=a[2]||o[1]>=a[1]&&o[3]<=a[3]?!0:Wp(r,t,n,s,function(c,h){return hS(a,c,h)}):!1}function Qp(r,t,n,s,a){return!!(xg(r,t,n,s,a)||or(r,t,n,s,a[0],a[1])||or(r,t,n,s,a[0],a[3])||or(r,t,n,s,a[2],a[1])||or(r,t,n,s,a[2],a[3]))}function fT(r,t,n,s,a){if(!Qp(r,t,n[0],s,a))return!1;if(n.length===1)return!0;for(let o=1,c=n.length;o<c;++o)if(cT(r,n[o-1],n[o],s,a)&&!xg(r,n[o-1],n[o],s,a))return!1;return!0}function dT(r,t,n,s){for(;t<n-s;){for(let a=0;a<s;++a){const o=r[t+a];r[t+a]=r[n-s+a],r[n-s+a]=o}t+=s,n-=s}}function Sg(r,t,n,s){let a=0,o=r[n-s],c=r[n-s+1];for(;t<n;t+=s){const h=r[t],d=r[t+1];a+=(h-o)*(d+c),o=h,c=d}return a===0?void 0:a>0}function gT(r,t,n,s,a){a=a!==void 0?a:!1;for(let o=0,c=n.length;o<c;++o){const h=n[o],d=Sg(r,t,h,s);if(o===0){if(a&&d||!a&&!d)return!1}else if(a&&!d||!a&&d)return!1;t=h}return!0}function _y(r,t,n,s,a){a=a!==void 0?a:!1;for(let o=0,c=n.length;o<c;++o){const h=n[o],d=Sg(r,t,h,s);(o===0?a&&d||!a&&!d:a&&!d||!a&&d)&&dT(r,t,h,s),t=h}return t}function mT(r,t){const n=[];let s=0,a=0,o;for(let c=0,h=t.length;c<h;++c){const d=t[c],m=Sg(r,s,d,2);if(o===void 0&&(o=m),m===o)n.push(t.slice(a,c+1));else{if(n.length===0)continue;n[n.length-1].push(t[a])}a=c+1,s=d}return n}class eo extends Ec{constructor(t,n,s){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&s?(this.setFlatCoordinates(n,t),this.ends_=s):this.setCoordinates(t,n)}appendLinearRing(t){this.flatCoordinates?uc(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new eo(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,n,s,a){return a<ag(this.getExtent(),t,n)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(sT(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),rT(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,n,s,a))}containsXY(t,n){return qp(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,n)}getArea(){return iT(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),_y(n,0,this.ends_,this.stride,t)):n=this.flatCoordinates,Qu(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=mr(this.getExtent());this.flatInteriorPoint_=Eg(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Ls(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new to(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,n=this.flatCoordinates,s=this.ends_,a=[];let o=0;for(let c=0,h=s.length;c<h;++c){const d=s[c],m=new to(n.slice(o,d),t);a.push(m),o=d}return a}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;gT(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=_y(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const n=[],s=[];return n.length=Kp(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,s),new eo(n,"XY",s)}getType(){return"Polygon"}intersectsExtent(t){return fT(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const s=lT(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=s.length===0?0:s[s.length-1],this.changed()}}function yy(r){if(yc(r))throw new Error("Cannot create polygon from empty extent");const t=r[0],n=r[1],s=r[2],a=r[3],o=[t,n,t,a,s,a,s,n,t,n];return new eo(o,"XY",[o.length])}function Tg(r,t,n,s){const a=Pt(t)/n[0],o=Qe(t)/n[1];return s?Math.min(r,Math.max(a,o)):Math.min(r,Math.min(a,o))}function Cg(r,t,n){let s=Math.min(r,t);const a=50;return s*=Math.log(1+a*Math.max(0,r/t-1))/a+1,n&&(s=Math.max(s,n),s/=Math.log(1+a*Math.max(0,n/r-1))/a+1),le(s,n/2,t*2)}function _T(r,t,n,s){return t=t!==void 0?t:!0,(function(a,o,c,h){if(a!==void 0){const d=r[0],m=r[r.length-1],_=n?Tg(d,n,c,s):d;if(h)return t?Cg(a,_,m):le(a,m,_);const y=Math.min(_,a),v=Math.floor(ig(r,y,o));return r[v]>_&&v<r.length-1?r[v+1]:r[v]}})}function yT(r,t,n,s,a,o){return s=s!==void 0?s:!0,n=n!==void 0?n:0,(function(c,h,d,m){if(c!==void 0){const _=a?Tg(t,a,d,o):t;if(m)return s?Cg(c,_,n):le(c,n,_);const y=1e-9,v=Math.ceil(Math.log(t/_)/Math.log(r)-y),S=-h*(.5-y)+.5,T=Math.min(_,c),b=Math.floor(Math.log(t/T)/Math.log(r)+S),C=Math.max(v,b),A=t/Math.pow(r,C);return le(A,n,_)}})}function py(r,t,n,s,a){return n=n!==void 0?n:!0,(function(o,c,h,d){if(o!==void 0){const m=s?Tg(r,s,h,a):r;return!n||!d?le(o,t,m):Cg(o,m,t)}})}function Rg(r){if(r!==void 0)return 0}function vy(r){if(r!==void 0)return r}function pT(r){const t=2*Math.PI/r;return(function(n,s){if(s)return n;if(n!==void 0)return n=Math.floor(n/t+.5)*t,n})}function vT(r){const t=Ms(5);return(function(n,s){return s||n===void 0?n:Math.abs(n)<=t?0:n})}const ET=42,bg=256,Jf=0;class Fn extends ni{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=gg(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&Yp(),t.center&&(t.center=zi(t.center,this.projection_)),t.extent&&(t.extent=ws(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const n=Object.assign({},t);for(const h in qn)delete n[h];this.setProperties(n,!0);const s=ST(t);this.maxResolution_=s.maxResolution,this.minResolution_=s.minResolution,this.zoomFactor_=s.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=s.minZoom;const a=xT(t),o=s.constraint,c=TT(t);this.constraints_={center:a,resolution:o,rotation:c},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let n=this.padding_;this.padding_=t;const s=this.getCenterInternal();if(s){const a=t||[0,0,0,0];n=n||[0,0,0,0];const o=this.getResolution(),c=o/2*(a[3]-n[3]+n[1]-a[1]),h=o/2*(a[0]-n[0]+n[2]-a[2]);this.setCenterInternal([s[0]+c,s[1]-h])}}getUpdatedOptions_(t){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let s=0;s<n.length;++s){let a=arguments[s];a.center&&(a=Object.assign({},a),a.center=zi(a.center,this.getProjection())),a.anchor&&(a=Object.assign({},a),a.anchor=zi(a.anchor,this.getProjection())),n[s]=a}this.animateInternal.apply(this,n)}animateInternal(t){let n=arguments.length,s;n>1&&typeof arguments[n-1]=="function"&&(s=arguments[n-1],--n);let a=0;for(;a<n&&!this.isDef();++a){const _=arguments[a];_.center&&this.setCenterInternal(_.center),_.zoom!==void 0?this.setZoom(_.zoom):_.resolution&&this.setResolution(_.resolution),_.rotation!==void 0&&this.setRotation(_.rotation)}if(a===n){s&&Iu(s,!0);return}let o=Date.now(),c=this.targetCenter_.slice(),h=this.targetResolution_,d=this.targetRotation_;const m=[];for(;a<n;++a){const _=arguments[a],y={start:o,complete:!1,anchor:_.anchor,duration:_.duration!==void 0?_.duration:1e3,easing:_.easing||mS,callback:s};if(_.center&&(y.sourceCenter=c,y.targetCenter=_.center.slice(),c=y.targetCenter),_.zoom!==void 0?(y.sourceResolution=h,y.targetResolution=this.getResolutionForZoom(_.zoom),h=y.targetResolution):_.resolution&&(y.sourceResolution=h,y.targetResolution=_.resolution,h=y.targetResolution),_.rotation!==void 0){y.sourceRotation=d;const v=Ta(_.rotation-d+Math.PI,2*Math.PI)-Math.PI;y.targetRotation=d+v,d=y.targetRotation}CT(y)?y.complete=!0:o+=y.duration,m.push(y)}this.animations_.push(m),this.setHint(He.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[He.ANIMATING]>0}getInteracting(){return this.hints_[He.INTERACTING]>0}cancelAnimations(){this.setHint(He.ANIMATING,-this.hints_[He.ANIMATING]);let t;for(let n=0,s=this.animations_.length;n<s;++n){const a=this.animations_[n];if(a[0].callback&&Iu(a[0].callback,!1),!t)for(let o=0,c=a.length;o<c;++o){const h=a[o];if(!h.complete){t=h.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let n=!1;for(let s=this.animations_.length-1;s>=0;--s){const a=this.animations_[s];let o=!0;for(let c=0,h=a.length;c<h;++c){const d=a[c];if(d.complete)continue;const m=t-d.start;let _=d.duration>0?m/d.duration:1;_>=1?(d.complete=!0,_=1):o=!1;const y=d.easing(_);if(d.sourceCenter){const v=d.sourceCenter[0],S=d.sourceCenter[1],T=d.targetCenter[0],b=d.targetCenter[1];this.nextCenter_=d.targetCenter;const C=v+y*(T-v),A=S+y*(b-S);this.targetCenter_=[C,A]}if(d.sourceResolution&&d.targetResolution){const v=y===1?d.targetResolution:d.sourceResolution+y*(d.targetResolution-d.sourceResolution);if(d.anchor){const S=this.getViewportSize_(this.getRotation()),T=this.constraints_.resolution(v,0,S,!0);this.targetCenter_=this.calculateCenterZoom(T,d.anchor)}this.nextResolution_=d.targetResolution,this.targetResolution_=v,this.applyTargetState_(!0)}if(d.sourceRotation!==void 0&&d.targetRotation!==void 0){const v=y===1?Ta(d.targetRotation+Math.PI,2*Math.PI)-Math.PI:d.sourceRotation+y*(d.targetRotation-d.sourceRotation);if(d.anchor){const S=this.constraints_.rotation(v,!0);this.targetCenter_=this.calculateCenterRotate(S,d.anchor)}this.nextRotation_=d.targetRotation,this.targetRotation_=v}if(this.applyTargetState_(!0),n=!0,!d.complete)break}if(o){this.animations_[s]=null,this.setHint(He.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const c=a[0].callback;c&&Iu(c,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,n){let s;const a=this.getCenterInternal();return a!==void 0&&(s=[a[0]-n[0],a[1]-n[1]],og(s,t-this.getRotation()),fS(s,n)),s}calculateCenterZoom(t,n){let s;const a=this.getCenterInternal(),o=this.getResolution();if(a!==void 0&&o!==void 0){const c=n[0]-t*(n[0]-a[0])/o,h=n[1]-t*(n[1]-a[1])/o;s=[c,h]}return s}getViewportSize_(t){const n=this.viewportSize_;if(t){const s=n[0],a=n[1];return[Math.abs(s*Math.cos(t))+Math.abs(a*Math.sin(t)),Math.abs(s*Math.sin(t))+Math.abs(a*Math.cos(t))]}return n}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t&&Ud(t,this.getProjection())}getCenterInternal(){return this.get(qn.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const n=this.calculateExtentInternal(t);return Hp(n,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();Bt(n,"The view center is not defined");const s=this.getResolution();Bt(s!==void 0,"The view resolution is not defined");const a=this.getRotation();return Bt(a!==void 0,"The view rotation is not defined"),jd(n,s,a,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(qn.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,n){return this.getResolutionForExtentInternal(ws(t,this.getProjection()),n)}getResolutionForExtentInternal(t,n){n=n||this.getViewportSizeMinusPadding_();const s=Pt(t)/n[0],a=Qe(t)/n[1];return Math.max(s,a)}getResolutionForValueFunction(t){t=t||2;const n=this.getConstrainedResolution(this.maxResolution_),s=this.minResolution_,a=Math.log(n/s)/Math.log(t);return(function(o){return n/Math.pow(t,o*a)})}getRotation(){return this.get(qn.ROTATION)}getValueForResolutionFunction(t){const n=Math.log(t||2),s=this.getConstrainedResolution(this.maxResolution_),a=this.minResolution_,o=Math.log(s/a)/n;return(function(c){return Math.log(s/c)/n/o})}getViewportSizeMinusPadding_(t){let n=this.getViewportSize_(t);const s=this.padding_;return s&&(n=[n[0]-s[1]-s[3],n[1]-s[0]-s[2]]),n}getState(){const t=this.getProjection(),n=this.getResolution(),s=this.getRotation();let a=this.getCenterInternal();const o=this.padding_;if(o){const c=this.getViewportSizeMinusPadding_();a=td(a,this.getViewportSize_(),[c[0]/2+o[3],c[1]/2+o[0]],n,s)}return{center:a.slice(0),projection:t!==void 0?t:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:s,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const n=this.getResolution();return n!==void 0&&(t=this.getZoomForResolution(n)),t}getZoomForResolution(t){let n=this.minZoom_||0,s,a;if(this.resolutions_){const o=ig(this.resolutions_,t,1);n=o,s=this.resolutions_[o],o==this.resolutions_.length-1?a=2:a=s/this.resolutions_[o+1]}else s=this.maxResolution_,a=this.zoomFactor_;return n+Math.log(s/t)/Math.log(a)}getResolutionForZoom(t){if(this.resolutions_?.length){if(this.resolutions_.length===1)return this.resolutions_[0];const n=le(Math.floor(t),0,this.resolutions_.length-2),s=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(s,le(t-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,n){let s;if(Bt(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){Bt(!yc(t),"Cannot fit empty extent provided as `geometry`");const a=ws(t,this.getProjection());s=yy(a)}else if(t.getType()==="Circle"){const a=ws(t.getExtent(),this.getProjection());s=yy(a),s.rotate(this.getRotation(),mr(a))}else s=t;this.fitInternal(s,n)}rotatedExtentForGeometry(t){const n=this.getRotation(),s=Math.cos(n),a=Math.sin(-n),o=t.getFlatCoordinates(),c=t.getStride();let h=1/0,d=1/0,m=-1/0,_=-1/0;for(let y=0,v=o.length;y<v;y+=c){const S=o[y]*s-o[y+1]*a,T=o[y]*a+o[y+1]*s;h=Math.min(h,S),d=Math.min(d,T),m=Math.max(m,S),_=Math.max(_,T)}return[h,d,m,_]}fitInternal(t,n){n=n||{};let s=n.size;s||(s=this.getViewportSizeMinusPadding_());const a=n.padding!==void 0?n.padding:[0,0,0,0],o=n.nearest!==void 0?n.nearest:!1;let c;n.minResolution!==void 0?c=n.minResolution:n.maxZoom!==void 0?c=this.getResolutionForZoom(n.maxZoom):c=0;const h=this.rotatedExtentForGeometry(t);let d=this.getResolutionForExtentInternal(h,[s[0]-a[1]-a[3],s[1]-a[0]-a[2]]);d=isNaN(d)?c:Math.max(d,c),d=this.getConstrainedResolution(d,o?0:1);const m=this.getRotation(),_=Math.sin(m),y=Math.cos(m),v=mr(h);v[0]+=(a[1]-a[3])/2*d,v[1]+=(a[0]-a[2])/2*d;const S=v[0]*y-v[1]*_,T=v[1]*y+v[0]*_,b=this.getConstrainedCenter([S,T],d),C=n.callback?n.callback:Ql;n.duration!==void 0?this.animateInternal({resolution:d,center:b,duration:n.duration,easing:n.easing},C):(this.targetResolution_=d,this.targetCenter_=b,this.applyTargetState_(!1,!0),Iu(C,!0))}centerOn(t,n,s){this.centerOnInternal(zi(t,this.getProjection()),n,s)}centerOnInternal(t,n,s){this.setCenterInternal(td(t,n,s,this.getResolution(),this.getRotation()))}calculateCenterShift(t,n,s,a){let o;const c=this.padding_;if(c&&t){const h=this.getViewportSizeMinusPadding_(-s),d=td(t,a,[h[0]/2+c[3],h[1]/2+c[0]],n,s);o=[t[0]-d[0],t[1]-d[1]]}return o}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(t){const n=Ud(this.targetCenter_,this.getProjection());this.setCenter([n[0]+t[0],n[1]+t[1]])}adjustCenterInternal(t){const n=this.targetCenter_;this.setCenterInternal([n[0]+t[0],n[1]+t[1]])}adjustResolution(t,n){n=n&&zi(n,this.getProjection()),this.adjustResolutionInternal(t,n)}adjustResolutionInternal(t,n){const s=this.getAnimating()||this.getInteracting(),a=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*t,0,a,s);n&&(this.targetCenter_=this.calculateCenterZoom(o,n)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,n){this.adjustResolution(Math.pow(this.zoomFactor_,-t),n)}adjustRotation(t,n){n&&(n=zi(n,this.getProjection())),this.adjustRotationInternal(t,n)}adjustRotationInternal(t,n){const s=this.getAnimating()||this.getInteracting(),a=this.constraints_.rotation(this.targetRotation_+t,s);n&&(this.targetCenter_=this.calculateCenterRotate(a,n)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t&&zi(t,this.getProjection()))}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,n){return this.hints_[t]+=n,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,n){const s=this.getAnimating()||this.getInteracting()||n,a=this.constraints_.rotation(this.targetRotation_,s),o=this.getViewportSize_(a),c=this.constraints_.resolution(this.targetResolution_,0,o,s),h=this.constraints_.center(this.targetCenter_,c,o,s,this.calculateCenterShift(this.targetCenter_,c,a,o));this.get(qn.ROTATION)!==a&&this.set(qn.ROTATION,a),this.get(qn.RESOLUTION)!==c&&(this.set(qn.RESOLUTION,c),this.set("zoom",this.getZoom(),!0)),(!h||!this.get(qn.CENTER)||!Zu(this.get(qn.CENTER),h))&&this.set(qn.CENTER,h),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,n,s){t=t!==void 0?t:200;const a=n||0,o=this.constraints_.rotation(this.targetRotation_),c=this.getViewportSize_(o),h=this.constraints_.resolution(this.targetResolution_,a,c),d=this.constraints_.center(this.targetCenter_,h,c,!1,this.calculateCenterShift(this.targetCenter_,h,o,c));if(t===0&&!this.cancelAnchor_){this.targetResolution_=h,this.targetRotation_=o,this.targetCenter_=d,this.applyTargetState_();return}s=s||(t===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==h||this.getRotation()!==o||!this.getCenterInternal()||!Zu(this.getCenterInternal(),d))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:d,resolution:h,duration:t,easing:za,anchor:s}))}beginInteraction(){this.resolveConstraints(0),this.setHint(He.INTERACTING,1)}endInteraction(t,n,s){s=s&&zi(s,this.getProjection()),this.endInteractionInternal(t,n,s)}endInteractionInternal(t,n,s){this.getInteracting()&&(this.setHint(He.INTERACTING,-1),this.resolveConstraints(t,n,s))}getConstrainedCenter(t,n){const s=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,n||this.getResolution(),s)}getConstrainedZoom(t,n){const s=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(s,n))}getConstrainedResolution(t,n){n=n||0;const s=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,s)}}function Iu(r,t){setTimeout(function(){r(t)},0)}function xT(r){if(r.extent!==void 0){const n=r.smoothExtentConstraint!==void 0?r.smoothExtentConstraint:!0;return J1(r.extent,r.constrainOnlyCenter,n)}const t=gg(r.projection,"EPSG:3857");if(r.multiWorld!==!0&&t.isGlobal()){const n=t.getExtent().slice();return n[0]=-1/0,n[2]=1/0,J1(n,!1,!1)}return aS}function ST(r){let t,n,s,c=r.minZoom!==void 0?r.minZoom:Jf,h=r.maxZoom!==void 0?r.maxZoom:28;const d=r.zoomFactor!==void 0?r.zoomFactor:2,m=r.multiWorld!==void 0?r.multiWorld:!1,_=r.smoothResolutionConstraint!==void 0?r.smoothResolutionConstraint:!0,y=r.showFullExtent!==void 0?r.showFullExtent:!1,v=gg(r.projection,"EPSG:3857"),S=v.getExtent();let T=r.constrainOnlyCenter,b=r.extent;if(!m&&!b&&v.isGlobal()&&(T=!1,b=S),r.resolutions!==void 0){const C=r.resolutions;n=C[c],s=C[h]!==void 0?C[h]:C[C.length-1],r.constrainResolution?t=_T(C,_,!T&&b,y):t=py(n,s,_,!T&&b,y)}else{const A=(S?Math.max(Pt(S),Qe(S)):360*ug.degrees/v.getMetersPerUnit())/bg/Math.pow(2,Jf),L=A/Math.pow(2,28-Jf);n=r.maxResolution,n!==void 0?c=0:n=A/Math.pow(d,c),s=r.minResolution,s===void 0&&(r.maxZoom!==void 0?r.maxResolution!==void 0?s=n/Math.pow(d,h):s=A/Math.pow(d,h):s=L),h=c+Math.floor(Math.log(n/s)/Math.log(d)),s=n/Math.pow(d,h-c),r.constrainResolution?t=yT(d,n,s,_,!T&&b,y):t=py(n,s,_,!T&&b,y)}return{constraint:t,maxResolution:n,minResolution:s,minZoom:c,zoomFactor:d}}function TT(r){if(r.enableRotation!==void 0?r.enableRotation:!0){const n=r.constrainRotation;return n===void 0||n===!0?vT():n===!1?vy:typeof n=="number"?pT(n):vy}return Rg}function CT(r){return!(r.sourceCenter&&r.targetCenter&&!Zu(r.sourceCenter,r.targetCenter)||r.sourceResolution!==r.targetResolution||r.sourceRotation!==r.targetRotation)}function td(r,t,n,s,a){const o=Math.cos(-a);let c=Math.sin(-a),h=r[0]*o-r[1]*c,d=r[1]*o+r[0]*c;h+=(t[0]/2-n[0])*s,d+=(n[1]-t[1]/2)*s,c=-c;const m=h*o-d*c,_=d*o+h*c;return[m,_]}const zu="ol-hidden",RT="ol-selectable",Sc="ol-unselectable",wg="ol-control",Ey="ol-collapsed",bT=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z0-9]+?)\\s*$`].join(""),"i"),xy=["style","variant","weight","size","lineHeight","family"],Bd={normal:400,bold:700},Xd=function(r){const t=r.match(bT);if(!t)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"400",variant:"normal"};for(let s=0,a=xy.length;s<a;++s){const o=t[s+1];o!==void 0&&(n[xy[s]]=typeof o=="string"?o.trim():o)}return isNaN(Number(n.weight))&&n.weight in Bd&&(n.weight=Bd[n.weight]),n.families=n.family.split(/,\s?/).map(s=>s.trim().replace(/^['"]|['"]$/g,"")),n};function xe(r,t,n,s){let a;return n&&n.length?a=n.shift():sg?a=new OffscreenCanvas(r||300,t||300):a=document.createElement("canvas"),r&&(a.width=r),t&&(a.height=t),a.getContext("2d",s)}let ed;function $u(){return ed||(ed=xe(1,1)),ed}function Tc(r){const t=r.canvas;t.width=1,t.height=1,r.clearRect(0,0,1,1)}function wT(r){let t=r.offsetWidth;const n=getComputedStyle(r);return t+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),t}function AT(r){let t=r.offsetHeight;const n=getComputedStyle(r);return t+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),t}function Sy(r,t){const n=t.parentNode;n&&n.replaceChild(r,t)}function $p(r){for(;r.lastChild;)r.lastChild.remove()}function MT(r,t){const n=r.childNodes;for(let s=0;;++s){const a=n[s],o=t[s];if(!a&&!o)break;if(a!==o){if(!a){r.appendChild(o);continue}if(!o){r.removeChild(a),--s;continue}r.insertBefore(o,a)}}}class Ag extends ni{constructor(t){super();const n=t.element;n&&!t.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&this.element?.remove();for(let n=0,s=this.listenerKeys.length;n<s;++n)te(this.listenerKeys[n]);if(this.listenerKeys.length=0,this.map_=t,t){const n=this.target_??t.getOverlayContainerStopEvent();this.element&&n.appendChild(this.element),this.render!==Ql&&this.listenerKeys.push(It(t,ji.POSTRENDER,this.render,this)),t.render()}}render(t){}setTarget(t){this.target_=typeof t=="string"?document.getElementById(t):t}}class OT extends Ag{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=t.collapsed!==void 0?t.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=t.collapsible!==void 0,this.collapsible_=t.collapsible!==void 0?t.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=t.attributions;const n=t.className!==void 0?t.className:"ol-attribution",s=t.tipLabel!==void 0?t.tipLabel:"Attributions",a=t.expandClassName!==void 0?t.expandClassName:n+"-expand",o=t.collapseLabel!==void 0?t.collapseLabel:"›",c=t.collapseClassName!==void 0?t.collapseClassName:n+"-collapse";typeof o=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=c):this.collapseLabel_=o;const h=t.label!==void 0?t.label:"i";typeof h=="string"?(this.label_=document.createElement("span"),this.label_.textContent=h,this.label_.className=a):this.label_=h;const d=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=s,this.toggleButton_.appendChild(d),this.toggleButton_.addEventListener(St.CLICK,this.handleClick_.bind(this),!1);const m=n+" "+Sc+" "+wg+(this.collapsed_&&this.collapsible_?" "+Ey:"")+(this.collapsible_?"":" ol-uncollapsible"),_=this.element;_.className=m,_.appendChild(this.toggleButton_),_.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const n=this.getMap().getAllLayers(),s=new Set(n.flatMap(a=>a.getAttributions(t)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(a=>s.add(a)):s.add(this.attributions_)),!this.overrideCollapsible_){const a=!n.some(o=>o.getSource()?.getAttributionsCollapsible()===!1);this.setCollapsible(a)}return Array.from(s)}async updateElement_(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=await Promise.all(this.collectSourceAttributions_(t).map(a=>Kx(()=>a))),s=n.length>0;if(this.renderedVisible_!=s&&(this.element.style.display=s?"":"none",this.renderedVisible_=s),!Ns(n,this.renderedAttributions_)){$p(this.ulElement_);for(let a=0,o=n.length;a<o;++a){const c=document.createElement("li");c.innerHTML=n[a],this.ulElement_.appendChild(c)}this.renderedAttributions_=n}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(Ey),this.collapsed_?Sy(this.collapseLabel_,this.label_):Sy(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}}class DT extends Ag{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const n=t.className!==void 0?t.className:"ol-rotate",s=t.label!==void 0?t.label:"⇧",a=t.compassClassName!==void 0?t.compassClassName:"ol-compass";this.label_=null,typeof s=="string"?(this.label_=document.createElement("span"),this.label_.className=a,this.label_.textContent=s):(this.label_=s,this.label_.classList.add(a));const o=t.tipLabel?t.tipLabel:"Reset rotation",c=document.createElement("button");c.className=n+"-reset",c.setAttribute("type","button"),c.title=o,c.appendChild(this.label_),c.addEventListener(St.CLICK,this.handleClick_.bind(this),!1);const h=n+" "+Sc+" "+wg,d=this.element;d.className=h,d.appendChild(c),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=t.duration!==void 0?t.duration:250,this.autoHide_=t.autoHide!==void 0?t.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(zu)}handleClick_(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const s=n.getRotation();s!==void 0&&(this.duration_>0&&s%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:za}):n.setRotation(0))}render(t){const n=t.frameState;if(!n)return;const s=n.viewState.rotation;if(s!=this.rotation_){const a="rotate("+s+"rad)";if(this.autoHide_){const o=this.element.classList.contains(zu);!o&&s===0?this.element.classList.add(zu):o&&s!==0&&this.element.classList.remove(zu)}this.label_.style.transform=a}this.rotation_=s}}class LT extends Ag{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const n=t.className!==void 0?t.className:"ol-zoom",s=t.delta!==void 0?t.delta:1,a=t.zoomInClassName!==void 0?t.zoomInClassName:n+"-in",o=t.zoomOutClassName!==void 0?t.zoomOutClassName:n+"-out",c=t.zoomInLabel!==void 0?t.zoomInLabel:"+",h=t.zoomOutLabel!==void 0?t.zoomOutLabel:"–",d=t.zoomInTipLabel!==void 0?t.zoomInTipLabel:"Zoom in",m=t.zoomOutTipLabel!==void 0?t.zoomOutTipLabel:"Zoom out",_=document.createElement("button");_.className=a,_.setAttribute("type","button"),_.title=d,_.appendChild(typeof c=="string"?document.createTextNode(c):c),_.addEventListener(St.CLICK,this.handleClick_.bind(this,s),!1);const y=document.createElement("button");y.className=o,y.setAttribute("type","button"),y.title=m,y.appendChild(typeof h=="string"?document.createTextNode(h):h),y.addEventListener(St.CLICK,this.handleClick_.bind(this,-s),!1);const v=n+" "+Sc+" "+wg,S=this.element;S.className=v,S.appendChild(_),S.appendChild(y),this.duration_=t.duration!==void 0?t.duration:250}handleClick_(t,n){n.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const s=this.getMap().getView();if(!s)return;const a=s.getZoom();if(a!==void 0){const o=s.getConstrainedZoom(a+t);this.duration_>0?(s.getAnimating()&&s.cancelAnimations(),s.animate({zoom:o,duration:this.duration_,easing:za})):s.setZoom(o)}}}function Mg(r){r=r||{};const t=new gi;return(r.zoom!==void 0?r.zoom:!0)&&t.push(new LT(r.zoomOptions)),(r.rotate!==void 0?r.rotate:!0)&&t.push(new DT(r.rotateOptions)),(r.attribution!==void 0?r.attribution:!0)&&t.push(new OT(r.attributionOptions)),t}class NT{constructor(t,n,s){this.decay_=t,this.minVelocity_=n,this.delay_=s,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,n){this.points_.push(t,n,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<t)return!1;let s=n-3;for(;s>0&&this.points_[s+2]>t;)s-=3;const a=this.points_[n+2]-this.points_[s+2];if(a<1e3/60)return!1;const o=this.points_[n]-this.points_[s],c=this.points_[n+1]-this.points_[s+1];return this.angle_=Math.atan2(c,o),this.initialVelocity_=Math.sqrt(o*o+c*c)/a,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const Ty={ACTIVE:"active"};class ho extends ni{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(Ty.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(Ty.ACTIVE,t)}setMap(t){this.map_=t}}function IT(r,t,n){const s=r.getCenterInternal();if(s){const a=[s[0]+t[0],s[1]+t[1]];r.animateInternal({duration:n!==void 0?n:250,easing:_S,center:r.getConstrainedCenter(a)})}}function Og(r,t,n,s){const a=r.getZoom();if(a===void 0)return;const o=r.getConstrainedZoom(a+t),c=r.getResolutionForZoom(o);r.getAnimating()&&r.cancelAnimations(),r.animate({resolution:c,anchor:n,duration:s!==void 0?s:250,easing:za})}class zT extends ho{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:250}handleEvent(t){let n=!1;if(t.type==de.DBLCLICK){const s=t.originalEvent,a=t.map,o=t.coordinate,c=s.shiftKey?-this.delta_:this.delta_,h=a.getView();Og(h,c,o,this.duration_),s.preventDefault(),n=!0}return!n}}function Yd(r){const t=arguments;return function(n){let s=!0;for(let a=0,o=t.length;a<o&&(s=s&&t[a](n),!!s);++a);return s}}const jT=function(r){const t=r.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},GT=function(r){const t=r.map.getTargetElement(),n=t.getRootNode(),s=r.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(s):t.contains(s)},Jp=function(r){const t=r.map.getTargetElement(),n=t.getRootNode();return(n instanceof ShadowRoot?n.host:t).hasAttribute("tabindex")?GT(r):!0},kT=Wl,t2=function(r){const t=r.originalEvent;return"pointerId"in t&&t.button==0&&!($x&&Cp&&t.ctrlKey)},e2=function(r){const t=r.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},FT=function(r){const t=r.originalEvent;return Cp?t.metaKey:t.ctrlKey},UT=function(r){const t=r.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},n2=function(r){const t=r.originalEvent,n=t.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!t.target.isContentEditable},nd=function(r){const t=r.originalEvent;return"pointerId"in t&&t.pointerType=="mouse"},BT=function(r){const t=r.originalEvent;return"pointerId"in t&&t.isPrimary&&t.button===0};class fo extends ho{constructor(t){t=t||{},super(t),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==de.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==de.POINTERUP){const s=this.handleUpEvent(t);this.handlingDownUpSequence=s&&this.targetPointers.length>0}}else if(t.type==de.POINTERDOWN){const s=this.handleDownEvent(t);this.handlingDownUpSequence=s,n=this.stopDown(s)}else t.type==de.POINTERMOVE&&this.handleMoveEvent(t);return!n}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}}function Dg(r){const t=r.length;let n=0,s=0;for(let a=0;a<t;a++)n+=r[a].clientX,s+=r[a].clientY;return{clientX:n/t,clientY:s/t}}class XT extends fo{constructor(t){super({stopDown:cc}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=t.condition?t.condition:Yd(e2,BT);this.condition_=t.onFocusOnly?Yd(Jp,n):n,this.noKinetic_=!1}handleDragEvent(t){const n=t.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const s=this.targetPointers,a=n.getEventPixel(Dg(s));if(s.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(a[0],a[1]),this.lastCentroid){const o=[this.lastCentroid[0]-a[0],a[1]-this.lastCentroid[1]],h=t.map.getView();dS(o,h.getResolution()),og(o,h.getRotation()),h.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=a,this.lastPointersCount_=s.length,t.originalEvent.preventDefault()}handleUpEvent(t){const n=t.map,s=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const a=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),c=s.getCenterInternal(),h=n.getPixelFromCoordinateInternal(c),d=n.getCoordinateFromPixelInternal([h[0]-a*Math.cos(o),h[1]-a*Math.sin(o)]);s.animateInternal({center:s.getConstrainedCenter(d),duration:500,easing:za})}return this.panning_&&(this.panning_=!1,s.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const s=t.map.getView();return this.lastCentroid=null,s.getAnimating()&&s.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class YT extends fo{constructor(t){t=t||{},super({stopDown:cc}),this.condition_=t.condition?t.condition:jT,this.lastAngle_=void 0,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){if(!nd(t))return;const n=t.map,s=n.getView();if(s.getConstraints().rotation===Rg)return;const a=n.getSize(),o=t.pixel,c=Math.atan2(a[1]/2-o[1],o[0]-a[0]/2);if(this.lastAngle_!==void 0){const h=c-this.lastAngle_;s.adjustRotationInternal(-h)}this.lastAngle_=c}handleUpEvent(t){return nd(t)?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){return nd(t)&&t2(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class HT extends oc{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,n=this.endPixel_,s="px",a=this.element_.style;a.left=Math.min(t[0],n[0])+s,a.top=Math.min(t[1],n[1])+s,a.width=Math.abs(n[0]-t[0])+s,a.height=Math.abs(n[1]-t[1])+s}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,n){this.startPixel_=t,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const t=this.startPixel_,n=this.endPixel_,a=[t,[t[0],n[1]],n,[n[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);a[4]=a[0].slice(),this.geometry_?this.geometry_.setCoordinates([a]):this.geometry_=new eo([a])}getGeometry(){return this.geometry_}}const aa={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class jl extends Hi{constructor(t,n,s){super(t),this.coordinate=n,this.mapBrowserEvent=s}}class PT extends fo{constructor(t){super(),this.on,this.once,this.un,t=t??{},this.box_=new HT(t.className||"ol-dragbox"),this.minArea_=t.minArea??64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition??t2,this.boxEndCondition_=t.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(t,n,s){const a=s[0]-n[0],o=s[1]-n[1];return a*a+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.startPixel_&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new jl(aa.BOXDRAG,t.coordinate,t)))}handleUpEvent(t){if(!this.startPixel_)return!1;const n=this.boxEndCondition_(t,this.startPixel_,t.pixel);return n&&this.onBoxEnd(t),this.dispatchEvent(new jl(n?aa.BOXEND:aa.BOXCANCEL,t.coordinate,t)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new jl(aa.BOXSTART,t.coordinate,t)),!0):!1}onBoxEnd(t){}setActive(t){t||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new jl(aa.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(t)}setMap(t){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new jl(aa.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(t)}}class VT extends PT{constructor(t){t=t||{};const n=t.condition?t.condition:UT;super({condition:n,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=t.duration!==void 0?t.duration:200,this.out_=t.out!==void 0?t.out:!1}onBoxEnd(t){const s=this.getMap().getView();let a=this.getGeometry();if(this.out_){const o=s.rotatedExtentForGeometry(a),c=s.getResolutionForExtentInternal(o),h=s.getResolution()/c;a=a.clone(),a.scale(h*h)}s.fitInternal(a,{duration:this.duration_,easing:za})}}const tr={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class ZT extends ho{constructor(t){super(),t=t||{},this.defaultCondition_=function(n){return e2(n)&&n2(n)},this.condition_=t.condition!==void 0?t.condition:this.defaultCondition_,this.duration_=t.duration!==void 0?t.duration:100,this.pixelDelta_=t.pixelDelta!==void 0?t.pixelDelta:128}handleEvent(t){let n=!1;if(t.type==St.KEYDOWN){const s=t.originalEvent,a=s.key;if(this.condition_(t)&&(a==tr.DOWN||a==tr.LEFT||a==tr.RIGHT||a==tr.UP)){const c=t.map.getView(),h=c.getResolution()*this.pixelDelta_;let d=0,m=0;a==tr.DOWN?m=-h:a==tr.LEFT?d=-h:a==tr.RIGHT?d=h:m=h;const _=[d,m];og(_,c.getRotation()),IT(c,_,this.duration_),s.preventDefault(),n=!0}}return!n}}class KT extends ho{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(n){return!FT(n)&&n2(n)},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:100}handleEvent(t){let n=!1;if(t.type==St.KEYDOWN||t.type==St.KEYPRESS){const s=t.originalEvent,a=s.key;if(this.condition_(t)&&(a==="+"||a==="-")){const o=t.map,c=a==="+"?this.delta_:-this.delta_,h=o.getView();Og(h,c,void 0,this.duration_),s.preventDefault(),n=!0}}return!n}}const qT=40,WT=300;class QT extends ho{constructor(t){t=t||{},super(t),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=t.maxDelta!==void 0?t.maxDelta:1,this.duration_=t.duration!==void 0?t.duration:250,this.timeout_=t.timeout!==void 0?t.timeout:80,this.useAnchor_=t.useAnchor!==void 0?t.useAnchor:!0,this.constrainResolution_=t.constrainResolution!==void 0?t.constrainResolution:!1;const n=t.condition?t.condition:kT;this.condition_=t.onFocusOnly?Yd(Jp,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(t){if(!this.condition_(t)||t.type!==St.WHEEL)return!0;const s=t.map,a=t.originalEvent;a.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.pixel);let o=a.deltaY;switch(a.deltaMode){case WheelEvent.DOM_DELTA_LINE:o*=qT;break;case WheelEvent.DOM_DELTA_PAGE:o*=WT;break}if(o===0)return!1;this.lastDelta_=o;const c=Date.now();this.startTime_===void 0&&(this.startTime_=c),(!this.mode_||c-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");const h=s.getView();if(this.mode_==="trackpad"&&!(h.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(h.getAnimating()&&h.cancelAnimations(),h.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),h.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_?s.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=c,!1;this.totalDelta_+=o;const d=Math.max(this.timeout_-(c-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,s),d),!1}handleWheelZoom_(t){const n=t.getView();n.getAnimating()&&n.cancelAnimations();let s=-le(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(s=s?s>0?1:-1:0),Og(n,s,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}class $T extends fo{constructor(t){t=t||{};const n=t;n.stopDown||(n.stopDown=cc),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=t.threshold!==void 0?t.threshold:.3,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){let n=0;const s=this.targetPointers[0],a=this.targetPointers[1],o=Math.atan2(a.clientY-s.clientY,a.clientX-s.clientX);if(this.lastAngle_!==void 0){const d=o-this.lastAngle_;this.rotationDelta_+=d,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=d}this.lastAngle_=o;const c=t.map,h=c.getView();h.getConstraints().rotation!==Rg&&(this.anchor_=c.getCoordinateFromPixelInternal(c.getEventPixel(Dg(this.targetPointers))),this.rotating_&&(c.render(),h.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(t){return this.targetPointers.length<2?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class JT extends fo{constructor(t){t=t||{};const n=t;n.stopDown||(n.stopDown=cc),super(n),this.anchor_=null,this.duration_=t.duration!==void 0?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let n=1;const s=this.targetPointers[0],a=this.targetPointers[1],o=s.clientX-a.clientX,c=s.clientY-a.clientY,h=Math.sqrt(o*o+c*c);this.lastDistance_!==void 0&&(n=this.lastDistance_/h),this.lastDistance_=h;const d=t.map,m=d.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=d.getCoordinateFromPixelInternal(d.getEventPixel(Dg(this.targetPointers))),d.render(),m.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const s=t.map.getView(),a=this.lastScaleDelta_>1?1:-1;return s.endInteraction(this.duration_,a),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function tC(r){r=r||{};const t=new gi,n=new NT(-.005,.05,100);return(r.altShiftDragRotate!==void 0?r.altShiftDragRotate:!0)&&t.push(new YT),(r.doubleClickZoom!==void 0?r.doubleClickZoom:!0)&&t.push(new zT({delta:r.zoomDelta,duration:r.zoomDuration})),(r.dragPan!==void 0?r.dragPan:!0)&&t.push(new XT({onFocusOnly:r.onFocusOnly,kinetic:n})),(r.pinchRotate!==void 0?r.pinchRotate:!0)&&t.push(new $T),(r.pinchZoom!==void 0?r.pinchZoom:!0)&&t.push(new JT({duration:r.zoomDuration})),(r.keyboard!==void 0?r.keyboard:!0)&&(t.push(new ZT),t.push(new KT({delta:r.zoomDelta,duration:r.zoomDuration}))),(r.mouseWheelZoom!==void 0?r.mouseWheelZoom:!0)&&t.push(new QT({onFocusOnly:r.onFocusOnly,duration:r.zoomDuration})),(r.shiftDragZoom!==void 0?r.shiftDragZoom:!0)&&t.push(new VT({duration:r.zoomDuration})),t}const Ht={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class i2 extends ni{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const n=Object.assign({},t);typeof t.properties=="object"&&(delete n.properties,Object.assign(n,t.properties)),n[Ht.OPACITY]=t.opacity!==void 0?t.opacity:1,Bt(typeof n[Ht.OPACITY]=="number","Layer opacity must be a number"),n[Ht.VISIBLE]=t.visible!==void 0?t.visible:!0,n[Ht.Z_INDEX]=t.zIndex,n[Ht.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,n[Ht.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,n[Ht.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,n[Ht.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const n=this.state_||{layer:this,managed:t===void 0?!0:t},s=this.getZIndex();return n.opacity=le(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=s===void 0&&!n.managed?1/0:s,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(t){return jt()}getLayerStatesArray(t){return jt()}getExtent(){return this.get(Ht.EXTENT)}getMaxResolution(){return this.get(Ht.MAX_RESOLUTION)}getMinResolution(){return this.get(Ht.MIN_RESOLUTION)}getMinZoom(){return this.get(Ht.MIN_ZOOM)}getMaxZoom(){return this.get(Ht.MAX_ZOOM)}getOpacity(){return this.get(Ht.OPACITY)}getSourceState(){return jt()}getVisible(){return this.get(Ht.VISIBLE)}getZIndex(){return this.get(Ht.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(Ht.EXTENT,t)}setMaxResolution(t){this.set(Ht.MAX_RESOLUTION,t)}setMinResolution(t){this.set(Ht.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(Ht.MAX_ZOOM,t)}setMinZoom(t){this.set(Ht.MIN_ZOOM,t)}setOpacity(t){Bt(typeof t=="number","Layer opacity must be a number"),this.set(Ht.OPACITY,t)}setVisible(t){this.set(Ht.VISIBLE,t)}setZIndex(t){this.set(Ht.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}class Rs extends Hi{constructor(t,n){super(t),this.layer=n}}const id={LAYERS:"layers"};class ja extends i2{constructor(t){t=t||{};const n=Object.assign({},t);delete n.layers;let s=t.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(id.LAYERS,this.handleLayersChanged_),s?Array.isArray(s)?s=new gi(s.slice(),{unique:!0}):Bt(typeof s.getArray=="function","Expected `layers` to be an array or a `Collection`"):s=new gi(void 0,{unique:!0}),this.setLayers(s)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(te),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push(It(t,ln.ADD,this.handleLayersAdd_,this),It(t,ln.REMOVE,this.handleLayersRemove_,this));for(const s in this.listenerKeys_)this.listenerKeys_[s].forEach(te);oo(this.listenerKeys_);const n=t.getArray();for(let s=0,a=n.length;s<a;s++){const o=n[s];this.registerLayerListeners_(o),this.dispatchEvent(new Rs("addlayer",o))}this.changed()}registerLayerListeners_(t){const n=[It(t,wa.PROPERTYCHANGE,this.handleLayerChange_,this),It(t,St.CHANGE,this.handleLayerChange_,this)];t instanceof ja&&n.push(It(t,"addlayer",this.handleLayerGroupAdd_,this),It(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Gt(t)]=n}handleLayerGroupAdd_(t){this.dispatchEvent(new Rs("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new Rs("removelayer",t.layer))}handleLayersAdd_(t){const n=t.element;this.registerLayerListeners_(n),this.dispatchEvent(new Rs("addlayer",n)),this.changed()}handleLayersRemove_(t){const n=t.element,s=Gt(n);this.listenerKeys_[s].forEach(te),delete this.listenerKeys_[s],this.dispatchEvent(new Rs("removelayer",n)),this.changed()}getLayers(){return this.get(id.LAYERS)}setLayers(t){const n=this.getLayers();if(n){const s=n.getArray();for(let a=0,o=s.length;a<o;++a)this.dispatchEvent(new Rs("removelayer",s[a]))}this.set(id.LAYERS,t)}getLayersArray(t){return t=t!==void 0?t:[],this.getLayers().forEach(function(n){n.getLayersArray(t)}),t}getLayerStatesArray(t){const n=t!==void 0?t:[],s=n.length;this.getLayers().forEach(function(c){c.getLayerStatesArray(n)});const a=this.getLayerState();let o=a.zIndex;!t&&a.zIndex===void 0&&(o=0);for(let c=s,h=n.length;c<h;c++){const d=n[c];d.opacity*=a.opacity,d.visible=d.visible&&a.visible,d.maxResolution=Math.min(d.maxResolution,a.maxResolution),d.minResolution=Math.max(d.minResolution,a.minResolution),d.minZoom=Math.max(d.minZoom,a.minZoom),d.maxZoom=Math.min(d.maxZoom,a.maxZoom),a.extent!==void 0&&(d.extent!==void 0?d.extent=hr(d.extent,a.extent):d.extent=a.extent),d.zIndex===void 0&&(d.zIndex=o)}return n}getSourceState(){return"ready"}}const Un={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class Cc extends i2{constructor(t){const n=Object.assign({},t);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(Ht.SOURCE,this.handleSourcePropertyChange_);const s=t.source?t.source:null;this.setSource(s)}getLayersArray(t){return t=t||[],t.push(this),t}getLayerStatesArray(t){return t=t||[],t.push(this.getLayerState()),t}getSource(){return this.get(Ht.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(te(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=It(t,St.CHANGE,this.handleSourceChange_,this),t.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)}isVisible(t){let n;const s=this.getMapInternal();!t&&s&&(t=s.getView()),t instanceof Fn?n={viewState:t.getState(),extent:t.calculateExtent()}:n=t,!n.layerStatesArray&&s&&(n.layerStatesArray=s.getLayerGroup().getLayerStatesArray());let a;if(n.layerStatesArray){if(a=n.layerStatesArray.find(c=>c.layer===this),!a)return!1}else a=this.getLayerState();const o=this.getExtent();return Lg(a,n.viewState)&&(!o||cn(o,n.extent))}getAttributions(t){if(!this.isVisible(t))return[];const n=this.getSource()?.getAttributions();if(!n)return[];const s=t instanceof Fn?t.getViewStateAndExtent():t;let a=n(s);return Array.isArray(a)||(a=[a]),a}render(t,n){const s=this.getRenderer();return s.prepareFrame(t)?(this.rendered=!0,s.renderFrame(t,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,n){}renderDeferred(t){const n=this.getRenderer();n&&n.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(Ht.MAP,t)}getMapInternal(){return this.get(Ht.MAP)}setMap(t){this.mapPrecomposeKey_&&(te(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(te(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=It(t,Un.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=It(this,St.CHANGE,t.render,t),this.changed())}handlePrecompose_(t){const n=t.frameState.layerStatesArray,s=this.getLayerState(!1);Bt(!n.some(a=>a.layer===s.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),n.push(s)}setSource(t){this.set(Ht.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function Lg(r,t){if(!r.visible)return!1;const n=t.resolution;if(n<r.minResolution||n>=r.maxResolution)return!1;const s=t.zoom;return s>r.minZoom&&s<=r.maxZoom}function s2(r,t,n=0,s=r.length-1,a=eC){for(;s>n;){if(s-n>600){const d=s-n+1,m=t-n+1,_=Math.log(d),y=.5*Math.exp(2*_/3),v=.5*Math.sqrt(_*y*(d-y)/d)*(m-d/2<0?-1:1),S=Math.max(n,Math.floor(t-m*y/d+v)),T=Math.min(s,Math.floor(t+(d-m)*y/d+v));s2(r,t,S,T,a)}const o=r[t];let c=n,h=s;for(Gl(r,n,t),a(r[s],o)>0&&Gl(r,n,s);c<h;){for(Gl(r,c,h),c++,h--;a(r[c],o)<0;)c++;for(;a(r[h],o)>0;)h--}a(r[n],o)===0?Gl(r,n,h):(h++,Gl(r,h,s)),h<=t&&(n=h+1),t<=h&&(s=h-1)}}function Gl(r,t,n){const s=r[t];r[t]=r[n],r[n]=s}function eC(r,t){return r<t?-1:r>t?1:0}let r2=class{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let n=this.data;const s=[];if(!Gu(t,n))return s;const a=this.toBBox,o=[];for(;n;){for(let c=0;c<n.children.length;c++){const h=n.children[c],d=n.leaf?a(h):h;Gu(t,d)&&(n.leaf?s.push(h):rd(t,d)?this._all(h,s):o.push(h))}n=o.pop()}return s}collides(t){let n=this.data;if(!Gu(t,n))return!1;const s=[];for(;n;){for(let a=0;a<n.children.length;a++){const o=n.children[a],c=n.leaf?this.toBBox(o):o;if(Gu(t,c)){if(n.leaf||rd(t,c))return!0;s.push(o)}}n=s.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let s=0;s<t.length;s++)this.insert(t[s]);return this}let n=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const s=this.data;this.data=n,n=s}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=_a([]),this}remove(t,n){if(!t)return this;let s=this.data;const a=this.toBBox(t),o=[],c=[];let h,d,m;for(;s||o.length;){if(s||(s=o.pop(),d=o[o.length-1],h=c.pop(),m=!0),s.leaf){const _=nC(t,s.children,n);if(_!==-1)return s.children.splice(_,1),o.push(s),this._condense(o),this}!m&&!s.leaf&&rd(s,a)?(o.push(s),c.push(h),h=0,d=s,s=s.children[0]):d?(h++,s=d.children[h],m=!1):s=null}return this}toBBox(t){return t}compareMinX(t,n){return t.minX-n.minX}compareMinY(t,n){return t.minY-n.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,n){const s=[];for(;t;)t.leaf?n.push(...t.children):s.push(...t.children),t=s.pop();return n}_build(t,n,s,a){const o=s-n+1;let c=this._maxEntries,h;if(o<=c)return h=_a(t.slice(n,s+1)),la(h,this.toBBox),h;a||(a=Math.ceil(Math.log(o)/Math.log(c)),c=Math.ceil(o/Math.pow(c,a-1))),h=_a([]),h.leaf=!1,h.height=a;const d=Math.ceil(o/c),m=d*Math.ceil(Math.sqrt(c));Cy(t,n,s,m,this.compareMinX);for(let _=n;_<=s;_+=m){const y=Math.min(_+m-1,s);Cy(t,_,y,d,this.compareMinY);for(let v=_;v<=y;v+=d){const S=Math.min(v+d-1,y);h.children.push(this._build(t,v,S,a-1))}}return la(h,this.toBBox),h}_chooseSubtree(t,n,s,a){for(;a.push(n),!(n.leaf||a.length-1===s);){let o=1/0,c=1/0,h;for(let d=0;d<n.children.length;d++){const m=n.children[d],_=sd(m),y=rC(t,m)-_;y<c?(c=y,o=_<o?_:o,h=m):y===c&&_<o&&(o=_,h=m)}n=h||n.children[0]}return n}_insert(t,n,s){const a=s?t:this.toBBox(t),o=[],c=this._chooseSubtree(a,this.data,n,o);for(c.children.push(t),Xl(c,a);n>=0&&o[n].children.length>this._maxEntries;)this._split(o,n),n--;this._adjustParentBBoxes(a,o,n)}_split(t,n){const s=t[n],a=s.children.length,o=this._minEntries;this._chooseSplitAxis(s,o,a);const c=this._chooseSplitIndex(s,o,a),h=_a(s.children.splice(c,s.children.length-c));h.height=s.height,h.leaf=s.leaf,la(s,this.toBBox),la(h,this.toBBox),n?t[n-1].children.push(h):this._splitRoot(s,h)}_splitRoot(t,n){this.data=_a([t,n]),this.data.height=t.height+1,this.data.leaf=!1,la(this.data,this.toBBox)}_chooseSplitIndex(t,n,s){let a,o=1/0,c=1/0;for(let h=n;h<=s-n;h++){const d=Bl(t,0,h,this.toBBox),m=Bl(t,h,s,this.toBBox),_=aC(d,m),y=sd(d)+sd(m);_<o?(o=_,a=h,c=y<c?y:c):_===o&&y<c&&(c=y,a=h)}return a||s-n}_chooseSplitAxis(t,n,s){const a=t.leaf?this.compareMinX:iC,o=t.leaf?this.compareMinY:sC,c=this._allDistMargin(t,n,s,a),h=this._allDistMargin(t,n,s,o);c<h&&t.children.sort(a)}_allDistMargin(t,n,s,a){t.children.sort(a);const o=this.toBBox,c=Bl(t,0,n,o),h=Bl(t,s-n,s,o);let d=ju(c)+ju(h);for(let m=n;m<s-n;m++){const _=t.children[m];Xl(c,t.leaf?o(_):_),d+=ju(c)}for(let m=s-n-1;m>=n;m--){const _=t.children[m];Xl(h,t.leaf?o(_):_),d+=ju(h)}return d}_adjustParentBBoxes(t,n,s){for(let a=s;a>=0;a--)Xl(n[a],t)}_condense(t){for(let n=t.length-1,s;n>=0;n--)t[n].children.length===0?n>0?(s=t[n-1].children,s.splice(s.indexOf(t[n]),1)):this.clear():la(t[n],this.toBBox)}};function nC(r,t,n){if(!n)return t.indexOf(r);for(let s=0;s<t.length;s++)if(n(r,t[s]))return s;return-1}function la(r,t){Bl(r,0,r.children.length,t,r)}function Bl(r,t,n,s,a){a||(a=_a(null)),a.minX=1/0,a.minY=1/0,a.maxX=-1/0,a.maxY=-1/0;for(let o=t;o<n;o++){const c=r.children[o];Xl(a,r.leaf?s(c):c)}return a}function Xl(r,t){return r.minX=Math.min(r.minX,t.minX),r.minY=Math.min(r.minY,t.minY),r.maxX=Math.max(r.maxX,t.maxX),r.maxY=Math.max(r.maxY,t.maxY),r}function iC(r,t){return r.minX-t.minX}function sC(r,t){return r.minY-t.minY}function sd(r){return(r.maxX-r.minX)*(r.maxY-r.minY)}function ju(r){return r.maxX-r.minX+(r.maxY-r.minY)}function rC(r,t){return(Math.max(t.maxX,r.maxX)-Math.min(t.minX,r.minX))*(Math.max(t.maxY,r.maxY)-Math.min(t.minY,r.minY))}function aC(r,t){const n=Math.max(r.minX,t.minX),s=Math.max(r.minY,t.minY),a=Math.min(r.maxX,t.maxX),o=Math.min(r.maxY,t.maxY);return Math.max(0,a-n)*Math.max(0,o-s)}function rd(r,t){return r.minX<=t.minX&&r.minY<=t.minY&&t.maxX<=r.maxX&&t.maxY<=r.maxY}function Gu(r,t){return t.minX<=r.maxX&&t.minY<=r.maxY&&t.maxX>=r.minX&&t.maxY>=r.minY}function _a(r){return{children:r,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Cy(r,t,n,s,a){const o=[t,n];for(;o.length;){if(n=o.pop(),t=o.pop(),n-t<=s)continue;const c=t+Math.ceil((n-t)/s/2)*s;s2(r,c,t,n,a),o.push(t,c,c,n)}}const Ng=[NaN,NaN,NaN,0];let ad;function lC(){return ad||(ad=xe(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),ad}const oC=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,uC=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,cC=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,hC=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function ku(r,t){return r.endsWith("%")?Number(r.substring(0,r.length-1))/t:Number(r)}function ql(r){throw new Error('failed to parse "'+r+'" as color')}function a2(r){if(r.toLowerCase().startsWith("rgb")){const o=r.match(uC)||r.match(oC)||r.match(cC);if(o){const c=o[4],h=100/255;return[le(ku(o[1],h)+.5|0,0,255),le(ku(o[2],h)+.5|0,0,255),le(ku(o[3],h)+.5|0,0,255),c!==void 0?le(ku(c,100),0,1):1]}ql(r)}if(r.startsWith("#")){if(hC.test(r)){const o=r.substring(1),c=o.length<=4?1:2,h=[0,0,0,255];for(let d=0,m=o.length;d<m;d+=c){let _=parseInt(o.substring(d,d+c),16);c===1&&(_+=_<<4),h[d/c]=_}return h[3]=h[3]/255,h}ql(r)}const t=lC();t.fillStyle="#abcdef";let n=t.fillStyle;t.fillStyle=r,t.fillStyle===n&&(t.fillStyle="#fedcba",n=t.fillStyle,t.fillStyle=r,t.fillStyle===n&&ql(r));const s=t.fillStyle;if(s.startsWith("#")||s.startsWith("rgba"))return a2(s);t.clearRect(0,0,1,1),t.fillRect(0,0,1,1);const a=Array.from(t.getImageData(0,0,1,1).data);return a[3]=fc(a[3]/255,3),a}function fC(r){return typeof r=="string"?r:zg(r)}const dC=1024,kl={};let ld=0;function gC(r){if(r.length===4)return r;const t=r.slice();return t[3]=1,t}function od(r){return r>.0031308?Math.pow(r,1/2.4)*269.025-14.025:r*3294.6}function ud(r){return r>.2068965?Math.pow(r,3):(r-4/29)*(108/841)}function cd(r){return r>10.314724?Math.pow((r+14.025)/269.025,2.4):r/3294.6}function hd(r){return r>.0088564?Math.pow(r,1/3):r/(108/841)+4/29}function Ry(r){const t=cd(r[0]),n=cd(r[1]),s=cd(r[2]),a=hd(t*.222488403+n*.716873169+s*.06060791),o=500*(hd(t*.452247074+n*.399439023+s*.148375274)-a),c=200*(a-hd(t*.016863605+n*.117638439+s*.865350722)),h=Math.atan2(c,o)*(180/Math.PI);return[116*a-16,Math.sqrt(o*o+c*c),h<0?h+360:h,r[3]]}function mC(r){const t=(r[0]+16)/116,n=r[1],s=r[2]*Math.PI/180,a=ud(t),o=ud(t+n/500*Math.cos(s)),c=ud(t-n/200*Math.sin(s)),h=od(o*3.021973625-a*1.617392459-c*.404875592),d=od(o*-.943766287+a*1.916279586+c*.027607165),m=od(o*.069407491-a*.22898585+c*1.159737864);return[le(h+.5|0,0,255),le(d+.5|0,0,255),le(m+.5|0,0,255),r[3]]}function Ig(r){if(r==="none")return Ng;if(kl.hasOwnProperty(r))return kl[r];if(ld>=dC){let n=0;for(const s in kl)(n++&3)===0&&(delete kl[s],--ld)}const t=a2(r);t.length!==4&&ql(r);for(const n of t)isNaN(n)&&ql(r);return kl[r]=t,++ld,t}function Da(r){return Array.isArray(r)?r:Ig(r)}function zg(r){let t=r[0];t!=(t|0)&&(t=t+.5|0);let n=r[1];n!=(n|0)&&(n=n+.5|0);let s=r[2];s!=(s|0)&&(s=s+.5|0);const a=r[3]===void 0?1:Math.round(r[3]*1e3)/1e3;return"rgba("+t+","+n+","+s+","+a+")"}function by(r){return r[0]>0&&r[1]>0}function _C(r,t,n){return n===void 0&&(n=[0,0]),n[0]=r[0]*t+.5|0,n[1]=r[1]*t+.5|0,n}function dn(r,t){return Array.isArray(r)?r:(t===void 0?t=[r,r]:(t[0]=r,t[1]=r),t)}let pr=0;const We=1<<pr++,Lt=1<<pr++,on=1<<pr++,Qn=1<<pr++,_r=1<<pr++,Yl=1<<pr++,Fu=Math.pow(2,pr)-1,jg={[We]:"boolean",[Lt]:"number",[on]:"string",[Qn]:"color",[_r]:"number[]",[Yl]:"size"},yC=Object.keys(jg).map(Number).sort(ki);function pC(r){return r in jg}function Hl(r){const t=[];for(const n of yC)Pl(r,n)&&t.push(jg[n]);return t.length===0?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function Pl(r,t){return(r&t)===t}function vs(r,t){return r===t}class Ee{constructor(t,n){if(!pC(t))throw new Error(`literal expressions must have a specific type, got ${Hl(t)}`);this.type=t,this.value=n}}class vC{constructor(t,n,...s){this.type=t,this.operator=n,this.args=s}}function l2(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function je(r,t,n){switch(typeof r){case"boolean":{if(vs(t,on))return new Ee(on,r?"true":"false");if(!Pl(t,We))throw new Error(`got a boolean, but expected ${Hl(t)}`);return new Ee(We,r)}case"number":{if(vs(t,Yl))return new Ee(Yl,dn(r));if(vs(t,We))return new Ee(We,!!r);if(vs(t,on))return new Ee(on,r.toString());if(!Pl(t,Lt))throw new Error(`got a number, but expected ${Hl(t)}`);return new Ee(Lt,r)}case"string":{if(vs(t,Qn))return new Ee(Qn,Ig(r));if(vs(t,We))return new Ee(We,!!r);if(!Pl(t,on))throw new Error(`got a string, but expected ${Hl(t)}`);return new Ee(on,r)}}if(!Array.isArray(r))throw new Error("expression must be an array or a primitive value");if(r.length===0)throw new Error("empty expression");if(typeof r[0]=="string")return OC(r,t,n);for(const s of r)if(typeof s!="number")throw new Error("expected an array of numbers");if(vs(t,Yl)){if(r.length!==2)throw new Error(`expected an array of two values for a size, got ${r.length}`);return new Ee(Yl,r)}if(vs(t,Qn)){if(r.length===3)return new Ee(Qn,[...r,1]);if(r.length===4)return new Ee(Qn,r);throw new Error(`expected an array of 3 or 4 values for a color, got ${r.length}`)}if(!Pl(t,_r))throw new Error(`got an array of numbers, but expected ${Hl(t)}`);return new Ee(_r,r)}const K={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},EC={[K.Get]:pt(xt(1,1/0),wy),[K.Var]:pt(xt(1,1),xC),[K.Has]:pt(xt(1,1/0),wy),[K.Id]:pt(SC,oa),[K.Concat]:pt(xt(2,1/0),Ft(on)),[K.GeometryType]:pt(TC,oa),[K.LineMetric]:pt(oa),[K.Resolution]:pt(fd,oa),[K.Zoom]:pt(fd,oa),[K.Time]:pt(fd,oa),[K.Any]:pt(xt(2,1/0),Ft(We)),[K.All]:pt(xt(2,1/0),Ft(We)),[K.Not]:pt(xt(1,1),Ft(We)),[K.Equal]:pt(xt(2,2),Ft(Fu)),[K.NotEqual]:pt(xt(2,2),Ft(Fu)),[K.GreaterThan]:pt(xt(2,2),Ft(Lt)),[K.GreaterThanOrEqualTo]:pt(xt(2,2),Ft(Lt)),[K.LessThan]:pt(xt(2,2),Ft(Lt)),[K.LessThanOrEqualTo]:pt(xt(2,2),Ft(Lt)),[K.Multiply]:pt(xt(2,1/0),Ay),[K.Coalesce]:pt(xt(2,1/0),Ay),[K.Divide]:pt(xt(2,2),Ft(Lt)),[K.Add]:pt(xt(2,1/0),Ft(Lt)),[K.Subtract]:pt(xt(2,2),Ft(Lt)),[K.Clamp]:pt(xt(3,3),Ft(Lt)),[K.Mod]:pt(xt(2,2),Ft(Lt)),[K.Pow]:pt(xt(2,2),Ft(Lt)),[K.Abs]:pt(xt(1,1),Ft(Lt)),[K.Floor]:pt(xt(1,1),Ft(Lt)),[K.Ceil]:pt(xt(1,1),Ft(Lt)),[K.Round]:pt(xt(1,1),Ft(Lt)),[K.Sin]:pt(xt(1,1),Ft(Lt)),[K.Cos]:pt(xt(1,1),Ft(Lt)),[K.Atan]:pt(xt(1,2),Ft(Lt)),[K.Sqrt]:pt(xt(1,1),Ft(Lt)),[K.Match]:pt(xt(4,1/0),My,RC),[K.Between]:pt(xt(3,3),Ft(Lt)),[K.Interpolate]:pt(xt(6,1/0),My,bC),[K.Case]:pt(xt(3,1/0),CC,wC),[K.In]:pt(xt(2,2),AC),[K.Number]:pt(xt(1,1/0),Ft(Fu)),[K.String]:pt(xt(1,1/0),Ft(Fu)),[K.Array]:pt(xt(1,1/0),Ft(Lt)),[K.Color]:pt(xt(1,4),Ft(Lt)),[K.Band]:pt(xt(1,3),Ft(Lt)),[K.Palette]:pt(xt(2,2),MC),[K.ToString]:pt(xt(1,1),Ft(We|Lt|on|Qn))};function wy(r,t,n){const s=r.length-1,a=new Array(s);for(let o=0;o<s;++o){const c=r[o+1];switch(typeof c){case"number":{a[o]=new Ee(Lt,c);break}case"string":{a[o]=new Ee(on,c);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${c}`)}o===0&&n.properties.add(String(c))}return a}function xC(r,t,n){const s=r[1];if(typeof s!="string")throw new Error("expected a string argument for var operation");return n.variables.add(s),[new Ee(on,s)]}function SC(r,t,n){n.featureId=!0}function TC(r,t,n){n.geometryType=!0}function fd(r,t,n){n.mapState=!0}function oa(r,t,n){const s=r[0];if(r.length!==1)throw new Error(`expected no arguments for ${s} operation`);return[]}function xt(r,t){return function(n,s,a){const o=n[0],c=n.length-1;if(r===t){if(c!==r){const h=r===1?"":"s";throw new Error(`expected ${r} argument${h} for ${o}, got ${c}`)}}else if(c<r||c>t){const h=t===1/0?`${r} or more`:`${r} to ${t}`;throw new Error(`expected ${h} arguments for ${o}, got ${c}`)}}}function Ay(r,t,n){const s=r.length-1,a=new Array(s);for(let o=0;o<s;++o){const c=je(r[o+1],t,n);a[o]=c}return a}function Ft(r){return function(t,n,s){const a=t.length-1,o=new Array(a);for(let c=0;c<a;++c){const h=je(t[c+1],r,s);o[c]=h}return o}}function CC(r,t,n){const s=r[0],a=r.length-1;if(a%2===0)throw new Error(`expected an odd number of arguments for ${s}, got ${a} instead`)}function My(r,t,n){const s=r[0],a=r.length-1;if(a%2===1)throw new Error(`expected an even number of arguments for operation ${s}, got ${a} instead`)}function RC(r,t,n){const s=r.length-1,a=on|Lt|We,o=je(r[1],a,n),c=je(r[r.length-1],t,n),h=new Array(s-2);for(let d=0;d<s-2;d+=2){try{const m=je(r[d+2],o.type,n);h[d]=m}catch(m){throw new Error(`failed to parse argument ${d+1} of match expression: ${m.message}`)}try{const m=je(r[d+3],c.type,n);h[d+1]=m}catch(m){throw new Error(`failed to parse argument ${d+2} of match expression: ${m.message}`)}}return[o,...h,c]}function bC(r,t,n){const s=r[1];let a;switch(s[0]){case"linear":a=1;break;case"exponential":const d=s[1];if(typeof d!="number"||d<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(d)} instead`);a=d;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(s)}`)}const o=new Ee(Lt,a);let c;try{c=je(r[2],Lt,n)}catch(d){throw new Error(`failed to parse argument 1 in interpolate expression: ${d.message}`)}const h=new Array(r.length-3);for(let d=0;d<h.length;d+=2){try{const m=je(r[d+3],Lt,n);h[d]=m}catch(m){throw new Error(`failed to parse argument ${d+2} for interpolate expression: ${m.message}`)}try{const m=je(r[d+4],t,n);h[d+1]=m}catch(m){throw new Error(`failed to parse argument ${d+3} for interpolate expression: ${m.message}`)}}return[o,c,...h]}function wC(r,t,n){const s=je(r[r.length-1],t,n),a=new Array(r.length-1);for(let o=0;o<a.length-1;o+=2){try{const c=je(r[o+1],We,n);a[o]=c}catch(c){throw new Error(`failed to parse argument ${o} of case expression: ${c.message}`)}try{const c=je(r[o+2],s.type,n);a[o+1]=c}catch(c){throw new Error(`failed to parse argument ${o+1} of case expression: ${c.message}`)}}return a[a.length-1]=s,a}function AC(r,t,n){let s=r[2];if(!Array.isArray(s))throw new Error('the second argument for the "in" operator must be an array');let a;if(typeof s[0]=="string"){if(s[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(s[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');s=s[1],a=on}else a=Lt;const o=new Array(s.length);for(let h=0;h<o.length;h++)try{const d=je(s[h],a,n);o[h]=d}catch(d){throw new Error(`failed to parse haystack item ${h} for "in" expression: ${d.message}`)}return[je(r[1],a,n),...o]}function MC(r,t,n){let s;try{s=je(r[1],Lt,n)}catch(c){throw new Error(`failed to parse first argument in palette expression: ${c.message}`)}const a=r[2];if(!Array.isArray(a))throw new Error("the second argument of palette must be an array");const o=new Array(a.length);for(let c=0;c<o.length;c++){let h;try{h=je(a[c],Qn,n)}catch(d){throw new Error(`failed to parse color at index ${c} in palette expression: ${d.message}`)}if(!(h instanceof Ee))throw new Error(`the palette color at index ${c} must be a literal value`);o[c]=h}return[s,...o]}function pt(...r){return function(t,n,s){const a=t[0];let o;for(let c=0;c<r.length;c++){const h=r[c](t,n,s);if(c==r.length-1){if(!h)throw new Error("expected last argument validator to return the parsed args");o=h}}return new vC(n,a,...o)}}function OC(r,t,n){const s=r[0],a=EC[s];if(!a)throw new Error(`unknown operator: ${s}`);return a(r,t,n)}function o2(r){if(!r)return"";const t=r.getType();switch(t){case"Point":case"LineString":case"Polygon":return t;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return t.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return o2(r.getGeometries()[0]);default:return""}}function u2(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function Pi(r,t,n){const s=je(r,t,n);return ei(s)}function ei(r,t){if(r instanceof Ee){if(r.type===Qn&&typeof r.value=="string"){const s=Ig(r.value);return function(){return s}}return function(){return r.value}}const n=r.operator;switch(n){case K.Number:case K.String:case K.Coalesce:return DC(r);case K.Get:case K.Var:case K.Has:return LC(r);case K.Id:return s=>s.featureId;case K.GeometryType:return s=>s.geometryType;case K.Concat:{const s=r.args.map(a=>ei(a));return a=>"".concat(...s.map(o=>o(a).toString()))}case K.Resolution:return s=>s.resolution;case K.Any:case K.All:case K.Between:case K.In:case K.Not:return IC(r);case K.Equal:case K.NotEqual:case K.LessThan:case K.LessThanOrEqualTo:case K.GreaterThan:case K.GreaterThanOrEqualTo:return NC(r);case K.Multiply:case K.Divide:case K.Add:case K.Subtract:case K.Clamp:case K.Mod:case K.Pow:case K.Abs:case K.Floor:case K.Ceil:case K.Round:case K.Sin:case K.Cos:case K.Atan:case K.Sqrt:return zC(r);case K.Case:return jC(r);case K.Match:return GC(r);case K.Interpolate:return kC(r);case K.ToString:return FC(r);default:throw new Error(`Unsupported operator ${n}`)}}function DC(r,t){const n=r.operator,s=r.args.length,a=new Array(s);for(let o=0;o<s;++o)a[o]=ei(r.args[o]);switch(n){case K.Coalesce:return o=>{for(let c=0;c<s;++c){const h=a[c](o);if(typeof h<"u"&&h!==null)return h}throw new Error("Expected one of the values to be non-null")};case K.Number:case K.String:return o=>{for(let c=0;c<s;++c){const h=a[c](o);if(typeof h===n)return h}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function LC(r,t){const s=r.args[0].value;switch(r.operator){case K.Get:return a=>{const o=r.args;let c=a.properties[s];for(let h=1,d=o.length;h<d;++h){const _=o[h].value;c=c[_]}return c};case K.Var:return a=>a.variables[s];case K.Has:return a=>{const o=r.args;if(!(s in a.properties))return!1;let c=a.properties[s];for(let h=1,d=o.length;h<d;++h){const _=o[h].value;if(!c||!Object.hasOwn(c,_))return!1;c=c[_]}return!0};default:throw new Error(`Unsupported accessor operator ${r.operator}`)}}function NC(r,t){const n=r.operator,s=ei(r.args[0]),a=ei(r.args[1]);switch(n){case K.Equal:return o=>s(o)===a(o);case K.NotEqual:return o=>s(o)!==a(o);case K.LessThan:return o=>s(o)<a(o);case K.LessThanOrEqualTo:return o=>s(o)<=a(o);case K.GreaterThan:return o=>s(o)>a(o);case K.GreaterThanOrEqualTo:return o=>s(o)>=a(o);default:throw new Error(`Unsupported comparison operator ${n}`)}}function IC(r,t){const n=r.operator,s=r.args.length,a=new Array(s);for(let o=0;o<s;++o)a[o]=ei(r.args[o]);switch(n){case K.Any:return o=>{for(let c=0;c<s;++c)if(a[c](o))return!0;return!1};case K.All:return o=>{for(let c=0;c<s;++c)if(!a[c](o))return!1;return!0};case K.Between:return o=>{const c=a[0](o),h=a[1](o),d=a[2](o);return c>=h&&c<=d};case K.In:return o=>{const c=a[0](o);for(let h=1;h<s;++h)if(c===a[h](o))return!0;return!1};case K.Not:return o=>!a[0](o);default:throw new Error(`Unsupported logical operator ${n}`)}}function zC(r,t){const n=r.operator,s=r.args.length,a=new Array(s);for(let o=0;o<s;++o)a[o]=ei(r.args[o]);switch(n){case K.Multiply:return o=>{let c=1;for(let h=0;h<s;++h)c*=a[h](o);return c};case K.Divide:return o=>a[0](o)/a[1](o);case K.Add:return o=>{let c=0;for(let h=0;h<s;++h)c+=a[h](o);return c};case K.Subtract:return o=>a[0](o)-a[1](o);case K.Clamp:return o=>{const c=a[0](o),h=a[1](o);if(c<h)return h;const d=a[2](o);return c>d?d:c};case K.Mod:return o=>a[0](o)%a[1](o);case K.Pow:return o=>Math.pow(a[0](o),a[1](o));case K.Abs:return o=>Math.abs(a[0](o));case K.Floor:return o=>Math.floor(a[0](o));case K.Ceil:return o=>Math.ceil(a[0](o));case K.Round:return o=>Math.round(a[0](o));case K.Sin:return o=>Math.sin(a[0](o));case K.Cos:return o=>Math.cos(a[0](o));case K.Atan:return s===2?o=>Math.atan2(a[0](o),a[1](o)):o=>Math.atan(a[0](o));case K.Sqrt:return o=>Math.sqrt(a[0](o));default:throw new Error(`Unsupported numeric operator ${n}`)}}function jC(r,t){const n=r.args.length,s=new Array(n);for(let a=0;a<n;++a)s[a]=ei(r.args[a]);return a=>{for(let o=0;o<n-1;o+=2)if(s[o](a))return s[o+1](a);return s[n-1](a)}}function GC(r,t){const n=r.args.length,s=new Array(n);for(let a=0;a<n;++a)s[a]=ei(r.args[a]);return a=>{const o=s[0](a);for(let c=1;c<n-1;c+=2)if(o===s[c](a))return s[c+1](a);return s[n-1](a)}}function kC(r,t){const n=r.args.length,s=new Array(n);for(let a=0;a<n;++a)s[a]=ei(r.args[a]);return a=>{const o=s[0](a),c=s[1](a);let h,d;for(let m=2;m<n;m+=2){const _=s[m](a);let y=s[m+1](a);const v=Array.isArray(y);if(v&&(y=gC(y)),_>=c)return m===2?y:v?UC(o,c,h,d,_,y):Vl(o,c,h,d,_,y);h=_,d=y}return d}}function FC(r,t){const n=r.operator,s=r.args.length,a=new Array(s);for(let o=0;o<s;++o)a[o]=ei(r.args[o]);switch(n){case K.ToString:return o=>{const c=a[0](o);return r.args[0].type===Qn?zg(c):c.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function Vl(r,t,n,s,a,o){const c=a-n;if(c===0)return s;const h=t-n,d=r===1?h/c:(Math.pow(r,h)-1)/(Math.pow(r,c)-1);return s+d*(o-s)}function UC(r,t,n,s,a,o){if(a-n===0)return s;const h=Ry(s),d=Ry(o);let m=d[2]-h[2];m>180?m-=360:m<-180&&(m+=360);const _=[Vl(r,t,n,h[0],a,d[0]),Vl(r,t,n,h[1],a,d[1]),h[2]+Vl(r,t,n,0,a,m),Vl(r,t,n,s[3],a,o[3])];return mC(_)}const Tt={IDLE:0,LOADING:1,LOADED:2,ERROR:3};function BC(r,t,n){const s=r;let a=!0,o=!1,c=!1;const h=[Pu(s,St.LOAD,function(){c=!0,o||t()})];return s.src&&Rp?(o=!0,s.decode().then(function(){a&&t()}).catch(function(d){a&&(c?t():n())})):h.push(Pu(s,St.ERROR,n)),function(){a=!1,h.forEach(te)}}function XC(r,t){return new Promise((n,s)=>{function a(){c(),n(r)}function o(){c(),s(new Error("Image load error"))}function c(){r.removeEventListener("load",a),r.removeEventListener("error",o)}r.addEventListener("load",a),r.addEventListener("error",o)})}function YC(r,t){return t&&(r.src=t),r.src&&Rp?new Promise((n,s)=>r.decode().then(()=>n(r)).catch(a=>r.complete&&r.width?n(r):s(a))):XC(r)}class HC{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const n in this.cache_){const s=this.cache_[n];(t++&3)===0&&!s.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(t,n,s){const a=dd(t,n,s);return a in this.cache_?this.cache_[a]:null}getPattern(t,n,s){const a=dd(t,n,s);return a in this.patternCache_?this.patternCache_[a]:null}set(t,n,s,a,o){const c=dd(t,n,s),h=c in this.cache_;this.cache_[c]=a,o&&(a.getImageState()===Tt.IDLE&&a.load(),a.getImageState()===Tt.LOADING?a.ready().then(()=>{this.patternCache_[c]=$u().createPattern(a.getImage(1),"repeat")}):this.patternCache_[c]=$u().createPattern(a.getImage(1),"repeat")),h||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}function dd(r,t,n){const s=n?Da(n):"null";return t+":"+r+":"+s}const Bn=new HC;let Fl=null;class c2 extends hc{constructor(t,n,s,a,o){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=s,this.canvas_={},this.color_=o,this.imageState_=a===void 0?Tt.IDLE:a,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===Tt.LOADED){Fl||(Fl=xe(1,1,void 0,{willReadFrequently:!0})),Fl.drawImage(this.image_,0,0);try{Fl.getImageData(0,0,1,1),this.tainted_=!1}catch{Fl=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(St.CHANGE)}handleImageError_(){this.imageState_=Tt.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Tt.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],n=this.size_[1],s=xe(t,n);s.fillRect(0,0,t,n),this.hitDetectionImage_=s.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Tt.IDLE){this.image_||this.initializeImage_(),this.imageState_=Tt.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&YC(this.image_,this.src_).then(t=>{this.image_=t,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==Tt.LOADED)return;const n=this.image_,s=xe(Math.ceil(n.width*t),Math.ceil(n.height*t)),a=s.canvas;s.scale(t,t),s.drawImage(n,0,0),s.globalCompositeOperation="multiply",s.fillStyle=fC(this.color_),s.fillRect(0,0,a.width/t,a.height/t),s.globalCompositeOperation="destination-in",s.drawImage(n,0,0),this.canvas_[t]=a}ready(){return this.ready_||(this.ready_=new Promise(t=>{if(this.imageState_===Tt.LOADED||this.imageState_===Tt.ERROR)t();else{const n=()=>{(this.imageState_===Tt.LOADED||this.imageState_===Tt.ERROR)&&(this.removeEventListener(St.CHANGE,n),t())};this.addEventListener(St.CHANGE,n)}})),this.ready_}}function Gg(r,t,n,s,a,o){let c=t===void 0?void 0:Bn.get(t,n,a);return c||(c=new c2(r,r&&"src"in r?r.src||void 0:t,n,s,a),Bn.set(t,n,a,c,o)),o&&c&&!Bn.getPattern(t,n,a)&&Bn.set(t,n,a,c,o),c}function mi(r){return r?Array.isArray(r)?zg(r):typeof r=="object"&&"src"in r?PC(r):r:null}function PC(r){if(!r.offset||!r.size)return Bn.getPattern(r.src,"anonymous",r.color);const t=r.src+":"+r.offset,n=Bn.getPattern(t,void 0,r.color);if(n)return n;const s=Bn.get(r.src,"anonymous",null);if(s.getImageState()!==Tt.LOADED)return null;const a=xe(r.size[0],r.size[1]);return a.drawImage(s.getImage(1),r.offset[0],r.offset[1],r.size[0],r.size[1],0,0,r.size[0],r.size[1]),Gg(a.canvas,t,void 0,Tt.LOADED,r.color,!0),Bn.getPattern(t,void 0,r.color)}const h2="10px sans-serif",un="#000",La="round",Fi=[],Ui=0,Na="round",no=10,io="#000",so="center",Ju="middle",ur=[0,0,0,0],ro=1,ya=new ni;let Ul=null,Oy;const Hd={},VC=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","emoji","math","fangsong"]);function ZC(r,t,n){return`${r} ${t} 16px "${n}"`}const KC=(function(){let t,n;async function s(o){await n.ready;const c=await n.load(o);if(c.length===0)return!1;const h=Xd(o),d=h.families[0].toLowerCase(),m=h.weight;return c.some(_=>{const y=_.family.replace(/^['"]|['"]$/g,"").toLowerCase(),v=Bd[_.weight]||_.weight;return y===d&&_.style===h.style&&v==m})}async function a(){await n.ready;let o=!0;const c=ya.getProperties(),h=Object.keys(c).filter(d=>c[d]<100);for(let d=h.length-1;d>=0;--d){const m=h[d];let _=c[m];_<100&&(await s(m)?(oo(Hd),ya.set(m,100)):(_+=10,ya.set(m,_,!0),_<100&&(o=!1)))}t=void 0,o||(t=setTimeout(a,100))}return async function(o){n||(n=sg?self.fonts:document.fonts);const c=Xd(o);if(!c)return;const h=c.families;let d=!1;for(const m of h){if(VC.has(m))continue;const _=ZC(c.style,c.weight,m);ya.get(_)===void 0&&(ya.set(_,0,!0),d=!0)}d&&(clearTimeout(t),t=setTimeout(a,100))}})(),qC=(function(){let r;return function(t){let n=Hd[t];if(n==null){if(sg){const s=Xd(t),a=f2(t,"Žg");n=(isNaN(Number(s.lineHeight))?1.2:Number(s.lineHeight))*(a.actualBoundingBoxAscent+a.actualBoundingBoxDescent)}else r||(r=document.createElement("div"),r.innerHTML="M",r.style.minHeight="0",r.style.maxHeight="none",r.style.height="auto",r.style.padding="0",r.style.border="none",r.style.position="absolute",r.style.display="block",r.style.left="-99999px"),r.style.font=t,document.body.appendChild(r),n=r.offsetHeight,document.body.removeChild(r);Hd[t]=n}return n}})();function f2(r,t){return Ul||(Ul=xe(1,1)),r!=Oy&&(Ul.font=r,Oy=Ul.font),Ul.measureText(t)}function d2(r,t){return f2(r,t).width}function Dy(r,t,n){if(t in n)return n[t];const s=t.split(`
`).reduce((a,o)=>Math.max(a,d2(r,o)),0);return n[t]=s,s}function WC(r,t){const n=[],s=[],a=[];let o=0,c=0,h=0,d=0;for(let m=0,_=t.length;m<=_;m+=2){const y=t[m];if(y===`
`||m===_){o=Math.max(o,c),a.push(c),c=0,h+=d,d=0;continue}const v=t[m+1]||r.font,S=d2(v,y);n.push(S),c+=S;const T=qC(v);s.push(T),d=Math.max(d,T)}return{width:o,height:h,widths:n,heights:s,lineWidths:a}}function QC(r,t,n,s,a,o,c,h,d,m,_){r.save(),n!==1&&(r.globalAlpha===void 0?r.globalAlpha=y=>y.globalAlpha*=n:r.globalAlpha*=n),t&&r.transform.apply(r,t),s.contextInstructions?(r.translate(d,m),r.scale(_[0],_[1]),$C(s,r)):_[0]<0||_[1]<0?(r.translate(d,m),r.scale(_[0],_[1]),r.drawImage(s,a,o,c,h,0,0,c,h)):r.drawImage(s,a,o,c,h,d,m,c*_[0],h*_[1]),r.restore()}function $C(r,t){const n=r.contextInstructions;for(let s=0,a=n.length;s<a;s+=2)Array.isArray(n[s+1])?t[n[s]].apply(t,n[s+1]):t[n[s]]=n[s+1]}class Rc{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=dn(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new Rc({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return jt()}getImage(t){return jt()}getHitDetectionImage(){return jt()}getPixelRatio(t){return 1}getImageState(){return jt()}getImageSize(){return jt()}getOrigin(){return jt()}getSize(){return jt()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=dn(t)}listenImageChange(t){jt()}load(){jt()}unlistenImageChange(t){jt()}ready(){return Promise.resolve()}}class bc extends Rc{constructor(t){super({opacity:1,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=t.fill!==void 0?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius=t.radius,this.radius2_=t.radius2,this.angle_=t.angle!==void 0?t.angle:0,this.stroke_=t.stroke!==void 0?t.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Tt.LOADING:Tt.LOADED,this.imageState_===Tt.LOADING&&this.ready().then(()=>this.imageState_=Tt.LOADED),this.render()}clone(){const t=this.getScale(),n=new bc({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const t=this.size_,n=this.getDisplacement(),s=this.getScaleArray();return[t[0]/2-n[0]/s[0],t[1]/2+n[1]/s[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){const n=this.fill_?.getKey(),s=`${t},${this.angle_},${this.radius},${this.radius2_},${this.points_},${n}`+Object.values(this.renderOptions_).join(",");let a=Bn.get(s,null,null)?.getImage(1);if(!a){const o=this.renderOptions_,c=Math.ceil(o.size*t),h=xe(c,c);this.draw_(o,h,t),a=h.canvas,Bn.set(s,null,null,new c2(a,void 0,null,Tt.LOADED,null))}return a}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,n,s){if(n===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return n;let a=this.radius,o=this.radius2_===void 0?a:this.radius2_;if(a<o){const Y=a;a=o,o=Y}const c=this.radius2_===void 0?this.points_:this.points_*2,h=2*Math.PI/c,d=o*Math.sin(h),m=Math.sqrt(o*o-d*d),_=a-m,y=Math.sqrt(d*d+_*_),v=y/d;if(t==="miter"&&v<=s)return v*n;const S=n/2/v,T=n/2*(_/y),C=Math.sqrt((a+S)*(a+S)+T*T)-a;if(this.radius2_===void 0||t==="bevel")return C*2;const A=a*Math.sin(h),L=Math.sqrt(a*a-A*A),z=o-L,M=Math.sqrt(A*A+z*z)/A;if(M<=s){const Y=M*n/2-o-a;return 2*Math.max(C,Y)}return C*2}createRenderOptions(){let t=La,n=Na,s=0,a=null,o=0,c,h=0;this.stroke_&&(c=mi(this.stroke_.getColor()??io),h=this.stroke_.getWidth()??ro,a=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??Na,t=this.stroke_.getLineCap()??La,s=this.stroke_.getMiterLimit()??no);const d=this.calculateLineJoinSize_(n,h,s),m=Math.max(this.radius,this.radius2_||0),_=Math.ceil(2*m+d);return{strokeStyle:c,strokeWidth:h,size:_,lineCap:t,lineDash:a,lineDashOffset:o,lineJoin:n,miterLimit:s}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,n,s){if(n.scale(s,s),n.translate(t.size/2,t.size/2),this.createPath_(n),this.fill_){let a=this.fill_.getColor();a===null&&(a=un),n.fillStyle=mi(a),n.fill()}t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineCap=t.lineCap,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}createHitDetectionCanvas_(t){let n;if(this.fill_){let s=this.fill_.getColor(),a=0;typeof s=="string"&&(s=Da(s)),s===null?a=1:Array.isArray(s)&&(a=s.length===4?s[3]:1),a===0&&(n=xe(t.size,t.size),this.drawHitDetectionCanvas_(t,n))}return n?n.canvas:this.getImage(1)}createPath_(t){let n=this.points_;const s=this.radius;if(n===1/0)t.arc(0,0,s,0,2*Math.PI);else{const a=this.radius2_===void 0?s:this.radius2_;this.radius2_!==void 0&&(n*=2);const o=this.angle_-Math.PI/2,c=2*Math.PI/n;for(let h=0;h<n;h++){const d=o+h*c,m=h%2===0?s:a;t.lineTo(m*Math.cos(d),m*Math.sin(d))}t.closePath()}}drawHitDetectionCanvas_(t,n){n.translate(t.size/2,t.size/2),this.createPath_(n),n.fillStyle=un,n.fill(),t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class Yi extends bc{constructor(t){t=t||{radius:5},super({points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:t.scale!==void 0?t.scale:1,rotation:t.rotation!==void 0?t.rotation:0,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),n=new Yi({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(t){this.radius=t,this.render()}}class _i{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,t.color!==void 0&&this.setColor(t.color)}clone(){const t=this.getColor();return new _i({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(t!==null&&typeof t=="object"&&"src"in t){const n=Gg(null,t.src,"anonymous",void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===Tt.IDLE&&n.load(),n.getImageState()===Tt.LOADING&&(this.patternImage_=n)}this.color_=t}getKey(){const t=this.getColor();return t?t instanceof CanvasPattern||t instanceof CanvasGradient?Gt(t):typeof t=="object"&&"src"in t?t.src+":"+t.offset:Da(t).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}function Ly(r,t,n,s){return n!==void 0&&s!==void 0?[n/r,s/t]:n!==void 0?n/r:s!==void 0?s/t:1}class wc extends Rc{constructor(t){t=t||{};const n=t.opacity!==void 0?t.opacity:1,s=t.rotation!==void 0?t.rotation:0,a=t.scale!==void 0?t.scale:1,o=t.rotateWithView!==void 0?t.rotateWithView:!1;super({opacity:n,rotation:s,scale:a,displacement:t.displacement!==void 0?t.displacement:[0,0],rotateWithView:o,declutterMode:t.declutterMode}),this.anchor_=t.anchor!==void 0?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=t.anchorOrigin!==void 0?t.anchorOrigin:"top-left",this.anchorXUnits_=t.anchorXUnits!==void 0?t.anchorXUnits:"fraction",this.anchorYUnits_=t.anchorYUnits!==void 0?t.anchorYUnits:"fraction",this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:null;const c=t.img!==void 0?t.img:null;let h=t.src;Bt(!(h!==void 0&&c),"`image` and `src` cannot be provided at the same time"),(h===void 0||h.length===0)&&c&&(h=c.src||Gt(c)),Bt(h!==void 0&&h.length>0,"A defined and non-empty `src` or `image` must be provided"),Bt(!((t.width!==void 0||t.height!==void 0)&&t.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let d;if(t.src!==void 0?d=Tt.IDLE:c!==void 0&&("complete"in c?c.complete?d=c.src?Tt.LOADED:Tt.IDLE:d=Tt.LOADING:d=Tt.LOADED),this.color_=t.color!==void 0?Da(t.color):null,this.iconImage_=Gg(c,h,this.crossOrigin_,d,this.color_),this.offset_=t.offset!==void 0?t.offset:[0,0],this.offsetOrigin_=t.offsetOrigin!==void 0?t.offsetOrigin:"top-left",this.origin_=null,this.size_=t.size!==void 0?t.size:null,this.initialOptions_,t.width!==void 0||t.height!==void 0){let m,_;if(t.size)[m,_]=t.size;else{const y=this.getImage(1);if(y.width&&y.height)m=y.width,_=y.height;else if(y instanceof HTMLImageElement){this.initialOptions_=t;const v=()=>{if(this.unlistenImageChange(v),!this.initialOptions_)return;const S=this.iconImage_.getSize();this.setScale(Ly(S[0],S[1],t.width,t.height))};this.listenImageChange(v);return}}m!==void 0&&this.setScale(Ly(m,_,t.width,t.height))}}clone(){let t,n,s;return this.initialOptions_?(n=this.initialOptions_.width,s=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new wc({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:n,height:s,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const a=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!a)return null;t=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(t[0]*=a[0]),this.anchorYUnits_=="fraction"&&(t[1]*=a[1])}if(this.anchorOrigin_!="top-left"){if(!a)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(t[0]=-t[0]+a[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(t[1]=-t[1]+a[1])}this.normalizedAnchor_=t}const n=this.getDisplacement(),s=this.getScaleArray();return[t[0]-n[0]/s[0],t[1]+n[1]/s[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),s=this.iconImage_.getSize();if(!n||!s)return null;t=t.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(t[0]=s[0]-n[0]-t[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(t[1]=s[1]-n[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const t=this.getScaleArray();if(this.size_)return this.size_[0]*t[0];if(this.iconImage_.getImageState()==Tt.LOADED)return this.iconImage_.getSize()[0]*t[0]}getHeight(){const t=this.getScaleArray();if(this.size_)return this.size_[1]*t[1];if(this.iconImage_.getImageState()==Tt.LOADED)return this.iconImage_.getSize()[1]*t[1]}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(St.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(St.CHANGE,t)}ready(){return this.iconImage_.ready()}}class ti{constructor(t){t=t||{},this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new ti({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}class gn{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=Ny,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new gn({geometry:t??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(n){return n.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=Ny,this.geometry_=t}setZIndex(t){this.zIndex_=t}}function JC(r){let t;if(typeof r=="function")t=r;else{let n;Array.isArray(r)?n=r:(Bt(typeof r.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[r]),t=function(){return n}}return t}let gd=null;function g2(r,t){if(!gd){const n=new _i({color:"rgba(255,255,255,0.4)"}),s=new ti({color:"#3399CC",width:1.25});gd=[new gn({image:new Yi({fill:n,stroke:s,radius:5}),fill:n,stroke:s})]}return gd}function Ny(r){return r.getGeometry()}const tR="#333";class kg{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.keepUpright_=t.keepUpright,this.scale_=t.scale,this.scaleArray_=dn(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new _i({color:tR}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new kg({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setKeepUpright(t){this.keepUpright_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=dn(t!==void 0?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}function eR(r){return!0}function nR(r){const t=l2(),n=iR(r,t),s=u2();return function(a,o){if(s.properties=a.getPropertiesInternal(),s.resolution=o,t.featureId){const c=a.getId();c!==void 0?s.featureId=c:s.featureId=null}return t.geometryType&&(s.geometryType=o2(a.getGeometry())),n(s)}}function Iy(r){const t=l2(),n=r.length,s=new Array(n);for(let c=0;c<n;++c)s[c]=Pd(r[c],t);const a=u2(),o=new Array(n);return function(c,h){if(a.properties=c.getPropertiesInternal(),a.resolution=h,t.featureId){const m=c.getId();m!==void 0?a.featureId=m:a.featureId=null}let d=0;for(let m=0;m<n;++m){const _=s[m](a);_&&(o[d]=_,d+=1)}return o.length=d,o}}function iR(r,t){const n=r.length,s=new Array(n);for(let a=0;a<n;++a){const o=r[a],c="filter"in o?Pi(o.filter,We,t):eR;let h;if(Array.isArray(o.style)){const d=o.style.length;h=new Array(d);for(let m=0;m<d;++m)h[m]=Pd(o.style[m],t)}else h=[Pd(o.style,t)];s[a]={filter:c,styles:h}}return function(a){const o=[];let c=!1;for(let h=0;h<n;++h){const d=s[h].filter;if(d(a)&&!(r[h].else&&c)){c=!0;for(const m of s[h].styles){const _=m(a);_&&o.push(_)}}}return o}}function Pd(r,t){const n=ao(r,"",t),s=lo(r,"",t),a=sR(r,t),o=rR(r,t),c=hn(r,"z-index",t);if(!n&&!s&&!a&&!o&&!Aa(r))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(r));const h=new gn;return function(d){let m=!0;if(n){const _=n(d);_&&(m=!1),h.setFill(_)}if(s){const _=s(d);_&&(m=!1),h.setStroke(_)}if(a){const _=a(d);_&&(m=!1),h.setText(_)}if(o){const _=o(d);_&&(m=!1),h.setImage(_)}return c&&h.setZIndex(c(d)),m?null:h}}function ao(r,t,n){let s;if(t+"fill-pattern-src"in r)s=uR(r,t+"fill-",n);else{if(r[t+"fill-color"]==="none")return o=>null;s=Fg(r,t+"fill-color",n)}if(!s)return null;const a=new _i;return function(o){const c=s(o);return c===Ng?null:(a.setColor(c),a)}}function lo(r,t,n){const s=hn(r,t+"stroke-width",n),a=Fg(r,t+"stroke-color",n);if(!s&&!a)return null;const o=Gi(r,t+"stroke-line-cap",n),c=Gi(r,t+"stroke-line-join",n),h=m2(r,t+"stroke-line-dash",n),d=hn(r,t+"stroke-line-dash-offset",n),m=hn(r,t+"stroke-miter-limit",n),_=new ti;return function(y){if(a){const v=a(y);if(v===Ng)return null;_.setColor(v)}if(s&&_.setWidth(s(y)),o){const v=o(y);if(v!=="butt"&&v!=="round"&&v!=="square")throw new Error("Expected butt, round, or square line cap");_.setLineCap(v)}if(c){const v=c(y);if(v!=="bevel"&&v!=="round"&&v!=="miter")throw new Error("Expected bevel, round, or miter line join");_.setLineJoin(v)}return h&&_.setLineDash(h(y)),d&&_.setLineDashOffset(d(y)),m&&_.setMiterLimit(m(y)),_}}function sR(r,t){const n="text-",s=Gi(r,n+"value",t);if(!s)return null;const a=ao(r,n,t),o=ao(r,n+"background-",t),c=lo(r,n,t),h=lo(r,n+"background-",t),d=Gi(r,n+"font",t),m=hn(r,n+"max-angle",t),_=hn(r,n+"offset-x",t),y=hn(r,n+"offset-y",t),v=Ra(r,n+"overflow",t),S=Gi(r,n+"placement",t),T=hn(r,n+"repeat",t),b=Ac(r,n+"scale",t),C=Ra(r,n+"rotate-with-view",t),A=hn(r,n+"rotation",t),L=Gi(r,n+"align",t),z=Gi(r,n+"justify",t),N=Gi(r,n+"baseline",t),M=Ra(r,n+"keep-upright",t),Y=m2(r,n+"padding",t),W=Mc(r,n+"declutter-mode"),q=new kg({declutterMode:W});return function(et){if(q.setText(s(et)),a&&q.setFill(a(et)),o&&q.setBackgroundFill(o(et)),c&&q.setStroke(c(et)),h&&q.setBackgroundStroke(h(et)),d&&q.setFont(d(et)),m&&q.setMaxAngle(m(et)),_&&q.setOffsetX(_(et)),y&&q.setOffsetY(y(et)),v&&q.setOverflow(v(et)),S){const it=S(et);if(it!=="point"&&it!=="line")throw new Error("Expected point or line for text-placement");q.setPlacement(it)}if(T&&q.setRepeat(T(et)),b&&q.setScale(b(et)),C&&q.setRotateWithView(C(et)),A&&q.setRotation(A(et)),L){const it=L(et);if(it!=="left"&&it!=="center"&&it!=="right"&&it!=="end"&&it!=="start")throw new Error("Expected left, right, center, start, or end for text-align");q.setTextAlign(it)}if(z){const it=z(et);if(it!=="left"&&it!=="right"&&it!=="center")throw new Error("Expected left, right, or center for text-justify");q.setJustify(it)}if(N){const it=N(et);if(it!=="bottom"&&it!=="top"&&it!=="middle"&&it!=="alphabetic"&&it!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");q.setTextBaseline(it)}return Y&&q.setPadding(Y(et)),M&&q.setKeepUpright(M(et)),q}}function rR(r,t){return"icon-src"in r?aR(r,t):"shape-points"in r?lR(r,t):"circle-radius"in r?oR(r,t):null}function aR(r,t){const n="icon-",s=n+"src",a=_2(r[s],s),o=tc(r,n+"anchor",t),c=Ac(r,n+"scale",t),h=hn(r,n+"opacity",t),d=tc(r,n+"displacement",t),m=hn(r,n+"rotation",t),_=Ra(r,n+"rotate-with-view",t),y=jy(r,n+"anchor-origin"),v=Gy(r,n+"anchor-x-units"),S=Gy(r,n+"anchor-y-units"),T=dR(r,n+"color"),b=hR(r,n+"cross-origin"),C=fR(r,n+"offset"),A=jy(r,n+"offset-origin"),L=ec(r,n+"width"),z=ec(r,n+"height"),N=cR(r,n+"size"),M=Mc(r,n+"declutter-mode"),Y=new wc({src:a,anchorOrigin:y,anchorXUnits:v,anchorYUnits:S,color:T,crossOrigin:b,offset:C,offsetOrigin:A,height:z,width:L,size:N,declutterMode:M});return function(W){return h&&Y.setOpacity(h(W)),d&&Y.setDisplacement(d(W)),m&&Y.setRotation(m(W)),_&&Y.setRotateWithView(_(W)),c&&Y.setScale(c(W)),o&&Y.setAnchor(o(W)),Y}}function lR(r,t){const n="shape-",s=n+"points",a=n+"radius",o=Vd(r[s],s),c=Vd(r[a],a),h=ao(r,n,t),d=lo(r,n,t),m=Ac(r,n+"scale",t),_=tc(r,n+"displacement",t),y=hn(r,n+"rotation",t),v=Ra(r,n+"rotate-with-view",t),S=ec(r,n+"radius2"),T=ec(r,n+"angle"),b=Mc(r,n+"declutter-mode"),C=new bc({points:o,radius:c,radius2:S,angle:T,declutterMode:b});return function(A){return h&&C.setFill(h(A)),d&&C.setStroke(d(A)),_&&C.setDisplacement(_(A)),y&&C.setRotation(y(A)),v&&C.setRotateWithView(v(A)),m&&C.setScale(m(A)),C}}function oR(r,t){const n="circle-",s=ao(r,n,t),a=lo(r,n,t),o=hn(r,n+"radius",t),c=Ac(r,n+"scale",t),h=tc(r,n+"displacement",t),d=hn(r,n+"rotation",t),m=Ra(r,n+"rotate-with-view",t),_=Mc(r,n+"declutter-mode"),y=new Yi({radius:5,declutterMode:_});return function(v){return o&&y.setRadius(o(v)),s&&y.setFill(s(v)),a&&y.setStroke(a(v)),h&&y.setDisplacement(h(v)),d&&y.setRotation(d(v)),m&&y.setRotateWithView(m(v)),c&&y.setScale(c(v)),y}}function hn(r,t,n){if(!(t in r))return;const s=Pi(r[t],Lt,n);return function(a){return Vd(s(a),t)}}function Gi(r,t,n){if(!(t in r))return null;const s=Pi(r[t],on,n);return function(a){return _2(s(a),t)}}function uR(r,t,n){const s=Gi(r,t+"pattern-src",n),a=zy(r,t+"pattern-offset",n),o=zy(r,t+"pattern-size",n),c=Fg(r,t+"color",n);return function(h){return{src:s(h),offset:a&&a(h),size:o&&o(h),color:c&&c(h)}}}function Ra(r,t,n){if(!(t in r))return null;const s=Pi(r[t],We,n);return function(a){const o=s(a);if(typeof o!="boolean")throw new Error(`Expected a boolean for ${t}`);return o}}function Fg(r,t,n){if(!(t in r))return null;const s=Pi(r[t],Qn,n);return function(a){return y2(s(a),t)}}function m2(r,t,n){if(!(t in r))return null;const s=Pi(r[t],_r,n);return function(a){return go(s(a),t)}}function tc(r,t,n){if(!(t in r))return null;const s=Pi(r[t],_r,n);return function(a){const o=go(s(a),t);if(o.length!==2)throw new Error(`Expected two numbers for ${t}`);return o}}function zy(r,t,n){if(!(t in r))return null;const s=Pi(r[t],_r,n);return function(a){return p2(s(a),t)}}function Ac(r,t,n){if(!(t in r))return null;const s=Pi(r[t],_r|Lt,n);return function(a){return gR(s(a),t)}}function ec(r,t){const n=r[t];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${t}`);return n}}function cR(r,t){const n=r[t];if(n!==void 0){if(typeof n=="number")return dn(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${t}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${t}`);return n}}function hR(r,t){const n=r[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);return n}}function jy(r,t){const n=r[t];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${t}`);return n}}function Gy(r,t){const n=r[t];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${t}`);return n}}function fR(r,t){const n=r[t];if(n!==void 0)return go(n,t)}function Mc(r,t){const n=r[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${t}`);return n}}function dR(r,t){const n=r[t];if(n!==void 0)return y2(n,t)}function go(r,t){if(!Array.isArray(r))throw new Error(`Expected an array for ${t}`);const n=r.length;for(let s=0;s<n;++s)if(typeof r[s]!="number")throw new Error(`Expected an array of numbers for ${t}`);return r}function _2(r,t){if(typeof r!="string")throw new Error(`Expected a string for ${t}`);return r}function Vd(r,t){if(typeof r!="number")throw new Error(`Expected a number for ${t}`);return r}function y2(r,t){if(typeof r=="string")return r;const n=go(r,t),s=n.length;if(s<3||s>4)throw new Error(`Expected a color with 3 or 4 values for ${t}`);return n}function p2(r,t){const n=go(r,t);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${t}`);return n}function gR(r,t){return typeof r=="number"?r:p2(r,t)}const ky={RENDER_ORDER:"renderOrder"};class v2 extends Cc{constructor(t){t=t||{};const n=Object.assign({},t);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=t.renderBuffer!==void 0?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=t.updateWhileAnimating!==void 0?t.updateWhileAnimating:!1,this.updateWhileInteracting_=t.updateWhileInteracting!==void 0?t.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(ky.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,n){const s=this.getDeclutter();s in t.declutter||(t.declutter[s]=new r2(9)),this.getRenderer().renderDeclutter(t,n)}setRenderOrder(t){this.set(ky.RENDER_ORDER,t)}setStyle(t){this.style_=t===void 0?g2:t;const n=mR(t);this.styleFunction_=t===null?void 0:JC(n),this.changed()}setDeclutter(t){this.declutter_=t?String(t):void 0,this.changed()}}function mR(r){if(r===void 0)return g2;if(!r)return null;if(typeof r=="function"||r instanceof gn)return r;if(!Array.isArray(r))return Iy([r]);if(r.length===0)return[];const t=r.length,n=r[0];if(n instanceof gn){const a=new Array(t);for(let o=0;o<t;++o){const c=r[o];if(!(c instanceof gn))throw new Error("Expected a list of style instances");a[o]=c}return a}if("style"in n){const a=new Array(t);for(let o=0;o<t;++o){const c=r[o];if(!("style"in c))throw new Error("Expected a list of rules with a style property");a[o]=c}return nR(a)}return Iy(r)}class E2 extends Hi{constructor(t,n,s,a){super(t),this.inversePixelTransform=n,this.frameState=s,this.context=a}}class _R extends oc{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,n){jt()}calculateMatrices2D(t){const n=t.viewState,s=t.coordinateToPixelTransform,a=t.pixelToCoordinateTransform;Xi(s,t.size[0]/2,t.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),Pp(a,s)}forEachFeatureAtCoordinate(t,n,s,a,o,c,h,d){let m;const _=n.viewState;function y(N,M,Y,W){return o.call(c,M,N?Y:null,W)}const v=_.projection,S=zp(t.slice(),v),T=[[0,0]];if(v.canWrapX()&&a){const N=v.getExtent(),M=Pt(N);T.push([-M,0],[M,0])}const b=n.layerStatesArray,C=b.length,A=[],L=[];for(let N=0;N<T.length;N++)for(let M=C-1;M>=0;--M){const Y=b[M],W=Y.layer;if(W.hasRenderer()&&Lg(Y,_)&&h.call(d,W)){const q=W.getRenderer(),et=W.getSource();if(q&&et){const it=et.getWrapX()?S:t,lt=y.bind(null,Y.managed);L[0]=it[0]+T[N][0],L[1]=it[1]+T[N][1],m=q.forEachFeatureAtCoordinate(L,n,s,lt,A)}if(m)return m}}if(A.length===0)return;const z=1/A.length;return A.forEach((N,M)=>N.distanceSq+=M*z),A.sort((N,M)=>N.distanceSq-M.distanceSq),A.some(N=>m=N.callback(N.feature,N.layer,N.geometry)),m}hasFeatureAtCoordinate(t,n,s,a,o,c){return this.forEachFeatureAtCoordinate(t,n,s,a,Wl,this,o,c)!==void 0}getMap(){return this.map_}renderFrame(t){jt()}scheduleExpireIconCache(t){Bn.canExpireCache()&&t.postRenderFunctions.push(yR)}}function yR(r,t){Bn.expire()}class pR extends _R{constructor(t){super(t),this.fontChangeListenerKey_=It(ya,wa.PROPERTYCHANGE,t.redrawText,t),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=Sc+" ol-layers";const s=t.getViewport();s.insertBefore(this.element_,s.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,n){const s=this.getMap();if(s.hasListener(t)){const a=new E2(t,void 0,n);s.dispatchEvent(a)}}disposeInternal(){te(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(Un.PRECOMPOSE,t);const n=t.layerStatesArray.sort((h,d)=>h.zIndex-d.zIndex);n.some(h=>h.layer instanceof v2&&h.layer.getDeclutter())&&(t.declutter={});const a=t.viewState;this.children_.length=0;const o=[];let c=null;for(let h=0,d=n.length;h<d;++h){const m=n[h];t.layerIndex=h;const _=m.layer,y=_.getSourceState();if(!Lg(m,a)||y!="ready"&&y!="undefined"){_.unrender();continue}const v=_.render(t,c);v&&(v!==c&&(this.children_.push(v),c=v),o.push(m))}this.declutter(t,o),MT(this.element_,this.children_),this.dispatchRenderEvent(Un.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}declutter(t,n){if(t.declutter){for(let s=n.length-1;s>=0;--s){const a=n[s],o=a.layer;o.getDeclutter()&&o.renderDeclutter(t,a)}n.forEach(s=>s.layer.renderDeferred(t))}}}function x2(r){if(r instanceof Cc){r.setMapInternal(null);return}r instanceof ja&&r.getLayers().forEach(x2)}function S2(r,t){if(r instanceof Cc){r.setMapInternal(t);return}if(r instanceof ja){const n=r.getLayers().getArray();for(let s=0,a=n.length;s<a;++s)S2(n[s],t)}}let Ug=class extends ni{constructor(t){super(),t=t||{},this.on,this.once,this.un;const n=vR(t);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,this.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:Jx,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Jn(),this.pixelToCoordinateTransform_=Jn(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||Mg(),this.interactions=n.interactions||tC({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new nS(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Ye.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Ye.VIEW,this.handleViewChanged_),this.addChangeListener(Ye.SIZE,this.handleSizeChanged_),this.addChangeListener(Ye.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const s=this;t.view&&!(t.view instanceof Fn)&&t.view.then(function(a){s.setView(new Fn(a))}),this.controls.addEventListener(ln.ADD,a=>{a.element.setMap(this)}),this.controls.addEventListener(ln.REMOVE,a=>{a.element.setMap(null)}),this.interactions.addEventListener(ln.ADD,a=>{a.element.setMap(this)}),this.interactions.addEventListener(ln.REMOVE,a=>{a.element.setMap(null)}),this.overlays_.addEventListener(ln.ADD,a=>{this.addOverlayInternal_(a.element)}),this.overlays_.addEventListener(ln.REMOVE,a=>{const o=a.element.getId();o!==void 0&&delete this.overlayIdIndex_[o.toString()],a.element.setMap(null)}),this.controls.forEach(a=>{a.setMap(this)}),this.interactions.forEach(a=>{a.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){S2(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const n=t.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,n,s){if(!this.frameState_||!this.renderer_)return;const a=this.getCoordinateFromPixelInternal(t);s=s!==void 0?s:{};const o=s.hitTolerance!==void 0?s.hitTolerance:0,c=s.layerFilter!==void 0?s.layerFilter:Wl,h=s.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(a,this.frameState_,o,h,n,null,c,null)}getFeaturesAtPixel(t,n){const s=[];return this.forEachFeatureAtPixel(t,function(a){s.push(a)},n),s}getAllLayers(){const t=[];function n(s){s.forEach(function(a){a instanceof ja?n(a.getLayers()):t.push(a)})}return n(this.getLayers()),t}hasFeatureAtPixel(t,n){if(!this.frameState_||!this.renderer_)return!1;const s=this.getCoordinateFromPixelInternal(t);n=n!==void 0?n:{};const a=n.layerFilter!==void 0?n.layerFilter:Wl,o=n.hitTolerance!==void 0?n.hitTolerance:0,c=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(s,this.frameState_,o,c,a,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const s=this.viewport_.getBoundingClientRect(),a=this.getSize(),o=s.width/a[0],c=s.height/a[1],h="changedTouches"in t?t.changedTouches[0]:t;return[(h.clientX-s.left)/o,(h.clientY-s.top)/c]}getTarget(){return this.get(Ye.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return Ud(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const n=this.frameState_;return n?Oe(n.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const n=this.overlayIdIndex_[t.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Ye.LAYERGROUP)}setLayers(t){const n=this.getLayerGroup();if(t instanceof gi){n.setLayers(t);return}const s=n.getLayers();s.clear(),s.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let n=0,s=t.length;n<s;++n){const a=t[n];if(!a.visible)continue;const o=a.layer.getRenderer();if(o&&!o.ready)return!0;const c=a.layer.getSource();if(c&&c.loading)return!0}return!1}getPixelFromCoordinate(t){const n=zi(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(t){const n=this.frameState_;return n?Oe(n.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Ye.SIZE)}getView(){return this.get(Ye.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,n,s,a){return iS(this.frameState_,t,n,s,a)}handleBrowserEvent(t,n){n=n||t.type;const s=new Cs(n,this,t);this.handleMapBrowserEvent(s)}handleMapBrowserEvent(t){if(!this.frameState_)return;const n=t.originalEvent,s=n.type;if(s===Ld.POINTERDOWN||s===St.WHEEL||s===St.KEYDOWN){const a=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():a,c=n.target,h=o instanceof ShadowRoot?o.host===c?o.host.ownerDocument:o:o===a?a.documentElement:o;if(this.overlayContainerStopEvent_.contains(c)||!h.contains(c))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1){const a=this.getInteractions().getArray().slice();for(let o=a.length-1;o>=0;o--){const c=a[o];if(c.getMap()!==this||!c.getActive()||!this.getTargetElement())continue;if(!c.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){const t=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let a=this.maxTilesLoading_,o=a;if(t){const c=t.viewHints;if(c[He.ANIMATING]||c[He.INTERACTING]){const h=Date.now()-t.time>8;a=h?0:8,o=h?0:2}}n.getTilesLoading()<a&&(n.reprioritize(),n.loadMoreTiles(a,o))}t&&this.renderer_&&!t.animate&&(this.renderComplete_?(this.hasListener(Un.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Un.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new ma(ji.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new ma(ji.LOADSTART,this,t))));const s=this.postRenderFunctions_;if(t)for(let a=0,o=s.length;a<o;++a)s[a](this,t);s.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let s=0,a=this.targetChangeHandlerKeys_.length;s<a;++s)te(this.targetChangeHandlerKeys_[s]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(St.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(St.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const s=this.targetElement_.getRootNode();s instanceof ShadowRoot&&this.resizeObserver_.unobserve(s.host),this.setSize(void 0)}const t=this.getTarget(),n=typeof t=="string"?document.getElementById(t):t;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new pR(this)),this.mapBrowserEventHandler_=new tS(this,this.moveTolerance_);for(const o in de)this.mapBrowserEventHandler_.addEventListener(de[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(St.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(St.WHEEL,this.boundHandleBrowserEvent_,bp?{passive:!1}:!1);let s;if(this.keyboardEventTarget_)s=this.keyboardEventTarget_;else{const o=n.getRootNode();s=o instanceof ShadowRoot?o.host:n}this.targetChangeHandlerKeys_=[It(s,St.KEYDOWN,this.handleBrowserEvent,this),It(s,St.KEYPRESS,this.handleBrowserEvent,this)];const a=n.getRootNode();a instanceof ShadowRoot&&this.resizeObserver_.observe(a.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(te(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(te(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=It(t,wa.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=It(t,St.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(te),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new Rs("addlayer",t)),this.layerGroupPropertyListenerKeys_=[It(t,wa.PROPERTYCHANGE,this.render,this),It(t,St.CHANGE,this.render,this),It(t,"addlayer",this.handleLayerAdd_,this),It(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){if(!this.frameState_)return;const t=this.frameState_.layerStatesArray;for(let n=0,s=t.length;n<s;++n){const a=t[n].layer;a.hasRenderer()&&a.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){x2(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const n=this.getSize(),s=this.getView(),a=this.frameState_;let o=null;if(n!==void 0&&by(n)&&s&&s.isDef()){const c=s.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=s.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:jd(h.center,h.resolution,h.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:h,viewHints:c,wantedTiles:{},mapId:Gt(this),renderTargets:{}},h.nextCenter&&h.nextResolution){const d=isNaN(h.nextRotation)?h.rotation:h.nextRotation;o.nextExtent=jd(h.nextCenter,h.nextResolution,d,n)}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),a&&(!this.previousExtent_||!yc(this.previousExtent_)&&!$l(o.extent,this.previousExtent_))&&(this.dispatchEvent(new ma(ji.MOVESTART,this,a)),this.previousExtent_=dc(this.previousExtent_)),this.previousExtent_&&!o.viewHints[He.ANIMATING]&&!o.viewHints[He.INTERACTING]&&!$l(o.extent,this.previousExtent_)&&(this.dispatchEvent(new ma(ji.MOVEEND,this,o)),wp(o.extent,this.previousExtent_))),this.dispatchEvent(new ma(ji.POSTRENDER,this,o)),this.renderComplete_=(this.hasListener(ji.LOADSTART)||this.hasListener(ji.LOADEND)||this.hasListener(Un.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new Rs("removelayer",n)),this.set(Ye.LAYERGROUP,t)}setSize(t){this.set(Ye.SIZE,t)}setTarget(t){this.set(Ye.TARGET,t)}setView(t){if(!t||t instanceof Fn){this.set(Ye.VIEW,t);return}this.set(Ye.VIEW,new Fn);const n=this;t.then(function(s){n.setView(new Fn(s))})}updateSize(){const t=this.getTargetElement();let n;if(t){const a=getComputedStyle(t),o=t.offsetWidth-parseFloat(a.borderLeftWidth)-parseFloat(a.paddingLeft)-parseFloat(a.paddingRight)-parseFloat(a.borderRightWidth),c=t.offsetHeight-parseFloat(a.borderTopWidth)-parseFloat(a.paddingTop)-parseFloat(a.paddingBottom)-parseFloat(a.borderBottomWidth);!isNaN(o)&&!isNaN(c)&&(n=[Math.max(0,o),Math.max(0,c)],!by(n)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&Gp("No map visible because the map container's width or height are 0."))}const s=this.getSize();n&&(!s||!Ns(n,s))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(t){const n=this.getView();n&&n.setViewportSize(t)}};function vR(r){let t=null;r.keyboardEventTarget!==void 0&&(t=typeof r.keyboardEventTarget=="string"?document.getElementById(r.keyboardEventTarget):r.keyboardEventTarget);const n={},s=r.layers&&typeof r.layers.getLayers=="function"?r.layers:new ja({layers:r.layers});n[Ye.LAYERGROUP]=s,n[Ye.TARGET]=r.target,n[Ye.VIEW]=r.view instanceof Fn?r.view:new Fn;let a;r.controls!==void 0&&(Array.isArray(r.controls)?a=new gi(r.controls.slice()):(Bt(typeof r.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),a=r.controls));let o;r.interactions!==void 0&&(Array.isArray(r.interactions)?o=new gi(r.interactions.slice()):(Bt(typeof r.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),o=r.interactions));let c;return r.overlays!==void 0?Array.isArray(r.overlays)?c=new gi(r.overlays.slice()):(Bt(typeof r.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),c=r.overlays):c=new gi,{controls:a,interactions:o,keyboardEventTarget:t,overlays:c,values:n}}class Bg extends hc{constructor(t,n,s){super(),s=s||{},this.tileCoord=t,this.state=n,this.key="",this.transition_=s.transition===void 0?250:s.transition,this.transitionStarts_={},this.interpolate=!!s.interpolate}changed(){this.dispatchEvent(St.CHANGE)}release(){this.setState(gt.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==gt.EMPTY){if(this.state!==gt.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}}load(){jt()}getAlpha(t,n){if(!this.transition_)return 1;let s=this.transitionStarts_[t];if(!s)s=n,this.transitionStarts_[t]=s;else if(s===-1)return 1;const a=n-s+1e3/60;return a>=this.transition_?1:jp(a/this.transition_)}inTransition(t){return this.transition_?this.transitionStarts_[t]!==-1:!1}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}function Zd(r){return r instanceof Image||r instanceof HTMLCanvasElement||r instanceof HTMLVideoElement||r instanceof ImageBitmap?r:null}const ER=new Error("disposed"),xR=[256,256];class Fy extends Bg{constructor(t){const n=gt.IDLE;super(t.tileCoord,n,{transition:t.transition,interpolate:t.interpolate}),this.loader_=t.loader,this.data_=null,this.error_=null,this.size_=t.size||null,this.controller_=t.controller||null}getSize(){if(this.size_)return this.size_;const t=Zd(this.data_);return t?[t.width,t.height]:xR}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==gt.IDLE&&this.state!==gt.ERROR)return;this.state=gt.LOADING,this.changed();const t=this;this.loader_().then(function(n){t.data_=n,t.state=gt.LOADED,t.changed()}).catch(function(n){t.error_=n,t.state=gt.ERROR,t.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(ER),this.controller_=null),super.disposeInternal()}}class T2 extends Bg{constructor(t,n,s,a,o,c){super(t,n,c),this.crossOrigin_=a,this.src_=s,this.key=s,this.image_=new Image,a!==null&&(this.image_.crossOrigin=a),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(t){this.image_=t,this.state=gt.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=gt.ERROR,this.unlistenImage_(),this.image_=SR(),this.changed()}handleImageLoad_(){const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=gt.LOADED:this.state=gt.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==gt.ERROR&&(this.state=gt.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==gt.IDLE&&(this.state=gt.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=BC(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function SR(){const r=xe(1,1);return r.fillStyle="rgba(0,0,0,0)",r.fillRect(0,0,1,1),r.canvas}class Xg{constructor(t,n,s,a){this.minX=t,this.maxX=n,this.minY=s,this.maxY=a}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,n){return this.minX<=t&&t<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function ua(r,t,n,s,a){return a!==void 0?(a.minX=r,a.maxX=t,a.minY=n,a.maxY=s,a):new Xg(r,t,n,s)}let md;const ba=[];function Uy(r,t,n,s,a){r.beginPath(),r.moveTo(0,0),r.lineTo(t,n),r.lineTo(s,a),r.closePath(),r.save(),r.clip(),r.fillRect(0,0,Math.max(t,s)+1,Math.max(n,a)),r.restore()}function _d(r,t){return Math.abs(r[t*4]-210)>2||Math.abs(r[t*4+3]-.75*255)>2}function TR(){if(md===void 0){const r=xe(6,6,ba);r.globalCompositeOperation="lighter",r.fillStyle="rgba(210, 0, 0, 0.75)",Uy(r,4,5,4,0),Uy(r,4,5,0,5);const t=r.getImageData(0,0,3,3).data;md=_d(t,0)||_d(t,4)||_d(t,8),Tc(r),ba.push(r.canvas)}return md}function By(r,t,n,s){const a=_g(n,t,r);let o=uy(t,s,n);const c=t.getMetersPerUnit();c!==void 0&&(o*=c);const h=r.getMetersPerUnit();h!==void 0&&(o/=h);const d=r.getExtent();if(!d||Ma(d,a)){const m=uy(r,o,a)/o;isFinite(m)&&m>0&&(o/=m)}return o}function CR(r,t,n,s){const a=mr(n);let o=By(r,t,a,s);return(!isFinite(o)||o<=0)&&Dp(n,function(c){return o=By(r,t,c,s),isFinite(o)&&o>0}),o}function RR(r,t,n,s,a,o,c,h,d,m,_,y,v,S){const T=xe(Math.round(n*r),Math.round(n*t),ba);if(y||(T.imageSmoothingEnabled=!1),d.length===0)return T.canvas;T.scale(n,n);function b(M){return Math.round(M*n)/n}T.globalCompositeOperation="lighter";const C=Yn();d.forEach(function(M,Y,W){lS(C,M.extent)});let A;const L=n/s,z=(y?1:1+Math.pow(2,-24))/L;A=xe(Math.round(Pt(C)*L),Math.round(Qe(C)*L),ba),y||(A.imageSmoothingEnabled=!1),d.forEach(function(M,Y,W){if(M.image.width>0&&M.image.height>0){if(M.clipExtent){A.save();const H=(M.clipExtent[0]-C[0])*L,st=-(M.clipExtent[3]-C[3])*L,tt=Pt(M.clipExtent)*L,at=Qe(M.clipExtent)*L;A.rect(y?H:Math.round(H),y?st:Math.round(st),y?tt:Math.round(H+tt)-Math.round(H),y?at:Math.round(st+at)-Math.round(st)),A.clip()}const q=(M.extent[0]-C[0])*L,et=-(M.extent[3]-C[3])*L,it=Pt(M.extent)*L,lt=Qe(M.extent)*L;A.drawImage(M.image,m,m,M.image.width-2*m,M.image.height-2*m,y?q:Math.round(q),y?et:Math.round(et),y?it:Math.round(q+it)-Math.round(q),y?lt:Math.round(et+lt)-Math.round(et)),M.clipExtent&&A.restore()}});const N=yr(c);return h.getTriangles().forEach(function(M,Y,W){const q=M.source,et=M.target;let it=q[0][0],lt=q[0][1],H=q[1][0],st=q[1][1],tt=q[2][0],at=q[2][1];const O=b((et[0][0]-N[0])/o),P=b(-(et[0][1]-N[1])/o),Z=b((et[1][0]-N[0])/o),ot=b(-(et[1][1]-N[1])/o),R=b((et[2][0]-N[0])/o),X=b(-(et[2][1]-N[1])/o),G=it,nt=lt;it=0,lt=0,H-=G,st-=nt,tt-=G,at-=nt;const rt=[[H,st,0,0,Z-O],[tt,at,0,0,R-O],[0,0,H,st,ot-P],[0,0,tt,at,X-P]],ht=rS(rt);if(!ht)return;if(T.save(),T.beginPath(),TR()||!y){T.moveTo(Z,ot);const Dt=4,Ct=O-Z,Wt=P-ot;for(let ee=0;ee<Dt;ee++)T.lineTo(Z+b((ee+1)*Ct/Dt),ot+b(ee*Wt/(Dt-1))),ee!=Dt-1&&T.lineTo(Z+b((ee+1)*Ct/Dt),ot+b((ee+1)*Wt/(Dt-1)));T.lineTo(R,X)}else T.moveTo(Z,ot),T.lineTo(O,P),T.lineTo(R,X);T.clip(),T.transform(ht[0],ht[2],ht[1],ht[3],O,P),T.translate(C[0]-G,C[3]-nt);let ct;if(A)ct=A.canvas,T.scale(z,-z);else{const Dt=d[0],Ct=Dt.extent;ct=Dt.image,T.scale(Pt(Ct)/ct.width,-Qe(Ct)/ct.height)}T.drawImage(ct,0,0),T.restore()}),A&&(Tc(A),ba.push(A.canvas)),_&&(T.save(),T.globalCompositeOperation="source-over",T.strokeStyle="black",T.lineWidth=1,h.getTriangles().forEach(function(M,Y,W){const q=M.target,et=(q[0][0]-N[0])/o,it=-(q[0][1]-N[1])/o,lt=(q[1][0]-N[0])/o,H=-(q[1][1]-N[1])/o,st=(q[2][0]-N[0])/o,tt=-(q[2][1]-N[1])/o;T.beginPath(),T.moveTo(lt,H),T.lineTo(et,it),T.lineTo(st,tt),T.closePath(),T.stroke()}),T.restore()),T.canvas}const bR=10,Xy=.25;class wR{constructor(t,n,s,a,o,c,h){this.sourceProj_=t,this.targetProj_=n;let d={};const m=h?HS(z=>Oe(h,_g(z,this.targetProj_,this.sourceProj_))):Wu(this.targetProj_,this.sourceProj_);this.transformInv_=function(z){const N=z[0]+"/"+z[1];return d[N]||(d[N]=m(z)),d[N]},this.maxSourceExtent_=a,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!a&&!!this.sourceProj_.getExtent()&&Pt(a)>=Pt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Pt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Pt(this.targetProj_.getExtent()):null;const _=yr(s),y=_c(s),v=mc(s),S=gc(s),T=this.transformInv_(_),b=this.transformInv_(y),C=this.transformInv_(v),A=this.transformInv_(S),L=bR+(c?Math.max(0,Math.ceil(Math.log2(zd(s)/(c*c*256*256)))):0);if(this.addQuad_(_,y,v,S,T,b,C,A,L),this.wrapsXInSource_){let z=1/0;this.triangles_.forEach(function(N,M,Y){z=Math.min(z,N.source[0][0],N.source[1][0],N.source[2][0])}),this.triangles_.forEach(N=>{if(Math.max(N.source[0][0],N.source[1][0],N.source[2][0])-z>this.sourceWorldWidth_/2){const M=[[N.source[0][0],N.source[0][1]],[N.source[1][0],N.source[1][1]],[N.source[2][0],N.source[2][1]]];M[0][0]-z>this.sourceWorldWidth_/2&&(M[0][0]-=this.sourceWorldWidth_),M[1][0]-z>this.sourceWorldWidth_/2&&(M[1][0]-=this.sourceWorldWidth_),M[2][0]-z>this.sourceWorldWidth_/2&&(M[2][0]-=this.sourceWorldWidth_);const Y=Math.min(M[0][0],M[1][0],M[2][0]);Math.max(M[0][0],M[1][0],M[2][0])-Y<this.sourceWorldWidth_/2&&(N.source=M)}})}d={}}addTriangle_(t,n,s,a,o,c){this.triangles_.push({source:[a,o,c],target:[t,n,s]})}addQuad_(t,n,s,a,o,c,h,d,m){const _=ty([o,c,h,d]),y=this.sourceWorldWidth_?Pt(_)/this.sourceWorldWidth_:null,v=this.sourceWorldWidth_,S=this.sourceProj_.canWrapX()&&y>.5&&y<1;let T=!1;if(m>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const C=ty([t,n,s,a]);T=Pt(C)/this.targetWorldWidth_>Xy||T}!S&&this.sourceProj_.isGlobal()&&y&&(T=y>Xy||T)}if(!T&&this.maxSourceExtent_&&isFinite(_[0])&&isFinite(_[1])&&isFinite(_[2])&&isFinite(_[3])&&!cn(_,this.maxSourceExtent_))return;let b=0;if(!T&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(c[0])||!isFinite(c[1])||!isFinite(h[0])||!isFinite(h[1])||!isFinite(d[0])||!isFinite(d[1]))){if(m>0)T=!0;else if(b=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(c[0])||!isFinite(c[1])?4:0)+(!isFinite(h[0])||!isFinite(h[1])?2:0)+(!isFinite(d[0])||!isFinite(d[1])?1:0),b!=1&&b!=2&&b!=4&&b!=8)return}if(m>0){if(!T){const C=[(t[0]+s[0])/2,(t[1]+s[1])/2],A=this.transformInv_(C);let L;S?L=(Ta(o[0],v)+Ta(h[0],v))/2-Ta(A[0],v):L=(o[0]+h[0])/2-A[0];const z=(o[1]+h[1])/2-A[1];T=L*L+z*z>this.errorThresholdSquared_}if(T){if(Math.abs(t[0]-s[0])<=Math.abs(t[1]-s[1])){const C=[(n[0]+s[0])/2,(n[1]+s[1])/2],A=this.transformInv_(C),L=[(a[0]+t[0])/2,(a[1]+t[1])/2],z=this.transformInv_(L);this.addQuad_(t,n,C,L,o,c,A,z,m-1),this.addQuad_(L,C,s,a,z,A,h,d,m-1)}else{const C=[(t[0]+n[0])/2,(t[1]+n[1])/2],A=this.transformInv_(C),L=[(s[0]+a[0])/2,(s[1]+a[1])/2],z=this.transformInv_(L);this.addQuad_(t,C,L,a,o,A,z,d,m-1),this.addQuad_(C,n,s,L,A,c,h,z,m-1)}return}}if(S){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(b&11)==0&&this.addTriangle_(t,s,a,o,h,d),(b&14)==0&&this.addTriangle_(t,s,n,o,h,c),b&&((b&13)==0&&this.addTriangle_(n,a,t,c,d,o),(b&7)==0&&this.addTriangle_(n,a,s,c,d,h))}calculateSourceExtent(){const t=Yn();return this.triangles_.forEach(function(n,s,a){const o=n.source;Kl(t,o[0]),Kl(t,o[1]),Kl(t,o[2])}),t}getTriangles(){return this.triangles_}}const AR=.5;class C2 extends Bg{constructor(t,n,s,a,o,c,h,d,m,_,y,v){super(o,gt.IDLE,v),this.renderEdges_=y!==void 0?y:!1,this.pixelRatio_=h,this.gutter_=d,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=a,this.wrappedTileCoord_=c||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=t.canWrapX()?t.getExtent():void 0;const S=a.getTileCoordExtent(this.wrappedTileCoord_),T=this.targetTileGrid_.getExtent();let b=this.sourceTileGrid_.getExtent();const C=T?hr(S,T):S;if(zd(C)===0){this.state=gt.EMPTY;return}const A=t.getExtent();A&&(b?b=hr(b,A):b=A);const L=a.getResolution(this.wrappedTileCoord_[0]),z=CR(t,s,C,L);if(!isFinite(z)||z<=0){this.state=gt.EMPTY;return}const N=_!==void 0?_:AR;if(this.triangulation_=new wR(t,s,C,b,z*N,L),this.triangulation_.getTriangles().length===0){this.state=gt.EMPTY;return}this.sourceZ_=n.getZForResolution(z);let M=this.triangulation_.calculateSourceExtent();if(b&&(t.canWrapX()?(M[1]=le(M[1],b[1],b[3]),M[3]=le(M[3],b[1],b[3])):M=hr(M,b)),!zd(M))this.state=gt.EMPTY;else{let Y=0,W=0;t.canWrapX()&&(Y=Pt(A),W=Math.floor((M[0]-A[0])/Y)),Ip(M.slice(),t,!0).forEach(et=>{const it=n.getTileRangeForExtentAndZ(et,this.sourceZ_);for(let lt=it.minX;lt<=it.maxX;lt++)for(let H=it.minY;H<=it.maxY;H++){const st=m(this.sourceZ_,lt,H,h);if(st){const tt=W*Y;this.sourceTiles_.push({tile:st,offset:tt})}}++W}),this.sourceTiles_.length===0&&(this.state=gt.EMPTY)}}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach(n=>{const s=n.tile;if(s&&s.getState()==gt.LOADED){const a=this.sourceTileGrid_.getTileCoordExtent(s.tileCoord);a[0]+=n.offset,a[2]+=n.offset;const o=this.clipExtent_?.slice();o&&(o[0]+=n.offset,o[2]+=n.offset),t.push({extent:a,clipExtent:o,image:s.getImage()})}}),this.sourceTiles_.length=0,t.length===0)this.state=gt.ERROR;else{const n=this.wrappedTileCoord_[0],s=this.targetTileGrid_.getTileSize(n),a=typeof s=="number"?s:s[0],o=typeof s=="number"?s:s[1],c=this.targetTileGrid_.getResolution(n),h=this.sourceTileGrid_.getResolution(this.sourceZ_),d=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=RR(a,o,this.pixelRatio_,h,this.sourceTileGrid_.getExtent(),c,d,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=gt.LOADED}this.changed()}load(){if(this.state==gt.IDLE){this.state=gt.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const s=n.getState();if(s==gt.IDLE||s==gt.LOADING){t++;const a=It(n,St.CHANGE,o=>{const c=n.getState();(c==gt.LOADED||c==gt.ERROR||c==gt.EMPTY)&&(te(a),t--,t===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(a)}}),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},s,a){n.getState()==gt.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(te),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Tc(this.canvas_.getContext("2d")),ba.push(this.canvas_),this.canvas_=null),super.release()}}class MR{constructor(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const t=this.pop();t instanceof oc&&t.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let n=this.oldest_;for(;n;)t(n.value_,n.key_,this),n=n.newer}get(t,n){const s=this.entries_[t];return Bt(s!==void 0,"Tried to get a value for a key that does not exist in the cache"),s===this.newest_||(s===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(s.newer.older=s.older,s.older.newer=s.newer),s.newer=null,s.older=this.newest_,this.newest_.newer=s,this.newest_=s),s.value_}remove(t){const n=this.entries_[t];return Bt(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[t],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let n=0,s;for(s=this.newest_;s;s=s.older)t[n++]=s.key_;return t}getValues(){const t=new Array(this.count_);let n=0,s;for(s=this.newest_;s;s=s.older)t[n++]=s.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){return this.entries_[t]?.value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,n){this.get(t),this.entries_[t].value_=n}set(t,n){Bt(!(t in this.entries_),"Tried to set a value for a key that is used already");const s={key_:t,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=s:this.oldest_=s,this.newest_=s,this.entries_[t]=s,++this.count_}setSize(t){this.highWaterMark=t}}function nc(r,t,n,s){return s!==void 0?(s[0]=r,s[1]=t,s[2]=n,s):[r,t,n]}function OR(r,t,n){return r+"/"+t+"/"+n}function DR(r){return LR(r[0],r[1],r[2])}function LR(r,t,n){return(t<<r)+n}function NR(r,t){const n=r[0],s=r[1],a=r[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;const o=t.getFullTileRange(n);return o?o.containsXY(s,a):!0}class R2{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy($u(),{get:(t,n)=>{if(typeof $u()[n]=="function")return this.push_(n),this.pushMethodArgs_},set:(t,n,s)=>(this.push_(n,s),!0)})}push_(...t){const n=this.instructions_,s=this.zIndex+this.offset_;n[s]||(n[s]=[]),n[s].push(...t)}pushMethodArgs_=(...t)=>(this.push_(t),this);pushFunction(t){this.push_(t)}getContext(){return this.context_}draw(t){this.instructions_.forEach(n=>{for(let s=0,a=n.length;s<a;++s){const o=n[s];if(typeof o=="function"){o(t);continue}const c=n[++s];if(typeof t[o]=="function")t[o](...c);else{if(typeof c=="function"){t[o]=c(t);continue}t[o]=c}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const IR=5;class zR extends uo{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.staleKeys_=new Array,this.maxStaleKeys=IR}getStaleKeys(){return this.staleKeys_}prependStaleKey(t){this.staleKeys_.unshift(t),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(t){return jt()}getData(t){return null}prepareFrame(t){return jt()}renderFrame(t,n){return jt()}forEachFeatureAtCoordinate(t,n,s,a,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){const n=t.target;(n.getState()===Tt.LOADED||n.getState()===Tt.ERROR)&&this.renderIfReadyAndVisible()}loadImage(t){let n=t.getState();return n!=Tt.LOADED&&n!=Tt.ERROR&&t.addEventListener(St.CHANGE,this.boundHandleImageChange_),n==Tt.IDLE&&(t.load(),n=t.getState()),n==Tt.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&t.getSourceState()==="ready"&&t.changed()}renderDeferred(t){}disposeInternal(){delete this.layer_,super.disposeInternal()}}const Yy=[];let pa=null;function jR(){pa=xe(1,1,void 0,{willReadFrequently:!0})}class b2 extends zR{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=Jn(),this.pixelTransform=Jn(),this.inversePixelTransform=Jn(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(t,n,s){pa||jR(),pa.clearRect(0,0,1,1);let a;try{pa.drawImage(t,n,s,1,1,0,0,1,1),a=pa.getImageData(0,0,1,1).data}catch{return pa=null,null}return a}getBackground(t){let s=this.getLayer().getBackground();return typeof s=="function"&&(s=s(t.viewState.resolution)),s||void 0}useContainer(t,n,s){const a=this.getLayer().getClassName();let o,c;if(t&&t.className===a&&(!s||t&&t.style.backgroundColor&&Ns(Da(t.style.backgroundColor),Da(s)))){const h=t.firstElementChild;h instanceof HTMLCanvasElement&&(c=h.getContext("2d"))}if(c&&WS(c.canvas.style.transform,n)?(this.container=t,this.context=c,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){o=document.createElement("div"),o.className=a;let h=o.style;h.position="absolute",h.width="100%",h.height="100%",c=xe();const d=c.canvas;o.appendChild(d),h=d.style,h.position="absolute",h.left="0",h.transformOrigin="top left",this.container=o,this.context=c}!this.containerReused&&s&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=s)}clipUnrotated(t,n,s){const a=yr(s),o=_c(s),c=mc(s),h=gc(s);Oe(n.coordinateToPixelTransform,a),Oe(n.coordinateToPixelTransform,o),Oe(n.coordinateToPixelTransform,c),Oe(n.coordinateToPixelTransform,h);const d=this.inversePixelTransform;Oe(d,a),Oe(d,o),Oe(d,c),Oe(d,h),t.save(),t.beginPath(),t.moveTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(c[0]),Math.round(c[1])),t.lineTo(Math.round(h[0]),Math.round(h[1])),t.clip()}prepareContainer(t,n){const s=t.extent,a=t.viewState.resolution,o=t.viewState.rotation,c=t.pixelRatio,h=Math.round(Pt(s)/a*c),d=Math.round(Qe(s)/a*c);Xi(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/c,1/c,o,-h/2,-d/2),Pp(this.inversePixelTransform,this.pixelTransform);const m=qS(this.pixelTransform);if(this.useContainer(n,m,this.getBackground(t)),!this.containerReused){const _=this.context.canvas;_.width!=h||_.height!=d?(_.width=h,_.height=d):this.context.clearRect(0,0,h,d),m!==_.style.transform&&(_.style.transform=m)}}dispatchRenderEvent_(t,n,s){const a=this.getLayer();if(a.hasListener(t)){const o=new E2(t,this.inversePixelTransform,s,n);a.dispatchEvent(o)}}preRender(t,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(Un.PRERENDER,t,n)}postRender(t,n){n.declutter||this.dispatchRenderEvent_(Un.POSTRENDER,t,n)}renderDeferredInternal(t){}getRenderContext(t){return t.declutter&&!this.deferredContext_&&(this.deferredContext_=new R2),t.declutter?this.deferredContext_.getContext():this.context}renderDeferred(t){t.declutter&&(this.dispatchRenderEvent_(Un.PRERENDER,this.context,t),t.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(t),this.dispatchRenderEvent_(Un.POSTRENDER,this.context,t))}getRenderTransform(t,n,s,a,o,c,h){const d=o/2,m=c/2,_=a/n,y=-_,v=-t[0]+h,S=-t[1];return Xi(this.tempTransform,d,m,_,y,-s,v,S)}disposeInternal(){delete this.frameState,super.disposeInternal()}}function yd(r,t,n,s,a){return`${Gt(r)},${t},${OR(n,s,a)}`}function pd(r,t,n){if(!(n in r))return r[n]=new Set([t]),!0;const s=r[n],a=s.has(t);return a||s.add(t),!a}function GR(r,t,n){const s=r[n];return s?s.delete(t):!1}function Hy(r,t){const n=r.layerStatesArray[r.layerIndex];n.extent&&(t=hr(t,ws(n.extent,r.viewState.projection)));const s=n.layer.getRenderSource();if(!s.getWrapX()){const a=s.getTileGridForProjection(r.viewState.projection).getExtent();a&&(t=hr(t,a))}return t}class kR extends b2{constructor(t,n){super(t),n=n||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=Yn(),this.tempTileRange_=new Xg(0,0,0,0),this.tempTileCoord_=nc(0,0,0);const s=n.cacheSize!==void 0?n.cacheSize:512;this.tileCache_=new MR(s),this.maxStaleKeys=s*.5}getTileCache(){return this.tileCache_}getOrCreateTile(t,n,s,a){const o=this.tileCache_,h=this.getLayer().getSource(),d=yd(h,h.getKey(),t,n,s);let m;if(o.containsKey(d))m=o.get(d);else{if(m=h.getTile(t,n,s,a.pixelRatio,a.viewState.projection),!m)return null;o.set(d,m)}return m}getTile(t,n,s,a){const o=this.getOrCreateTile(t,n,s,a);return o||null}getData(t){const n=this.frameState;if(!n)return null;const s=this.getLayer(),a=Oe(n.pixelToCoordinateTransform,t.slice()),o=s.getExtent();if(o&&!Ma(o,a))return null;const c=n.viewState,h=s.getRenderSource(),d=h.getTileGridForProjection(c.projection),m=h.getTilePixelRatio(n.pixelRatio);for(let _=d.getZForResolution(c.resolution);_>=d.getMinZoom();--_){const y=d.getTileCoordForCoordAndZ(a,_),v=this.getTile(_,y[1],y[2],n);if(!v||v.getState()!==gt.LOADED)continue;const S=d.getOrigin(_),T=dn(d.getTileSize(_)),b=d.getResolution(_);let C;if(v instanceof T2||v instanceof C2)C=v.getImage();else if(v instanceof Fy){if(C=Zd(v.getData()),!C)continue}else continue;const A=Math.floor(m*((a[0]-S[0])/b-y[1]*T[0])),L=Math.floor(m*((S[1]-a[1])/b-y[2]*T[1])),z=Math.round(m*h.getGutterForProjection(c.projection));return this.getImageData(C,A+z,L+z)}return null}prepareFrame(t){this.renderedProjection?t.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=t.viewState.projection):this.renderedProjection=t.viewState.projection;const n=this.getLayer().getSource();if(!n)return!1;const s=n.getRevision();return this.renderedSourceRevision_?this.renderedSourceRevision_!==s&&(this.renderedSourceRevision_=s,this.renderedSourceKey_===n.getKey()&&this.tileCache_.clear()):this.renderedSourceRevision_=s,!0}enqueueTiles(t,n,s,a,o){const c=t.viewState,h=this.getLayer(),d=h.getRenderSource(),m=d.getTileGridForProjection(c.projection),_=Gt(d);_ in t.wantedTiles||(t.wantedTiles[_]={});const y=t.wantedTiles[_],v=h.getMapInternal(),S=Math.max(s-o,m.getMinZoom(),m.getZForResolution(Math.min(h.getMaxResolution(),v?v.getView().getResolutionForZoom(Math.max(h.getMinZoom(),0)):m.getResolution(0)),d.zDirection)),T=c.rotation,b=T?Lp(c.center,c.resolution,T,t.size):void 0;for(let C=s;C>=S;--C){const A=m.getTileRangeForExtentAndZ(n,C,this.tempTileRange_),L=m.getResolution(C);for(let z=A.minX;z<=A.maxX;++z)for(let N=A.minY;N<=A.maxY;++N){if(T&&!m.tileCoordIntersectsViewport([C,z,N],b))continue;const M=this.getTile(C,z,N,t);if(!M||!pd(a,M,C))continue;const W=M.getKey();if(y[W]=!0,M.getState()===gt.IDLE&&!t.tileQueue.isKeyQueued(W)){const q=nc(C,z,N,this.tempTileCoord_);t.tileQueue.enqueue([M,_,m.getTileCoordCenter(q),L])}}}}findStaleTile_(t,n){const s=this.tileCache_,a=t[0],o=t[1],c=t[2],h=this.getStaleKeys();for(let d=0;d<h.length;++d){const m=yd(this.getLayer().getSource(),h[d],a,o,c);if(s.containsKey(m)){const _=s.peek(m);if(_.getState()===gt.LOADED)return _.endTransition(Gt(this)),pd(n,_,a),!0}}return!1}findAltTiles_(t,n,s,a){const o=t.getTileRangeForTileCoordAndZ(n,s,this.tempTileRange_);if(!o)return!1;let c=!0;const h=this.tileCache_,d=this.getLayer().getRenderSource(),m=d.getKey();for(let _=o.minX;_<=o.maxX;++_)for(let y=o.minY;y<=o.maxY;++y){const v=yd(d,m,s,_,y);let S=!1;if(h.containsKey(v)){const T=h.peek(v);T.getState()===gt.LOADED&&(pd(a,T,s),S=!0)}S||(c=!1)}return c}renderFrame(t,n){this.renderComplete=!0;const s=t.layerStatesArray[t.layerIndex],a=t.viewState,o=a.projection,c=a.resolution,h=a.center,d=t.pixelRatio,m=this.getLayer(),_=m.getSource(),y=_.getTileGridForProjection(o),v=y.getZForResolution(c,_.zDirection),S=y.getResolution(v),T=_.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==T&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=T):this.renderedSourceKey_=T;let b=t.extent;const C=_.getTilePixelRatio(d);this.prepareContainer(t,n);const A=this.context.canvas.width,L=this.context.canvas.height,z=s.extent&&ws(s.extent);z&&(b=hr(b,ws(s.extent)));const N=S*A/2/C,M=S*L/2/C,Y=[h[0]-N,h[1]-M,h[0]+N,h[1]+M],W={};this.renderedTiles.length=0;const q=m.getPreload();if(t.nextExtent){const Z=y.getZForResolution(a.nextResolution,_.zDirection),ot=Hy(t,t.nextExtent);this.enqueueTiles(t,ot,Z,W,q)}const et=Hy(t,b);if(this.enqueueTiles(t,et,v,W,0),q>0&&setTimeout(()=>{this.enqueueTiles(t,et,v-1,W,q-1)},0),!(v in W))return this.container;const it=Gt(this),lt=t.time;for(const Z of W[v]){const ot=Z.getState();if(ot===gt.EMPTY)continue;const R=Z.tileCoord;if(ot===gt.LOADED&&Z.getAlpha(it,lt)===1){Z.endTransition(it);continue}if(ot!==gt.ERROR&&(this.renderComplete=!1),this.findStaleTile_(R,W)){GR(W,Z,v),t.animate=!0;continue}if(this.findAltTiles_(y,R,v+1,W))continue;const nt=y.getMinZoom();for(let rt=v-1;rt>=nt&&!this.findAltTiles_(y,R,rt,W);--rt);}const H=S/c*d/C,st=this.getRenderContext(t);Xi(this.tempTransform,A/2,L/2,H,H,0,-A/2,-L/2),s.extent&&this.clipUnrotated(st,t,z),_.getInterpolate()||(st.imageSmoothingEnabled=!1),this.preRender(st,t);const tt=Object.keys(W).map(Number);tt.sort(ki);let at;const O=[],P=[];for(let Z=tt.length-1;Z>=0;--Z){const ot=tt[Z],R=_.getTilePixelSize(ot,d,o),G=y.getResolution(ot)/S,nt=R[0]*G*H,rt=R[1]*G*H,ht=y.getTileCoordForCoordAndZ(yr(Y),ot),ct=y.getTileCoordExtent(ht),Dt=Oe(this.tempTransform,[C*(ct[0]-Y[0])/S,C*(Y[3]-ct[3])/S]),Ct=C*_.getGutterForProjection(o);for(const Wt of W[ot]){if(Wt.getState()!==gt.LOADED)continue;const ee=Wt.tileCoord,$e=ht[1]-ee[1],Je=Math.round(Dt[0]-($e-1)*nt),Ve=ht[2]-ee[2],Te=Math.round(Dt[1]-(Ve-1)*rt),Rt=Math.round(Dt[0]-$e*nt),De=Math.round(Dt[1]-Ve*rt),ie=Je-Rt,si=Te-De,ri=tt.length===1;let An=!1;at=[Rt,De,Rt+ie,De,Rt+ie,De+si,Rt,De+si];for(let _n=0,ai=O.length;_n<ai;++_n)if(!ri&&ot<P[_n]){const se=O[_n];cn([Rt,De,Rt+ie,De+si],[se[0],se[3],se[4],se[7]])&&(An||(st.save(),An=!0),st.beginPath(),st.moveTo(at[0],at[1]),st.lineTo(at[2],at[3]),st.lineTo(at[4],at[5]),st.lineTo(at[6],at[7]),st.moveTo(se[6],se[7]),st.lineTo(se[4],se[5]),st.lineTo(se[2],se[3]),st.lineTo(se[0],se[1]),st.clip())}O.push(at),P.push(ot),this.drawTile(Wt,t,Rt,De,ie,si,Ct,ri),An&&st.restore(),this.renderedTiles.unshift(Wt),this.updateUsedTiles(t.usedTiles,_,Wt)}}if(this.renderedResolution=S,this.extentChanged=!this.renderedExtent_||!$l(this.renderedExtent_,Y),this.renderedExtent_=Y,this.renderedPixelRatio=d,this.postRender(this.context,t),s.extent&&st.restore(),st.imageSmoothingEnabled=!0,this.renderComplete){const Z=(ot,R)=>{const X=Gt(_),G=R.wantedTiles[X],nt=G?Object.keys(G).length:0;this.updateCacheSize(nt),this.tileCache_.expireCache()};t.postRenderFunctions.push(Z)}return this.container}updateCacheSize(t){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,t*2)}drawTile(t,n,s,a,o,c,h,d){let m;if(t instanceof Fy){if(m=Zd(t.getData()),!m)throw new Error("Rendering array data is not yet supported")}else m=this.getTileImage(t);if(!m)return;const _=this.getRenderContext(n),y=Gt(this),v=n.layerStatesArray[n.layerIndex],S=v.opacity*(d?t.getAlpha(y,n.time):1),T=S!==_.globalAlpha;T&&(_.save(),_.globalAlpha=S),_.drawImage(m,h,h,m.width-2*h,m.height-2*h,s,a,o,c),T&&_.restore(),S!==v.opacity?n.animate=!0:d&&t.endTransition(y)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}updateUsedTiles(t,n,s){const a=Gt(n);a in t||(t[a]={}),t[a][s.getKey()]=!0}}const Uu={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class FR extends Cc{constructor(t){t=t||{};const n=Object.assign({},t),s=t.cacheSize;delete t.cacheSize,delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.cacheSize_=s,this.setPreload(t.preload!==void 0?t.preload:0),this.setUseInterimTilesOnError(t.useInterimTilesOnError!==void 0?t.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(Uu.PRELOAD)}setPreload(t){this.set(Uu.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(Uu.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(Uu.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}}class Yg extends FR{constructor(t){super(t)}createRenderer(){return new kR(this,{cacheSize:this.getCacheSize()})}}const ca=[0,0,0],Es=5;class w2{constructor(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,Bt(Zx(this.resolutions_,(a,o)=>o-a),"`resolutions` must be sorted in descending order");let n;if(!t.origins){for(let a=0,o=this.resolutions_.length-1;a<o;++a)if(!n)n=this.resolutions_[a]/this.resolutions_[a+1];else if(this.resolutions_[a]/this.resolutions_[a+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,Bt(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const s=t.extent;s!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=yr(s)),Bt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,Bt(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:bg,Bt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=s!==void 0?s:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map((a,o)=>{const c=new Xg(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1));if(s){const h=this.getTileRangeForExtentAndZ(s,o);c.minX=Math.max(h.minX,c.minX),c.maxX=Math.min(h.maxX,c.maxX),c.minY=Math.max(h.minY,c.minY),c.maxY=Math.min(h.maxY,c.maxY)}return c}):s&&this.calculateTileRanges_(s)}forEachTileCoord(t,n,s){const a=this.getTileRangeForExtentAndZ(t,n);for(let o=a.minX,c=a.maxX;o<=c;++o)for(let h=a.minY,d=a.maxY;h<=d;++h)s([n,o,h])}forEachTileCoordParentTileRange(t,n,s,a){let o,c,h,d=null,m=t[0]-1;for(this.zoomFactor_===2?(c=t[1],h=t[2]):d=this.getTileCoordExtent(t,a);m>=this.minZoom;){if(c!==void 0&&h!==void 0?(c=Math.floor(c/2),h=Math.floor(h/2),o=ua(c,c,h,h,s)):o=this.getTileRangeForExtentAndZ(d,m,s),n(m,o))return!0;--m}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,n,s){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){const o=t[1]*2,c=t[2]*2;return ua(o,o+1,c,c+1,n)}const a=this.getTileCoordExtent(t,s||this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,t[0]+1,n)}return null}getTileRangeForTileCoordAndZ(t,n,s){if(n>this.maxZoom||n<this.minZoom)return null;const a=t[0],o=t[1],c=t[2];if(n===a)return ua(o,c,o,c,s);if(this.zoomFactor_){const d=Math.pow(this.zoomFactor_,n-a),m=Math.floor(o*d),_=Math.floor(c*d);if(n<a)return ua(m,m,_,_,s);const y=Math.floor(d*(o+1))-1,v=Math.floor(d*(c+1))-1;return ua(m,y,_,v,s)}const h=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(h,n,s)}getTileRangeForExtentAndZ(t,n,s){this.getTileCoordForXYAndZ_(t[0],t[3],n,!1,ca);const a=ca[1],o=ca[2];this.getTileCoordForXYAndZ_(t[2],t[1],n,!0,ca);const c=ca[1],h=ca[2];return ua(a,c,o,h,s)}getTileCoordCenter(t){const n=this.getOrigin(t[0]),s=this.getResolution(t[0]),a=dn(this.getTileSize(t[0]),this.tmpSize_);return[n[0]+(t[1]+.5)*a[0]*s,n[1]-(t[2]+.5)*a[1]*s]}getTileCoordExtent(t,n){const s=this.getOrigin(t[0]),a=this.getResolution(t[0]),o=dn(this.getTileSize(t[0]),this.tmpSize_),c=s[0]+t[1]*o[0]*a,h=s[1]-(t[2]+1)*o[1]*a,d=c+o[0]*a,m=h+o[1]*a;return Ds(c,h,d,m,n)}getTileCoordForCoordAndResolution(t,n,s){return this.getTileCoordForXYAndResolution_(t[0],t[1],n,!1,s)}getTileCoordForXYAndResolution_(t,n,s,a,o){const c=this.getZForResolution(s),h=s/this.getResolution(c),d=this.getOrigin(c),m=dn(this.getTileSize(c),this.tmpSize_);let _=h*(t-d[0])/s/m[0],y=h*(d[1]-n)/s/m[1];return a?(_=Lu(_,Es)-1,y=Lu(y,Es)-1):(_=Du(_,Es),y=Du(y,Es)),nc(c,_,y,o)}getTileCoordForXYAndZ_(t,n,s,a,o){const c=this.getOrigin(s),h=this.getResolution(s),d=dn(this.getTileSize(s),this.tmpSize_);let m=(t-c[0])/h/d[0],_=(c[1]-n)/h/d[1];return a?(m=Lu(m,Es)-1,_=Lu(_,Es)-1):(m=Du(m,Es),_=Du(_,Es)),nc(s,m,_,o)}getTileCoordForCoordAndZ(t,n,s){return this.getTileCoordForXYAndZ_(t[0],t[1],n,!1,s)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,n){const s=ig(this.resolutions_,t,n||0);return le(s,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,n){return Qp(n,0,n.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const n=this.resolutions_.length,s=new Array(n);for(let a=this.minZoom;a<n;++a)s[a]=this.getTileRangeForExtentAndZ(t,a);this.fullTileRanges_=s}}function A2(r){let t=r.getDefaultTileGrid();return t||(t=YR(r),r.setDefaultTileGrid(t)),t}function UR(r,t,n){const s=t[0],a=r.getTileCoordCenter(t),o=Hg(n);if(!Ma(o,a)){const c=Pt(o),h=Math.ceil((o[0]-a[0])/c);return a[0]+=c*h,r.getTileCoordForCoordAndZ(a,s)}return t}function BR(r,t,n,s){s=s!==void 0?s:"top-left";const a=M2(r,t,n);return new w2({extent:r,origin:uS(r,s),resolutions:a,tileSize:n})}function XR(r){const t=r||{},n=t.extent||mn("EPSG:3857").getExtent(),s={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:M2(n,t.maxZoom,t.tileSize,t.maxResolution)};return new w2(s)}function M2(r,t,n,s){t=t!==void 0?t:ET,n=dn(n!==void 0?n:bg);const a=Qe(r),o=Pt(r);s=s>0?s:Math.max(o/n[0],a/n[1]);const c=t+1,h=new Array(c);for(let d=0;d<c;++d)h[d]=s/Math.pow(2,d);return h}function YR(r,t,n,s){const a=Hg(r);return BR(a,t,n,s)}function Hg(r){r=mn(r);let t=r.getExtent();if(!t){const n=180*ug.degrees/r.getMetersPerUnit();t=Ds(-n,-n,n,n)}return t}const HR=/\{z\}/g,PR=/\{x\}/g,VR=/\{y\}/g,ZR=/\{-y\}/g;function KR(r,t,n,s,a){return r.replace(HR,t.toString()).replace(PR,n.toString()).replace(VR,s.toString()).replace(ZR,function(){if(a===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(a-s).toString()})}function qR(r){const t=[];let n=/\{([a-z])-([a-z])\}/.exec(r);if(n){const s=n[1].charCodeAt(0),a=n[2].charCodeAt(0);let o;for(o=s;o<=a;++o)t.push(r.replace(n[0],String.fromCharCode(o)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(r),n){const s=parseInt(n[2],10);for(let a=parseInt(n[1],10);a<=s;a++)t.push(r.replace(n[0],a.toString()));return t}return t.push(r),t}function WR(r,t){return(function(n,s,a){if(!n)return;let o;const c=n[0];if(t){const h=t.getFullTileRange(c);h&&(o=h.getHeight()-1)}return KR(r,c,n[1],n[2],o)})}function QR(r,t){const n=r.length,s=new Array(n);for(let a=0;a<n;++a)s[a]=WR(r[a],t);return $R(s)}function $R(r){return r.length===1?r[0]:(function(t,n,s){if(!t)return;const a=DR(t),o=Ta(a,r.length);return r[o](t,n,s)})}class O2 extends ni{constructor(t){super(),this.projection=mn(t.projection),this.attributions_=Py(t.attributions),this.attributionsCollapsible_=t.attributionsCollapsible??!0,this.loading=!1,this.state_=t.state!==void 0?t.state:"ready",this.wrapX_=t.wrapX!==void 0?t.wrapX:!1,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(s,a){n.viewResolver=s,n.viewRejector=a})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=Py(t),this.changed()}setState(t){this.state_=t,this.changed()}}function Py(r){return r?typeof r=="function"?r:(Array.isArray(r)||(r=[r]),t=>r):null}class JR extends O2{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,this.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;const n=[256,256];this.tileGrid&&dn(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tmpSize=[0,0],this.key_=t.key||Gt(this),this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getResolutions(t){const n=t?this.getTileGridForProjection(t):this.tileGrid;return n?n.getResolutions():null}getTile(t,n,s,a,o){return jt()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:A2(t)}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,n,s){const a=this.getTileGridForProjection(s),o=this.getTilePixelRatio(n),c=dn(a.getTileSize(t),this.tmpSize);return o==1?c:_C(c,o,this.tmpSize)}getTileCoordForTileUrlFunction(t,n){const s=n!==void 0?n:this.getProjection(),a=n!==void 0?this.getTileGridForProjection(s):this.tileGrid||this.getTileGridForProjection(s);return this.getWrapX()&&s.isGlobal()&&(t=UR(a,t,s)),NR(t,a)?t:null}clear(){}refresh(){this.clear(),super.refresh()}}class tb extends Hi{constructor(t,n){super(t),this.tile=n}}const vd={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class Pg extends JR{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Pg.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const n=t.target,s=Gt(n),a=n.getState();let o;a==gt.LOADING?(this.tileLoadingKeys_[s]=!0,o=vd.TILELOADSTART):s in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[s],o=a==gt.ERROR?vd.TILELOADERROR:a==gt.LOADED?vd.TILELOADEND:void 0),o!=null&&this.dispatchEvent(new tb(o,n))}setTileLoadFunction(t){this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,n){this.tileUrlFunction=t,typeof n<"u"?this.setKey(n):this.changed()}setUrl(t){const n=qR(t);this.urls=n,this.setUrls(n)}setUrls(t){this.urls=t;const n=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(QR(t,this.tileGrid),n):this.setKey(n)}tileUrlFunction(t,n,s){}}class eb extends Pg{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:nb,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate!==void 0?t.interpolate:!0,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,this.tileClass=t.tileClass!==void 0?t.tileClass:T2,this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(t){return this.getProjection()&&t&&!Qf(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getTileGridForProjection(t){const n=this.getProjection();if(this.tileGrid&&(!n||Qf(n,t)))return this.tileGrid;const s=Gt(t);return s in this.tileGridForProjection||(this.tileGridForProjection[s]=A2(t)),this.tileGridForProjection[s]}createTile_(t,n,s,a,o,c){const h=[t,n,s],d=this.getTileCoordForTileUrlFunction(h,o),m=d?this.tileUrlFunction(d,a,o):void 0,_=new this.tileClass(h,m!==void 0?gt.IDLE:gt.EMPTY,m!==void 0?m:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return _.key=c,_.addEventListener(St.CHANGE,this.handleTileChange.bind(this)),_}getTile(t,n,s,a,o){const c=this.getProjection();if(!c||!o||Qf(c,o))return this.getTileInternal(t,n,s,a,c||o);const h=[t,n,s],d=this.getKey(),m=this.getTileGridForProjection(c),_=this.getTileGridForProjection(o),y=this.getTileCoordForTileUrlFunction(h,o),v=new C2(c,m,o,_,h,y,this.getTilePixelRatio(a),this.getGutter(),(S,T,b,C)=>this.getTileInternal(S,T,b,C,c),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return v.key=d,v}getTileInternal(t,n,s,a,o){const c=this.getKey();return this.createTile_(t,n,s,a,o,c)}setRenderReprojectionEdges(t){this.renderReprojectionEdges_!=t&&(this.renderReprojectionEdges_=t,this.changed())}setTileGridForProjection(t,n){const s=mn(t);if(s){const a=Gt(s);a in this.tileGridForProjection||(this.tileGridForProjection[a]=n)}}}function nb(r,t){r.getImage().src=t}class ib extends eb{constructor(t){t=t||{};const n=t.projection!==void 0?t.projection:"EPSG:3857",s=t.tileGrid!==void 0?t.tileGrid:XR({extent:Hg(n),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:n,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:s,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=t.gutter!==void 0?t.gutter:0}getGutter(){return this.gutter_}}const sb='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class Vg extends ib{constructor(t){t=t||{};let n;t.attributions!==void 0?n=t.attributions:n=[sb];const s=t.crossOrigin!==void 0?t.crossOrigin:"anonymous",a=t.url!==void 0?t.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:t.cacheSize,crossOrigin:s,interpolate:t.interpolate,maxZoom:t.maxZoom!==void 0?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:a,wrapX:t.wrapX,zDirection:t.zDirection})}}const Xe={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class rb extends ni{constructor(t){super(),this.on,this.once,this.un,this.options=t,this.id=t.id,this.insertFirst=t.insertFirst!==void 0?t.insertFirst:!0,this.stopEvent=t.stopEvent!==void 0?t.stopEvent:!0,this.element=document.createElement("div"),this.element.className=t.className!==void 0?t.className:"ol-overlay-container "+RT,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=t.autoPan===!0?{}:t.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(Xe.ELEMENT,this.handleElementChanged),this.addChangeListener(Xe.MAP,this.handleMapChanged),this.addChangeListener(Xe.OFFSET,this.handleOffsetChanged),this.addChangeListener(Xe.POSITION,this.handlePositionChanged),this.addChangeListener(Xe.POSITIONING,this.handlePositioningChanged),t.element!==void 0&&this.setElement(t.element),this.setOffset(t.offset!==void 0?t.offset:[0,0]),this.setPositioning(t.positioning||"top-left"),t.position!==void 0&&this.setPosition(t.position)}getElement(){return this.get(Xe.ELEMENT)}getId(){return this.id}getMap(){return this.get(Xe.MAP)||null}getOffset(){return this.get(Xe.OFFSET)}getPosition(){return this.get(Xe.POSITION)}getPositioning(){return this.get(Xe.POSITIONING)}handleElementChanged(){$p(this.element);const t=this.getElement();t&&this.element.appendChild(t)}handleMapChanged(){this.mapPostrenderListenerKey&&(this.element?.remove(),te(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const t=this.getMap();if(t){this.mapPostrenderListenerKey=It(t,ji.POSTRENDER,this.render,this),this.updatePixelPosition();const n=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?n.insertBefore(this.element,n.childNodes[0]||null):n.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(t){this.set(Xe.ELEMENT,t)}setMap(t){this.set(Xe.MAP,t)}setOffset(t){this.set(Xe.OFFSET,t)}setPosition(t){this.set(Xe.POSITION,t)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(t){const n=this.getMap();if(!n||!n.getTargetElement()||!this.get(Xe.POSITION))return;const s=this.getRect(n.getTargetElement(),n.getSize()),a=this.getElement(),o=this.getRect(a,[wT(a),AT(a)]);t=t||{};const c=t.margin===void 0?20:t.margin;if(!va(s,o)){const h=o[0]-s[0],d=s[2]-o[2],m=o[1]-s[1],_=s[3]-o[3],y=[0,0];if(h<0?y[0]=h-c:d<0&&(y[0]=Math.abs(d)+c),m<0?y[1]=m-c:_<0&&(y[1]=Math.abs(_)+c),y[0]!==0||y[1]!==0){const v=n.getView().getCenterInternal(),S=n.getPixelFromCoordinateInternal(v);if(!S)return;const T=[S[0]+y[0],S[1]+y[1]],b=t.animation||{};n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(T),duration:b.duration,easing:b.easing})}}}getRect(t,n){const s=t.getBoundingClientRect(),a=s.left+window.pageXOffset,o=s.top+window.pageYOffset;return[a,o,a+n[0],o+n[1]]}setPositioning(t){this.set(Xe.POSITIONING,t)}setVisible(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)}updatePixelPosition(){const t=this.getMap(),n=this.getPosition();if(!t||!t.isRendered()||!n){this.setVisible(!1);return}const s=t.getPixelFromCoordinate(n),a=t.getSize();this.updateRenderedPosition(s,a)}updateRenderedPosition(t,n){const s=this.element.style,a=this.getOffset(),o=this.getPositioning();this.setVisible(!0);const c=`${t[0]+a[0]}px`,h=`${t[1]+a[1]}px`;let d="0%",m="0%";o=="bottom-right"||o=="center-right"||o=="top-right"?d="-100%":(o=="bottom-center"||o=="center-center"||o=="top-center")&&(d="-50%"),o=="bottom-left"||o=="bottom-center"||o=="bottom-right"?m="-100%":(o=="center-left"||o=="center-center"||o=="center-right")&&(m="-50%");const _=`translate(${d}, ${m}) translate(${c}, ${h})`;this.rendered.transform_!=_&&(this.rendered.transform_=_,s.transform=_)}getOptions(){return this.options}}class Bi extends ni{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){const n=t;this.setGeometry(n)}else{const n=t;this.setProperties(n)}}clone(){const t=new Bi(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&t.setGeometry(n.clone());const s=this.getStyle();return s&&t.setStyle(s),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(te(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=It(t,St.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?ab(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function ab(r){if(typeof r=="function")return r;let t;return Array.isArray(r)?t=r:(Bt(typeof r.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[r]),function(){return t}}function Kd(r,t,n,s,a,o,c){let h,d;const m=(n-t)/s;if(m===1)h=t;else if(m===2)h=t,d=a;else if(m!==0){let _=r[t],y=r[t+1],v=0;const S=[0];for(let C=t+s;C<n;C+=s){const A=r[C],L=r[C+1];v+=Math.sqrt((A-_)*(A-_)+(L-y)*(L-y)),S.push(v),_=A,y=L}const T=a*v,b=Hx(S,T);b<0?(d=(T-S[-b-2])/(S[-b-1]-S[-b-2]),h=t+(-b-2)*s):h=t+b*s}c=c>1?c:2,o=o||new Array(c);for(let _=0;_<c;++_)o[_]=h===void 0?NaN:d===void 0?r[h+_]:wn(r[h+_],r[h+s+_],d);return o}function lb(r,t,n,s,a,o){if(n==t)return null;let c;if(a<r[t+s-1])return o?(c=r.slice(t,t+s),c[s-1]=a,c):null;if(r[n-1]<a)return o?(c=r.slice(n-s,n),c[s-1]=a,c):null;if(a==r[t+s-1])return r.slice(t,t+s);let h=t/s,d=n/s;for(;h<d;){const v=h+d>>1;a<r[(v+1)*s-1]?d=v:h=v+1}const m=r[h*s-1];if(a==m)return r.slice((h-1)*s,(h-1)*s+s);const _=r[(h+1)*s-1],y=(a-m)/(_-m);c=[];for(let v=0;v<s-1;++v)c.push(wn(r[(h-1)*s+v],r[h*s+v],y));return c.push(a),c}function D2(r,t,n,s){let a=r[t],o=r[t+1],c=0;for(let h=t+s;h<n;h+=s){const d=r[h],m=r[h+1];c+=Math.sqrt((d-a)*(d-a)+(m-o)*(m-o)),a=d,o=m}return c}class Ia extends Ec{constructor(t,n){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}appendCoordinate(t){uc(this.flatCoordinates,t),this.changed()}clone(){const t=new Ia(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,s,a){return a<ag(this.getExtent(),t,n)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(yg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),pg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,n,s,a))}forEachSegment(t){return Wp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinateAtM(t,n){return this.layout!="XYM"&&this.layout!="XYZM"?null:(n=n!==void 0?n:!1,lb(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n))}getCoordinates(){return lr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(t,n){return Kd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,this.stride)}getLength(){return D2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(t){const n=[];return n.length=xc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new Ia(n,"XY")}getType(){return"LineString"}intersectsExtent(t){return xg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,this.getExtent())}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=vg(this.flatCoordinates,0,t,this.stride),this.changed()}}class L2{drawCustom(t,n,s,a,o){}drawGeometry(t){}setStyle(t){}drawCircle(t,n,s){}drawFeature(t,n,s){}drawGeometryCollection(t,n,s){}drawLineString(t,n,s){}drawMultiLineString(t,n,s){}drawMultiPoint(t,n,s){}drawMultiPolygon(t,n,s){}drawPoint(t,n,s){}drawPolygon(t,n,s){}drawText(t,n,s){}setFillStrokeStyle(t,n){}setImageStyle(t,n){}setTextStyle(t,n){}}class ob extends L2{constructor(t,n,s,a,o,c,h){super(),this.context_=t,this.pixelRatio_=n,this.extent_=s,this.transform_=a,this.transformRotation_=a?fc(Math.atan2(a[1],a[0]),10):0,this.viewRotation_=o,this.squaredTolerance_=c,this.userTransform_=h,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Jn()}drawImages_(t,n,s,a){if(!this.image_)return;const o=Os(t,n,s,a,this.transform_,this.pixelCoordinates_),c=this.context_,h=this.tmpLocalTransform_,d=c.globalAlpha;this.imageOpacity_!=1&&(c.globalAlpha=d*this.imageOpacity_);let m=this.imageRotation_;this.transformRotation_===0&&(m-=this.viewRotation_),this.imageRotateWithView_&&(m+=this.viewRotation_);for(let _=0,y=o.length;_<y;_+=2){const v=o[_]-this.imageAnchorX_,S=o[_+1]-this.imageAnchorY_;if(m!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const T=v+this.imageAnchorX_,b=S+this.imageAnchorY_;Xi(h,T,b,1,1,m,-T,-b),c.save(),c.transform.apply(c,h),c.translate(T,b),c.scale(this.imageScale_[0],this.imageScale_[1]),c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),c.restore()}else c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,v,S,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(c.globalAlpha=d)}drawText_(t,n,s,a){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const o=Os(t,n,s,a,this.transform_,this.pixelCoordinates_),c=this.context_;let h=this.textRotation_;for(this.transformRotation_===0&&(h-=this.viewRotation_),this.textRotateWithView_&&(h+=this.viewRotation_);n<s;n+=a){const d=o[n]+this.textOffsetX_,m=o[n+1]+this.textOffsetY_;h!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(c.save(),c.translate(d-this.textOffsetX_,m-this.textOffsetY_),c.rotate(h),c.translate(this.textOffsetX_,this.textOffsetY_),c.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&c.strokeText(this.text_,0,0),this.textFillState_&&c.fillText(this.text_,0,0),c.restore()):(this.textStrokeState_&&c.strokeText(this.text_,d,m),this.textFillState_&&c.fillText(this.text_,d,m))}}moveToLineTo_(t,n,s,a,o){const c=this.context_,h=Os(t,n,s,a,this.transform_,this.pixelCoordinates_);c.moveTo(h[0],h[1]);let d=h.length;o&&(d-=2);for(let m=2;m<d;m+=2)c.lineTo(h[m],h[m+1]);return o&&c.closePath(),s}drawRings_(t,n,s,a){for(let o=0,c=s.length;o<c;++o)n=this.moveToLineTo_(t,n,s[o],a,!0);return n}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!cn(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=nT(t,this.transform_,this.pixelCoordinates_),s=n[2]-n[0],a=n[3]-n[1],o=Math.sqrt(s*s+a*a),c=this.context_;c.beginPath(),c.arc(n[0],n[1],o,0,2*Math.PI),this.fillState_&&c.fill(),this.strokeState_&&c.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break}}drawFeature(t,n){const s=n.getGeometryFunction()(t);s&&(this.setStyle(n),this.drawGeometry(s))}drawGeometryCollection(t){const n=t.getGeometriesArray();for(let s=0,a=n.length;s<a;++s)this.drawGeometry(n[s])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getFlatCoordinates(),s=t.getStride();this.image_&&this.drawImages_(n,0,n.length,s),this.text_!==""&&this.drawText_(n,0,n.length,s)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getFlatCoordinates(),s=t.getStride();this.image_&&this.drawImages_(n,0,n.length,s),this.text_!==""&&this.drawText_(n,0,n.length,s)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!cn(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,s=t.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(s,0,s.length,t.getStride(),!1),n.stroke()}if(this.text_!==""){const n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getExtent();if(cn(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const s=this.context_,a=t.getFlatCoordinates();let o=0;const c=t.getEnds(),h=t.getStride();s.beginPath();for(let d=0,m=c.length;d<m;++d)o=this.moveToLineTo_(a,o,c[d],h,!1);s.stroke()}if(this.text_!==""){const s=t.getFlatMidpoints();this.drawText_(s,0,s.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!cn(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!cn(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,s=t.getOrientedFlatCoordinates();let a=0;const o=t.getEndss(),c=t.getStride();n.beginPath();for(let h=0,d=o.length;h<d;++h){const m=o[h];a=this.drawRings_(s,a,m,c)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=t.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(t){const n=this.context_,s=this.contextFillState_;s?s.fillStyle!=t.fillStyle&&(s.fillStyle=t.fillStyle,n.fillStyle=t.fillStyle):(n.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const n=this.context_,s=this.contextStrokeState_;s?(s.lineCap!=t.lineCap&&(s.lineCap=t.lineCap,n.lineCap=t.lineCap),Ns(s.lineDash,t.lineDash)||n.setLineDash(s.lineDash=t.lineDash),s.lineDashOffset!=t.lineDashOffset&&(s.lineDashOffset=t.lineDashOffset,n.lineDashOffset=t.lineDashOffset),s.lineJoin!=t.lineJoin&&(s.lineJoin=t.lineJoin,n.lineJoin=t.lineJoin),s.lineWidth!=t.lineWidth&&(s.lineWidth=t.lineWidth,n.lineWidth=t.lineWidth),s.miterLimit!=t.miterLimit&&(s.miterLimit=t.miterLimit,n.miterLimit=t.miterLimit),s.strokeStyle!=t.strokeStyle&&(s.strokeStyle=t.strokeStyle,n.strokeStyle=t.strokeStyle)):(n.lineCap=t.lineCap,n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset,n.lineJoin=t.lineJoin,n.lineWidth=t.lineWidth,n.miterLimit=t.miterLimit,n.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const n=this.context_,s=this.contextTextState_,a=t.textAlign?t.textAlign:so;s?(s.font!=t.font&&(s.font=t.font,n.font=t.font),s.textAlign!=a&&(s.textAlign=a,n.textAlign=a),s.textBaseline!=t.textBaseline&&(s.textBaseline=t.textBaseline,n.textBaseline=t.textBaseline)):(n.font=t.font,n.textAlign=a,n.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:a,textBaseline:t.textBaseline})}setFillStrokeStyle(t,n){if(!t)this.fillState_=null;else{const s=t.getColor();this.fillState_={fillStyle:mi(s||un)}}if(!n)this.strokeState_=null;else{const s=n.getColor(),a=n.getLineCap(),o=n.getLineDash(),c=n.getLineDashOffset(),h=n.getLineJoin(),d=n.getWidth(),m=n.getMiterLimit(),_=o||Fi;this.strokeState_={lineCap:a!==void 0?a:La,lineDash:this.pixelRatio_===1?_:_.map(y=>y*this.pixelRatio_),lineDashOffset:(c||Ui)*this.pixelRatio_,lineJoin:h!==void 0?h:Na,lineWidth:(d!==void 0?d:ro)*this.pixelRatio_,miterLimit:m!==void 0?m:no,strokeStyle:mi(s||io)}}}setImageStyle(t){let n;if(!t||!(n=t.getSize())){this.image_=null;return}const s=t.getPixelRatio(this.pixelRatio_),a=t.getAnchor(),o=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=a[0]*s,this.imageAnchorY_=a[1]*s,this.imageHeight_=n[1]*s,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const c=t.getScaleArray();this.imageScale_=[c[0]*this.pixelRatio_/s,c[1]*this.pixelRatio_/s],this.imageWidth_=n[0]*s}setTextStyle(t){if(!t)this.text_="";else{const n=t.getFill();if(!n)this.textFillState_=null;else{const S=n.getColor();this.textFillState_={fillStyle:mi(S||un)}}const s=t.getStroke();if(!s)this.textStrokeState_=null;else{const S=s.getColor(),T=s.getLineCap(),b=s.getLineDash(),C=s.getLineDashOffset(),A=s.getLineJoin(),L=s.getWidth(),z=s.getMiterLimit();this.textStrokeState_={lineCap:T!==void 0?T:La,lineDash:b||Fi,lineDashOffset:C||Ui,lineJoin:A!==void 0?A:Na,lineWidth:L!==void 0?L:ro,miterLimit:z!==void 0?z:no,strokeStyle:mi(S||io)}}const a=t.getFont(),o=t.getOffsetX(),c=t.getOffsetY(),h=t.getRotateWithView(),d=t.getRotation(),m=t.getScaleArray(),_=t.getText(),y=t.getTextAlign(),v=t.getTextBaseline();this.textState_={font:a!==void 0?a:h2,textAlign:y!==void 0?y:so,textBaseline:v!==void 0?v:Ju},this.text_=_!==void 0?Array.isArray(_)?_.reduce((S,T,b)=>S+=b%2?" ":T,""):_:"",this.textOffsetX_=o!==void 0?this.pixelRatio_*o:0,this.textOffsetY_=c!==void 0?this.pixelRatio_*c:0,this.textRotateWithView_=h!==void 0?h:!1,this.textRotation_=d!==void 0?d:0,this.textScale_=[this.pixelRatio_*m[0],this.pixelRatio_*m[1]]}}}const ub=.5,N2={Point:yb,LineString:gb,Polygon:vb,MultiPoint:pb,MultiLineString:mb,MultiPolygon:_b,GeometryCollection:db,Circle:hb};function cb(r,t){return parseInt(Gt(r),10)-parseInt(Gt(t),10)}function Vy(r,t){const n=I2(r,t);return n*n}function I2(r,t){return ub*r/t}function hb(r,t,n,s,a){const o=n.getFill(),c=n.getStroke();if(o||c){const d=r.getBuilder(n.getZIndex(),"Circle");d.setFillStrokeStyle(o,c),d.drawCircle(t,s,a)}const h=n.getText();if(h&&h.getText()){const d=r.getBuilder(n.getZIndex(),"Text");d.setTextStyle(h),d.drawText(t,s)}}function Zy(r,t,n,s,a,o,c,h){const d=[],m=n.getImage();if(m){let v=!0;const S=m.getImageState();S==Tt.LOADED||S==Tt.ERROR?v=!1:S==Tt.IDLE&&m.load(),v&&d.push(m.ready())}const _=n.getFill();_&&_.loading()&&d.push(_.ready());const y=d.length>0;return y&&Promise.all(d).then(()=>a(null)),fb(r,t,n,s,o,c,h),y}function fb(r,t,n,s,a,o,c){const h=n.getGeometryFunction()(t);if(!h)return;const d=h.simplifyTransformed(s,a);if(n.getRenderer())z2(r,d,n,t,c);else{const _=N2[d.getType()];_(r,d,n,t,c,o)}}function z2(r,t,n,s,a){if(t.getType()=="GeometryCollection"){const c=t.getGeometries();for(let h=0,d=c.length;h<d;++h)z2(r,c[h],n,s,a);return}r.getBuilder(n.getZIndex(),"Default").drawCustom(t,s,n.getRenderer(),n.getHitDetectionRenderer(),a)}function db(r,t,n,s,a,o){const c=t.getGeometriesArray();let h,d;for(h=0,d=c.length;h<d;++h){const m=N2[c[h].getType()];m(r,c[h],n,s,a,o)}}function gb(r,t,n,s,a){const o=n.getStroke();if(o){const h=r.getBuilder(n.getZIndex(),"LineString");h.setFillStrokeStyle(null,o),h.drawLineString(t,s,a)}const c=n.getText();if(c&&c.getText()){const h=r.getBuilder(n.getZIndex(),"Text");h.setTextStyle(c),h.drawText(t,s,a)}}function mb(r,t,n,s,a){const o=n.getStroke();if(o){const h=r.getBuilder(n.getZIndex(),"LineString");h.setFillStrokeStyle(null,o),h.drawMultiLineString(t,s,a)}const c=n.getText();if(c&&c.getText()){const h=r.getBuilder(n.getZIndex(),"Text");h.setTextStyle(c),h.drawText(t,s,a)}}function _b(r,t,n,s,a){const o=n.getFill(),c=n.getStroke();if(c||o){const d=r.getBuilder(n.getZIndex(),"Polygon");d.setFillStrokeStyle(o,c),d.drawMultiPolygon(t,s,a)}const h=n.getText();if(h&&h.getText()){const d=r.getBuilder(n.getZIndex(),"Text");d.setTextStyle(h),d.drawText(t,s,a)}}function yb(r,t,n,s,a,o){const c=n.getImage(),h=n.getText(),d=h&&h.getText(),m=o&&c&&d?{}:void 0;if(c){if(c.getImageState()!=Tt.LOADED)return;const _=r.getBuilder(n.getZIndex(),"Image");_.setImageStyle(c,m),_.drawPoint(t,s,a)}if(d){const _=r.getBuilder(n.getZIndex(),"Text");_.setTextStyle(h,m),_.drawText(t,s,a)}}function pb(r,t,n,s,a,o){const c=n.getImage(),h=c&&c.getOpacity()!==0,d=n.getText(),m=d&&d.getText(),_=o&&h&&m?{}:void 0;if(h){if(c.getImageState()!=Tt.LOADED)return;const y=r.getBuilder(n.getZIndex(),"Image");y.setImageStyle(c,_),y.drawMultiPoint(t,s,a)}if(m){const y=r.getBuilder(n.getZIndex(),"Text");y.setTextStyle(d,_),y.drawText(t,s,a)}}function vb(r,t,n,s,a){const o=n.getFill(),c=n.getStroke();if(o||c){const d=r.getBuilder(n.getZIndex(),"Polygon");d.setFillStrokeStyle(o,c),d.drawPolygon(t,s,a)}const h=n.getText();if(h&&h.getText()){const d=r.getBuilder(n.getZIndex(),"Text");d.setTextStyle(h),d.drawText(t,s,a)}}let Eb=!1;function xb(r,t,n,s,a,o,c){const h=new XMLHttpRequest;h.open("GET",typeof r=="function"?r(n,s,a):r,!0),t.getType()=="arraybuffer"&&(h.responseType="arraybuffer"),h.withCredentials=Eb,h.onload=function(d){if(!h.status||h.status>=200&&h.status<300){const m=t.getType();try{let _;m=="text"||m=="json"?_=h.responseText:m=="xml"?_=h.responseXML||h.responseText:m=="arraybuffer"&&(_=h.response),_?o(t.readFeatures(_,{extent:n,featureProjection:a}),t.readProjection(_)):c()}catch{c()}}else c()},h.onerror=c,h.send()}function Ky(r,t){return function(n,s,a,o,c){xb(r,t,n,s,a,(h,d)=>{this.addFeatures(h),o!==void 0&&o(h)},()=>{this.changed(),c!==void 0&&c()})}}function Sb(r,t){return[[-1/0,-1/0,1/0,1/0]]}function Tb(r,t,n,s){const a=[];let o=Yn();for(let c=0,h=n.length;c<h;++c){const d=n[c];o=lg(r,t,d[0],s),a.push((o[0]+o[2])/2,(o[1]+o[3])/2),t=d[d.length-1]}return a}const qy=Jn();class Wn{constructor(t,n,s,a,o,c){this.styleFunction,this.extent_,this.id_=c,this.type_=t,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=s||null,this.properties_=o,this.squaredTolerance_,this.stride_=a,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?Mp(this.flatCoordinates_):lg(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=mr(this.getExtent());this.flatInteriorPoints_=Eg(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=mT(this.flatCoordinates_,this.ends_),n=Tb(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=hT(this.flatCoordinates_,0,t,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=Kd(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let n=0;const s=this.ends_;for(let a=0,o=s.length;a<o;++a){const c=s[a],h=Kd(t,n,c,2,.5);uc(this.flatMidpoints_,h),n=c}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){t=mn(t);const n=t.getExtent(),s=t.getWorldExtent();if(n&&s){const a=Qe(s)/Qe(n);Xi(qy,s[0],s[3],a,-a,0,0,0),Os(this.flatCoordinates_,0,this.flatCoordinates_.length,2,qy,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new Wn(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=Tp((t,n)=>{if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);const s=this.simplifiedGeometry_.getFlatCoordinates();let a;switch(this.type_){case"LineString":s.length=xc(s,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,s,0),a=[s.length];break;case"MultiLineString":a=[],s.length=oT(s,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,s,0,a);break;case"Polygon":a=[],s.length=Kp(s,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),s,0,a);break}return a&&(this.simplifiedGeometry_=new Wn(this.type_,s,a,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_}),this}}Wn.prototype.getFlatCoordinates=Wn.prototype.getOrientedFlatCoordinates;class Wy{constructor(t){this.rbush_=new r2(t),this.items_={}}insert(t,n){const s={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:n};this.rbush_.insert(s),this.items_[Gt(n)]=s}load(t,n){const s=new Array(n.length);for(let a=0,o=n.length;a<o;a++){const c=t[a],h=n[a],d={minX:c[0],minY:c[1],maxX:c[2],maxY:c[3],value:h};s[a]=d,this.items_[Gt(h)]=d}this.rbush_.load(s)}remove(t){const n=Gt(t),s=this.items_[n];return delete this.items_[n],this.rbush_.remove(s)!==null}update(t,n){const s=this.items_[Gt(n)],a=[s.minX,s.minY,s.maxX,s.maxY];$l(a,t)||(this.remove(n),this.insert(t,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(t){const n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(n).map(function(a){return a.value})}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,n){return this.forEach_(this.getInExtent(t),n)}forEach_(t,n){let s;for(let a=0,o=t.length;a<o;a++)if(s=n(t[a]),s)return s;return s}isEmpty(){return Aa(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const n=this.rbush_.toJSON();return Ds(n.minX,n.minY,n.maxX,n.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const n in t.items_)this.items_[n]=t.items_[n]}}const kn={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};class xs extends Hi{constructor(t,n,s){super(t),this.feature=n,this.features=s}}class Zg extends O2{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:t.wrapX!==void 0?t.wrapX:!0}),this.on,this.once,this.un,this.loader_=Ql,this.format_=t.format||null,this.overlaps_=t.overlaps===void 0?!0:t.overlaps,this.url_=t.url,t.loader!==void 0?this.loader_=t.loader:this.url_!==void 0&&(Bt(this.format_,"`format` must be set when `url` is set"),this.loader_=Ky(this.url_,this.format_)),this.strategy_=t.strategy!==void 0?t.strategy:Sb;const n=t.useSpatialIndex!==void 0?t.useSpatialIndex:!0;this.featuresRtree_=n?new Wy:null,this.loadedExtentsRtree_=new Wy,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let s,a;Array.isArray(t.features)?a=t.features:t.features&&(s=t.features,a=s.getArray()),!n&&s===void 0&&(s=new gi(a)),a!==void 0&&this.addFeaturesInternal(a),s!==void 0&&this.bindFeaturesCollection_(s)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const n=Gt(t);if(!this.addToIndex_(n,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(n,t);const s=t.getGeometry();if(s){const a=s.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(a,t)}else this.nullGeometryFeatures_[n]=t;this.dispatchEvent(new xs(kn.ADDFEATURE,t))}setupChangeEvents_(t,n){n instanceof Wn||(this.featureChangeKeys_[t]=[It(n,St.CHANGE,this.handleFeatureChange_,this),It(n,wa.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(t,n){let s=!0;if(n.getId()!==void 0){const a=String(n.getId());if(!(a in this.idIndex_))this.idIndex_[a]=n;else if(n instanceof Wn){const o=this.idIndex_[a];o instanceof Wn?Array.isArray(o)?o.push(n):this.idIndex_[a]=[o,n]:s=!1}else s=!1}return s&&(Bt(!(t in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[t]=n),s}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const n=[],s=[],a=[];for(let o=0,c=t.length;o<c;o++){const h=t[o],d=Gt(h);this.addToIndex_(d,h)&&s.push(h)}for(let o=0,c=s.length;o<c;o++){const h=s[o],d=Gt(h);this.setupChangeEvents_(d,h);const m=h.getGeometry();if(m){const _=m.getExtent();n.push(_),a.push(h)}else this.nullGeometryFeatures_[d]=h}if(this.featuresRtree_&&this.featuresRtree_.load(n,a),this.hasListener(kn.ADDFEATURE))for(let o=0,c=s.length;o<c;o++)this.dispatchEvent(new xs(kn.ADDFEATURE,s[o]))}bindFeaturesCollection_(t){let n=!1;this.addEventListener(kn.ADDFEATURE,function(s){n||(n=!0,t.push(s.feature),n=!1)}),this.addEventListener(kn.REMOVEFEATURE,function(s){n||(n=!0,t.remove(s.feature),n=!1)}),t.addEventListener(ln.ADD,s=>{n||(n=!0,this.addFeature(s.element),n=!1)}),t.addEventListener(ln.REMOVE,s=>{n||(n=!0,this.removeFeature(s.element),n=!1)}),this.featuresCollection_=t}clear(t){if(t){for(const s in this.featureChangeKeys_)this.featureChangeKeys_[s].forEach(te);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(s=>{this.removeFeatureInternal(s)});for(const s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new xs(kn.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,n){const s=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(s,function(a){const o=a.getGeometry();if(o instanceof Wn||o.intersectsCoordinate(t))return n(a)})}forEachFeatureInExtent(t,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(t,n){return this.forEachFeatureInExtent(t,function(s){const a=s.getGeometry();if(a instanceof Wn||a.intersectsExtent(t)){const o=n(s);if(o)return o}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Aa(this.nullGeometryFeatures_)||uc(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const n=[];return this.forEachFeatureAtCoordinateDirect(t,function(s){n.push(s)}),n}getFeaturesInExtent(t,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);const a=Ip(t,n);return[].concat(...a.map(o=>this.featuresRtree_.getInExtent(o)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,n){const s=t[0],a=t[1];let o=null;const c=[NaN,NaN];let h=1/0;const d=[-1/0,-1/0,1/0,1/0];return n=n||Wl,this.featuresRtree_.forEachInExtent(d,function(m){if(n(m)){const _=m.getGeometry(),y=h;if(h=_ instanceof Wn?0:_.closestPointXY(s,a,c,h),h<y){o=m;const v=Math.sqrt(h);d[0]=s-v,d[1]=a-v,d[2]=s+v,d[3]=a+v}}}),o}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const n=this.idIndex_[t.toString()];return n!==void 0?n:null}getFeatureByUid(t){const n=this.uidIndex_[t];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const n=t.target,s=Gt(n),a=n.getGeometry();if(!a)s in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[s]=n);else{const c=a.getExtent();s in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[s],this.featuresRtree_&&this.featuresRtree_.insert(c,n)):this.featuresRtree_&&this.featuresRtree_.update(c,n)}const o=n.getId();if(o!==void 0){const c=o.toString();this.idIndex_[c]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[c]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[s]=n;this.changed(),this.dispatchEvent(new xs(kn.CHANGEFEATURE,n))}hasFeature(t){const n=t.getId();return n!==void 0?n in this.idIndex_:Gt(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Aa(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(t,n,s){const a=this.loadedExtentsRtree_,o=this.strategy_(t,n,s);for(let c=0,h=o.length;c<h;++c){const d=o[c];a.forEachInExtent(d,function(_){return va(_.extent,d)})||(++this.loadingExtentsCount_,this.dispatchEvent(new xs(kn.FEATURESLOADSTART)),this.loader_.call(this,d,n,s,_=>{--this.loadingExtentsCount_,this.dispatchEvent(new xs(kn.FEATURESLOADEND,void 0,_))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new xs(kn.FEATURESLOADERROR))}),a.insert(d,{extent:d.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const n=this.loadedExtentsRtree_,s=n.forEachInExtent(t,function(a){if($l(a.extent,t))return a});s&&n.remove(s)}removeFeatures(t){let n=!1;for(let s=0,a=t.length;s<a;++s)n=this.removeFeatureInternal(t[s])||n;n&&this.changed()}removeFeature(t){if(!t)return;this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){const n=Gt(t);if(!(n in this.uidIndex_))return!1;n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.featureChangeKeys_[n]?.forEach(te),delete this.featureChangeKeys_[n];const a=t.getId();if(a!==void 0){const o=a.toString(),c=this.idIndex_[o];c===t?delete this.idIndex_[o]:Array.isArray(c)&&(c.splice(c.indexOf(t),1),c.length===1&&(this.idIndex_[o]=c[0]))}return delete this.uidIndex_[n],this.hasListener(kn.REMOVEFEATURE)&&this.dispatchEvent(new xs(kn.REMOVEFEATURE,t)),!0}removeFromIdIndex_(t){for(const n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n];break}}setLoader(t){this.loader_=t}setUrl(t){Bt(this.format_,"`format` must be set when `url` is set"),this.url_=t,this.setLoader(Ky(t,this.format_))}setOverlaps(t){this.overlaps_=t,this.changed()}}const dt={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Bu=[dt.FILL],As=[dt.STROKE],cr=[dt.BEGIN_PATH],Qy=[dt.CLOSE_PATH];class mo extends L2{constructor(t,n,s,a){super(),this.tolerance=t,this.maxExtent=n,this.pixelRatio=a,this.maxLineWidth=0,this.resolution=s,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const n=this.pixelRatio;return n==1?t:t.map(function(s){return s*n})}appendFlatPointCoordinates(t,n){const s=this.getBufferedMaxExtent(),a=this.tmpCoordinate_,o=this.coordinates;let c=o.length;for(let h=0,d=t.length;h<d;h+=n)a[0]=t[h],a[1]=t[h+1],Ma(s,a)&&(o[c++]=a[0],o[c++]=a[1]);return c}appendFlatLineCoordinates(t,n,s,a,o,c){const h=this.coordinates;let d=h.length;const m=this.getBufferedMaxExtent();c&&(n+=a);let _=t[n],y=t[n+1];const v=this.tmpCoordinate_;let S=!0,T,b,C;for(T=n+a;T<s;T+=a)v[0]=t[T],v[1]=t[T+1],C=Id(m,v),C!==b?(S&&(h[d++]=_,h[d++]=y,S=!1),h[d++]=v[0],h[d++]=v[1]):C===Me.INTERSECTING?(h[d++]=v[0],h[d++]=v[1],S=!1):S=!0,_=v[0],y=v[1],b=C;return(o&&S||T===n+a)&&(h[d++]=_,h[d++]=y),d}drawCustomCoordinates_(t,n,s,a,o){for(let c=0,h=s.length;c<h;++c){const d=s[c],m=this.appendFlatLineCoordinates(t,n,d,a,!1,!1);o.push(m),n=d}return n}drawCustom(t,n,s,a,o){this.beginGeometry(t,n,o);const c=t.getType(),h=t.getStride(),d=this.coordinates.length;let m,_,y,v,S;switch(c){case"MultiPolygon":m=t.getOrientedFlatCoordinates(),v=[];const T=t.getEndss();S=0;for(let b=0,C=T.length;b<C;++b){const A=[];S=this.drawCustomCoordinates_(m,S,T[b],h,A),v.push(A)}this.instructions.push([dt.CUSTOM,d,v,t,s,my,o]),this.hitDetectionInstructions.push([dt.CUSTOM,d,v,t,a||s,my,o]);break;case"Polygon":case"MultiLineString":y=[],m=c=="Polygon"?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),S=this.drawCustomCoordinates_(m,0,t.getEnds(),h,y),this.instructions.push([dt.CUSTOM,d,y,t,s,Qu,o]),this.hitDetectionInstructions.push([dt.CUSTOM,d,y,t,a||s,Qu,o]);break;case"LineString":case"Circle":m=t.getFlatCoordinates(),_=this.appendFlatLineCoordinates(m,0,m.length,h,!1,!1),this.instructions.push([dt.CUSTOM,d,_,t,s,lr,o]),this.hitDetectionInstructions.push([dt.CUSTOM,d,_,t,a||s,lr,o]);break;case"MultiPoint":m=t.getFlatCoordinates(),_=this.appendFlatPointCoordinates(m,h),_>d&&(this.instructions.push([dt.CUSTOM,d,_,t,s,lr,o]),this.hitDetectionInstructions.push([dt.CUSTOM,d,_,t,a||s,lr,o]));break;case"Point":m=t.getFlatCoordinates(),this.coordinates.push(m[0],m[1]),_=this.coordinates.length,this.instructions.push([dt.CUSTOM,d,_,t,s,void 0,o]),this.hitDetectionInstructions.push([dt.CUSTOM,d,_,t,a||s,void 0,o]);break}this.endGeometry(n)}beginGeometry(t,n,s){this.beginGeometryInstruction1_=[dt.BEGIN_GEOMETRY,n,0,t,s],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[dt.BEGIN_GEOMETRY,n,0,t,s],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;t.reverse();let n;const s=t.length;let a,o,c=-1;for(n=0;n<s;++n)a=t[n],o=a[0],o==dt.END_GEOMETRY?c=n:o==dt.BEGIN_GEOMETRY&&(a[2]=n,Vx(this.hitDetectionInstructions,c,n),c=-1)}fillStyleToState(t,n={}){if(t){const s=t.getColor();n.fillPatternScale=s&&typeof s=="object"&&"src"in s?this.pixelRatio:1,n.fillStyle=mi(s||un)}else n.fillStyle=void 0;return n}strokeStyleToState(t,n={}){if(t){const s=t.getColor();n.strokeStyle=mi(s||io);const a=t.getLineCap();n.lineCap=a!==void 0?a:La;const o=t.getLineDash();n.lineDash=o?o.slice():Fi;const c=t.getLineDashOffset();n.lineDashOffset=c||Ui;const h=t.getLineJoin();n.lineJoin=h!==void 0?h:Na;const d=t.getWidth();n.lineWidth=d!==void 0?d:ro;const m=t.getMiterLimit();n.miterLimit=m!==void 0?m:no,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0;return n}setFillStrokeStyle(t,n){const s=this.state;this.fillStyleToState(t,s),this.strokeStyleToState(n,s)}createFill(t){const n=t.fillStyle,s=[dt.SET_FILL_STYLE,n];return typeof n!="string"&&s.push(t.fillPatternScale),s}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[dt.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,t.lineDash?this.applyPixelRatio(t.lineDash):null,t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,n){const s=t.fillStyle;(typeof s!="string"||t.currentFillStyle!=s)&&(this.instructions.push(n.call(this,t)),t.currentFillStyle=s)}updateStrokeStyle(t,n){const s=t.strokeStyle,a=t.lineCap,o=t.lineDash,c=t.lineDashOffset,h=t.lineJoin,d=t.lineWidth,m=t.miterLimit;(t.currentStrokeStyle!=s||t.currentLineCap!=a||o!=t.currentLineDash&&!Ns(t.currentLineDash,o)||t.currentLineDashOffset!=c||t.currentLineJoin!=h||t.currentLineWidth!=d||t.currentMiterLimit!=m)&&(n.call(this,t),t.currentStrokeStyle=s,t.currentLineCap=a,t.currentLineDash=o,t.currentLineDashOffset=c,t.currentLineJoin=h,t.currentLineWidth=d,t.currentMiterLimit=m)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[dt.END_GEOMETRY,t];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=wp(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;rg(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class Cb extends mo{constructor(t,n,s,a){super(t,n,s,a),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,n,s){if(!this.image_||this.maxExtent&&!Ma(this.maxExtent,t.getFlatCoordinates()))return;this.beginGeometry(t,n,s);const a=t.getFlatCoordinates(),o=t.getStride(),c=this.coordinates.length,h=this.appendFlatPointCoordinates(a,o);this.instructions.push([dt.DRAW_IMAGE,c,h,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([dt.DRAW_IMAGE,c,h,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(t,n,s){if(!this.image_)return;this.beginGeometry(t,n,s);const a=t.getFlatCoordinates(),o=[];for(let d=0,m=a.length;d<m;d+=t.getStride())(!this.maxExtent||Ma(this.maxExtent,a.slice(d,d+2)))&&o.push(a[d],a[d+1]);const c=this.coordinates.length,h=this.appendFlatPointCoordinates(o,2);this.instructions.push([dt.DRAW_IMAGE,c,h,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([dt.DRAW_IMAGE,c,h,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,n){const s=t.getAnchor(),a=t.getSize(),o=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=s[0],this.anchorY_=s[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=a[1],this.opacity_=t.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=a[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}}class Rb extends mo{constructor(t,n,s,a){super(t,n,s,a)}drawFlatCoordinates_(t,n,s,a){const o=this.coordinates.length,c=this.appendFlatLineCoordinates(t,n,s,a,!1,!1),h=[dt.MOVE_TO_LINE_TO,o,c];return this.instructions.push(h),this.hitDetectionInstructions.push(h),s}drawLineString(t,n,s){const a=this.state,o=a.strokeStyle,c=a.lineWidth;if(o===void 0||c===void 0)return;this.updateStrokeStyle(a,this.applyStroke),this.beginGeometry(t,n,s),this.hitDetectionInstructions.push([dt.SET_STROKE_STYLE,a.strokeStyle,a.lineWidth,a.lineCap,a.lineJoin,a.miterLimit,Fi,Ui],cr);const h=t.getFlatCoordinates(),d=t.getStride();this.drawFlatCoordinates_(h,0,h.length,d),this.hitDetectionInstructions.push(As),this.endGeometry(n)}drawMultiLineString(t,n,s){const a=this.state,o=a.strokeStyle,c=a.lineWidth;if(o===void 0||c===void 0)return;this.updateStrokeStyle(a,this.applyStroke),this.beginGeometry(t,n,s),this.hitDetectionInstructions.push([dt.SET_STROKE_STYLE,a.strokeStyle,a.lineWidth,a.lineCap,a.lineJoin,a.miterLimit,Fi,Ui],cr);const h=t.getEnds(),d=t.getFlatCoordinates(),m=t.getStride();let _=0;for(let y=0,v=h.length;y<v;++y)_=this.drawFlatCoordinates_(d,_,h[y],m);this.hitDetectionInstructions.push(As),this.endGeometry(n)}finish(){const t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(As),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(As),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(cr)}}class $y extends mo{constructor(t,n,s,a){super(t,n,s,a)}drawFlatCoordinatess_(t,n,s,a){const o=this.state,c=o.fillStyle!==void 0,h=o.strokeStyle!==void 0,d=s.length;this.instructions.push(cr),this.hitDetectionInstructions.push(cr);for(let m=0;m<d;++m){const _=s[m],y=this.coordinates.length,v=this.appendFlatLineCoordinates(t,n,_,a,!0,!h),S=[dt.MOVE_TO_LINE_TO,y,v];this.instructions.push(S),this.hitDetectionInstructions.push(S),h&&(this.instructions.push(Qy),this.hitDetectionInstructions.push(Qy)),n=_}return c&&(this.instructions.push(Bu),this.hitDetectionInstructions.push(Bu)),h&&(this.instructions.push(As),this.hitDetectionInstructions.push(As)),n}drawCircle(t,n,s){const a=this.state,o=a.fillStyle,c=a.strokeStyle;if(o===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,s),a.fillStyle!==void 0&&this.hitDetectionInstructions.push([dt.SET_FILL_STYLE,un]),a.strokeStyle!==void 0&&this.hitDetectionInstructions.push([dt.SET_STROKE_STYLE,a.strokeStyle,a.lineWidth,a.lineCap,a.lineJoin,a.miterLimit,Fi,Ui]);const h=t.getFlatCoordinates(),d=t.getStride(),m=this.coordinates.length;this.appendFlatLineCoordinates(h,0,h.length,d,!1,!1);const _=[dt.CIRCLE,m];this.instructions.push(cr,_),this.hitDetectionInstructions.push(cr,_),a.fillStyle!==void 0&&(this.instructions.push(Bu),this.hitDetectionInstructions.push(Bu)),a.strokeStyle!==void 0&&(this.instructions.push(As),this.hitDetectionInstructions.push(As)),this.endGeometry(n)}drawPolygon(t,n,s){const a=this.state,o=a.fillStyle,c=a.strokeStyle;if(o===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,s),a.fillStyle!==void 0&&this.hitDetectionInstructions.push([dt.SET_FILL_STYLE,un]),a.strokeStyle!==void 0&&this.hitDetectionInstructions.push([dt.SET_STROKE_STYLE,a.strokeStyle,a.lineWidth,a.lineCap,a.lineJoin,a.miterLimit,Fi,Ui]);const h=t.getEnds(),d=t.getOrientedFlatCoordinates(),m=t.getStride();this.drawFlatCoordinatess_(d,0,h,m),this.endGeometry(n)}drawMultiPolygon(t,n,s){const a=this.state,o=a.fillStyle,c=a.strokeStyle;if(o===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,s),a.fillStyle!==void 0&&this.hitDetectionInstructions.push([dt.SET_FILL_STYLE,un]),a.strokeStyle!==void 0&&this.hitDetectionInstructions.push([dt.SET_STROKE_STYLE,a.strokeStyle,a.lineWidth,a.lineCap,a.lineJoin,a.miterLimit,Fi,Ui]);const h=t.getEndss(),d=t.getOrientedFlatCoordinates(),m=t.getStride();let _=0;for(let y=0,v=h.length;y<v;++y)_=this.drawFlatCoordinatess_(d,_,h[y],m);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(t!==0){const n=this.coordinates;for(let s=0,a=n.length;s<a;++s)n[s]=er(n[s],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;this.updateFillStyle(t,this.createFill),this.updateStrokeStyle(t,this.applyStroke)}}function bb(r,t,n,s,a){const o=[];let c=n,h=0,d=t.slice(n,2);for(;h<r&&c+a<s;){const[m,_]=d.slice(-2),y=t[c+a],v=t[c+a+1],S=Math.sqrt((y-m)*(y-m)+(v-_)*(v-_));if(h+=S,h>=r){const T=(r-h+S)/S,b=wn(m,y,T),C=wn(_,v,T);d.push(b,C),o.push(d),d=[b,C],h==r&&(c+=a),h=0}else if(h<r)d.push(t[c+a],t[c+a+1]),c+=a;else{const T=S-h,b=wn(m,y,T/S),C=wn(_,v,T/S);d.push(b,C),o.push(d),d=[b,C],h=0,c+=a}}return h>0&&o.push(d),o}function wb(r,t,n,s,a){let o=n,c=n,h=0,d=0,m=n,_,y,v,S,T,b,C,A,L,z;for(y=n;y<s;y+=a){const N=t[y],M=t[y+1];T!==void 0&&(L=N-T,z=M-b,S=Math.sqrt(L*L+z*z),C!==void 0&&(d+=v,_=Math.acos((C*L+A*z)/(v*S)),_>r&&(d>h&&(h=d,o=m,c=y),d=0,m=y-a)),v=S,C=L,A=z),T=N,b=M}return d+=S,d>h?[m,y]:[o,c]}const ic={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class Ab extends mo{constructor(t,n,s,a){super(t,n,s,a),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[un]={fillStyle:un},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,n,s){const a=this.textFillState_,o=this.textStrokeState_,c=this.textState_;if(this.text_===""||!c||!a&&!o)return;const h=this.coordinates;let d=h.length;const m=t.getType();let _=null,y=t.getStride();if(c.placement==="line"&&(m=="LineString"||m=="MultiLineString"||m=="Polygon"||m=="MultiPolygon")){if(!cn(this.maxExtent,t.getExtent()))return;let v;if(_=t.getFlatCoordinates(),m=="LineString")v=[_.length];else if(m=="MultiLineString")v=t.getEnds();else if(m=="Polygon")v=t.getEnds().slice(0,1);else if(m=="MultiPolygon"){const C=t.getEndss();v=[];for(let A=0,L=C.length;A<L;++A)v.push(C[A][0])}this.beginGeometry(t,n,s);const S=c.repeat,T=S?void 0:c.textAlign;let b=0;for(let C=0,A=v.length;C<A;++C){let L;S?L=bb(S*this.resolution,_,b,v[C],y):L=[_.slice(b,v[C])];for(let z=0,N=L.length;z<N;++z){const M=L[z];let Y=0,W=M.length;if(T==null){const et=wb(c.maxAngle,M,0,M.length,2);Y=et[0],W=et[1]}for(let et=Y;et<W;et+=y)h.push(M[et],M[et+1]);const q=h.length;b=v[C],this.drawChars_(d,q),d=q}}this.endGeometry(n)}else{let v=c.overflow?null:[];switch(m){case"Point":case"MultiPoint":_=t.getFlatCoordinates();break;case"LineString":_=t.getFlatMidpoint();break;case"Circle":_=t.getCenter();break;case"MultiLineString":_=t.getFlatMidpoints(),y=2;break;case"Polygon":_=t.getFlatInteriorPoint(),c.overflow||v.push(_[2]/this.resolution),y=3;break;case"MultiPolygon":const N=t.getFlatInteriorPoints();_=[];for(let M=0,Y=N.length;M<Y;M+=3)c.overflow||v.push(N[M+2]/this.resolution),_.push(N[M],N[M+1]);if(_.length===0)return;y=2;break}const S=this.appendFlatPointCoordinates(_,y);if(S===d)return;if(v&&(S-d)/2!==_.length/y){let N=d/2;v=v.filter((M,Y)=>{const W=h[(N+Y)*2]===_[Y*y]&&h[(N+Y)*2+1]===_[Y*y+1];return W||--N,W})}this.saveTextStates_();const T=c.backgroundFill?this.createFill(this.fillStyleToState(c.backgroundFill)):null,b=c.backgroundStroke?this.createStroke(this.strokeStyleToState(c.backgroundStroke)):null;this.beginGeometry(t,n,s);let C=c.padding;if(C!=ur&&(c.scale[0]<0||c.scale[1]<0)){let N=c.padding[0],M=c.padding[1],Y=c.padding[2],W=c.padding[3];c.scale[0]<0&&(M=-M,W=-W),c.scale[1]<0&&(N=-N,Y=-Y),C=[N,M,Y,W]}const A=this.pixelRatio;this.instructions.push([dt.DRAW_IMAGE,d,S,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,C==ur?ur:C.map(function(N){return N*A}),T,b,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,v]);const L=1/A,z=T?T.slice(0):null;z&&(z[1]=un),this.hitDetectionInstructions.push([dt.DRAW_IMAGE,d,S,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[L,L],NaN,this.declutterMode_,this.declutterImageWithText_,C,z,b,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?un:this.fillKey_,this.textOffsetX_,this.textOffsetY_,v]),this.endGeometry(n)}}saveTextStates_(){const t=this.textStrokeState_,n=this.textState_,s=this.textFillState_,a=this.strokeKey_;t&&(a in this.strokeStates||(this.strokeStates[a]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const o=this.textKey_;o in this.textStates||(this.textStates[o]={font:n.font,textAlign:n.textAlign||so,justify:n.justify,textBaseline:n.textBaseline||Ju,scale:n.scale});const c=this.fillKey_;s&&(c in this.fillStates||(this.fillStates[c]={fillStyle:s.fillStyle}))}drawChars_(t,n){const s=this.textStrokeState_,a=this.textState_,o=this.strokeKey_,c=this.textKey_,h=this.fillKey_;this.saveTextStates_();const d=this.pixelRatio,m=ic[a.textBaseline],_=this.textOffsetY_*d,y=this.text_,v=s?s.lineWidth*Math.abs(a.scale[0])/2:0;this.instructions.push([dt.DRAW_CHARS,t,n,m,a.overflow,h,a.maxAngle,d,_,o,v*d,y,c,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([dt.DRAW_CHARS,t,n,m,a.overflow,h&&un,a.maxAngle,d,_,o,v*d,y,c,1/d,this.declutterMode_,this.textKeepUpright_])}setTextStyle(t,n){let s,a,o;if(!t)this.text_="";else{const c=t.getFill();c?(a=this.textFillState_,a||(a={},this.textFillState_=a),a.fillStyle=mi(c.getColor()||un)):(a=null,this.textFillState_=a);const h=t.getStroke();if(!h)o=null,this.textStrokeState_=o;else{o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);const b=h.getLineDash(),C=h.getLineDashOffset(),A=h.getWidth(),L=h.getMiterLimit();o.lineCap=h.getLineCap()||La,o.lineDash=b?b.slice():Fi,o.lineDashOffset=C===void 0?Ui:C,o.lineJoin=h.getLineJoin()||Na,o.lineWidth=A===void 0?ro:A,o.miterLimit=L===void 0?no:L,o.strokeStyle=mi(h.getColor()||io)}s=this.textState_;const d=t.getFont()||h2;KC(d);const m=t.getScaleArray();s.overflow=t.getOverflow(),s.font=d,s.maxAngle=t.getMaxAngle(),s.placement=t.getPlacement(),s.textAlign=t.getTextAlign(),s.repeat=t.getRepeat(),s.justify=t.getJustify(),s.textBaseline=t.getTextBaseline()||Ju,s.backgroundFill=t.getBackgroundFill(),s.backgroundStroke=t.getBackgroundStroke(),s.padding=t.getPadding()||ur,s.scale=m===void 0?[1,1]:m;const _=t.getOffsetX(),y=t.getOffsetY(),v=t.getRotateWithView(),S=t.getKeepUpright(),T=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=_===void 0?0:_,this.textOffsetY_=y===void 0?0:y,this.textRotateWithView_=v===void 0?!1:v,this.textKeepUpright_=S===void 0?!0:S,this.textRotation_=T===void 0?0:T,this.strokeKey_=o?(typeof o.strokeStyle=="string"?o.strokeStyle:Gt(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=s.font+s.scale+(s.textAlign||"?")+(s.repeat||"?")+(s.justify||"?")+(s.textBaseline||"?"),this.fillKey_=a&&a.fillStyle?typeof a.fillStyle=="string"?a.fillStyle:"|"+Gt(a.fillStyle):""}this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}}const Mb={Circle:$y,Default:mo,Image:Cb,LineString:Rb,Polygon:$y,Text:Ab};class Ob{constructor(t,n,s,a){this.tolerance_=t,this.maxExtent_=n,this.pixelRatio_=a,this.resolution_=s,this.buildersByZIndex_={}}finish(){const t={};for(const n in this.buildersByZIndex_){t[n]=t[n]||{};const s=this.buildersByZIndex_[n];for(const a in s){const o=s[a].finish();t[n][a]=o}}return t}getBuilder(t,n){const s=t!==void 0?t.toString():"0";let a=this.buildersByZIndex_[s];a===void 0&&(a={},this.buildersByZIndex_[s]=a);let o=a[n];if(o===void 0){const c=Mb[n];o=new c(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),a[n]=o}return o}}function Db(r,t,n,s,a,o,c,h,d,m,_,y,v=!0){let S=r[t],T=r[t+1],b=0,C=0,A=0,L=0;function z(){b=S,C=T,t+=s,S=r[t],T=r[t+1],L+=A,A=Math.sqrt((S-b)*(S-b)+(T-C)*(T-C))}do z();while(t<n-s&&L+A<o);let N=A===0?0:(o-L)/A;const M=wn(b,S,N),Y=wn(C,T,N),W=t-s,q=L,et=o+h*d(m,a,_);for(;t<n-s&&L+A<et;)z();N=A===0?0:(et-L)/A;const it=wn(b,S,N),lt=wn(C,T,N);let H=!1;if(v)if(y){const P=[M,Y,it,lt];Vp(P,0,4,2,y,P,P),H=P[0]>P[2]}else H=M>it;const st=Math.PI,tt=[],at=W+s===t;t=W,A=0,L=q,S=r[t],T=r[t+1];let O;if(at){z(),O=Math.atan2(T-C,S-b),H&&(O+=O>0?-st:st);const P=(it+M)/2,Z=(lt+Y)/2;return tt[0]=[P,Z,(et-o)/2,O,a],tt}a=a.replace(/\n/g," ");for(let P=0,Z=a.length;P<Z;){z();let ot=Math.atan2(T-C,S-b);if(H&&(ot+=ot>0?-st:st),O!==void 0){let ht=ot-O;if(ht+=ht>st?-2*st:ht<-st?2*st:0,Math.abs(ht)>c)return null}O=ot;const R=P;let X=0;for(;P<Z;++P){const ht=H?Z-P-1:P,ct=h*d(m,a[ht],_);if(t+s<n&&L+A<o+X+ct/2)break;X+=ct}if(P===R)continue;const G=H?a.substring(Z-R,Z-P):a.substring(R,P);N=A===0?0:(o+X/2-L)/A;const nt=wn(b,S,N),rt=wn(C,T,N);tt.push([nt,rt,X/2,ot,G]),o+=X}return tt}const ha=Yn(),Ss=[],Ni=[],Ii=[],Ts=[];function Jy(r){return r[3].declutterBox}const tp=new RegExp("[֑-ࣿיִ-﷿ﹰ-ﻼࠀ-࿿-]");function Ed(r,t){return t==="start"?t=tp.test(r)?"right":"left":t==="end"&&(t=tp.test(r)?"left":"right"),ic[t]}function Lb(r,t,n){return n>0&&r.push(`
`,""),r.push(t,""),r}function Nb(r,t,n){return n%2===0&&(r+=t),r}class Ib{constructor(t,n,s,a,o){this.overlaps=s,this.pixelRatio=n,this.resolution=t,this.alignAndScaleFill_,this.instructions=a.instructions,this.coordinates=a.coordinates,this.coordinateCache_={},this.renderedTransform_=Jn(),this.hitDetectionInstructions=a.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=a.fillStates||{},this.strokeStates=a.strokeStates||{},this.textStates=a.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=o?new R2:null}getZIndexContext(){return this.zIndexContext_}createLabel(t,n,s,a){const o=t+n+s+a;if(this.labels_[o])return this.labels_[o];const c=a?this.strokeStates[a]:null,h=s?this.fillStates[s]:null,d=this.textStates[n],m=this.pixelRatio,_=[d.scale[0]*m,d.scale[1]*m],y=d.justify?ic[d.justify]:Ed(Array.isArray(t)?t[0]:t,d.textAlign||so),v=a&&c.lineWidth?c.lineWidth:0,S=Array.isArray(t)?t:String(t).split(`
`).reduce(Lb,[]),{width:T,height:b,widths:C,heights:A,lineWidths:L}=WC(d,S),z=T+v,N=[],M=(z+2)*_[0],Y=(b+v)*_[1],W={width:M<0?Math.floor(M):Math.ceil(M),height:Y<0?Math.floor(Y):Math.ceil(Y),contextInstructions:N};(_[0]!=1||_[1]!=1)&&N.push("scale",_),a&&(N.push("strokeStyle",c.strokeStyle),N.push("lineWidth",v),N.push("lineCap",c.lineCap),N.push("lineJoin",c.lineJoin),N.push("miterLimit",c.miterLimit),N.push("setLineDash",[c.lineDash]),N.push("lineDashOffset",c.lineDashOffset)),s&&N.push("fillStyle",h.fillStyle),N.push("textBaseline","middle"),N.push("textAlign","center");const q=.5-y;let et=y*z+q*v;const it=[],lt=[];let H=0,st=0,tt=0,at=0,O;for(let P=0,Z=S.length;P<Z;P+=2){const ot=S[P];if(ot===`
`){st+=H,H=0,et=y*z+q*v,++at;continue}const R=S[P+1]||d.font;R!==O&&(a&&it.push("font",R),s&&lt.push("font",R),O=R),H=Math.max(H,A[tt]);const X=[ot,et+q*C[tt]+y*(C[tt]-L[at]),.5*(v+H)+st];et+=C[tt],a&&it.push("strokeText",X),s&&lt.push("fillText",X),++tt}return Array.prototype.push.apply(N,it),Array.prototype.push.apply(N,lt),this.labels_[o]=W,W}replayTextBackground_(t,n,s,a,o,c,h){t.beginPath(),t.moveTo.apply(t,n),t.lineTo.apply(t,s),t.lineTo.apply(t,a),t.lineTo.apply(t,o),t.lineTo.apply(t,n),c&&(this.alignAndScaleFill_=c[2],t.fillStyle=c[1],this.fill_(t)),h&&(this.setStrokeStyle_(t,h),t.stroke())}calculateImageOrLabelDimensions_(t,n,s,a,o,c,h,d,m,_,y,v,S,T,b,C){h*=v[0],d*=v[1];let A=s-h,L=a-d;const z=o+m>t?t-m:o,N=c+_>n?n-_:c,M=T[3]+z*v[0]+T[1],Y=T[0]+N*v[1]+T[2],W=A-T[3],q=L-T[0];(b||y!==0)&&(Ss[0]=W,Ts[0]=W,Ss[1]=q,Ni[1]=q,Ni[0]=W+M,Ii[0]=Ni[0],Ii[1]=q+Y,Ts[1]=Ii[1]);let et;return y!==0?(et=Xi(Jn(),s,a,1,1,y,-s,-a),Oe(et,Ss),Oe(et,Ni),Oe(et,Ii),Oe(et,Ts),Ds(Math.min(Ss[0],Ni[0],Ii[0],Ts[0]),Math.min(Ss[1],Ni[1],Ii[1],Ts[1]),Math.max(Ss[0],Ni[0],Ii[0],Ts[0]),Math.max(Ss[1],Ni[1],Ii[1],Ts[1]),ha)):Ds(Math.min(W,W+M),Math.min(q,q+Y),Math.max(W,W+M),Math.max(q,q+Y),ha),S&&(A=Math.round(A),L=Math.round(L)),{drawImageX:A,drawImageY:L,drawImageW:z,drawImageH:N,originX:m,originY:_,declutterBox:{minX:ha[0],minY:ha[1],maxX:ha[2],maxY:ha[3],value:C},canvasTransform:et,scale:v}}replayImageOrLabel_(t,n,s,a,o,c,h){const d=!!(c||h),m=a.declutterBox,_=h?h[2]*a.scale[0]/2:0;return m.minX-_<=n[0]&&m.maxX+_>=0&&m.minY-_<=n[1]&&m.maxY+_>=0&&(d&&this.replayTextBackground_(t,Ss,Ni,Ii,Ts,c,h),QC(t,a.canvasTransform,o,s,a.originX,a.originY,a.drawImageW,a.drawImageH,a.drawImageX,a.drawImageY,a.scale)),!0}fill_(t){const n=this.alignAndScaleFill_;if(n){const s=Oe(this.renderedTransform_,[0,0]),a=512*this.pixelRatio;t.save(),t.translate(s[0]%a,s[1]%a),n!==1&&t.scale(n,n),t.rotate(this.viewRotation_)}t.fill(),n&&t.restore()}setStrokeStyle_(t,n){t.strokeStyle=n[1],n[1]&&(t.lineWidth=n[2],t.lineCap=n[3],t.lineJoin=n[4],t.miterLimit=n[5],t.lineDashOffset=n[7],t.setLineDash(n[6]))}drawLabelWithPointPlacement_(t,n,s,a){const o=this.textStates[n],c=this.createLabel(t,n,a,s),h=this.strokeStates[s],d=this.pixelRatio,m=Ed(Array.isArray(t)?t[0]:t,o.textAlign||so),_=ic[o.textBaseline||Ju],y=h&&h.lineWidth?h.lineWidth:0,v=c.width/d-2*o.scale[0],S=m*v+2*(.5-m)*y,T=_*c.height/d+2*(.5-_)*y;return{label:c,anchorX:S,anchorY:T}}execute_(t,n,s,a,o,c,h,d){const m=this.zIndexContext_;let _;this.pixelCoordinates_&&Ns(s,this.renderedTransform_)?_=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),_=Os(this.coordinates,0,this.coordinates.length,2,s,this.pixelCoordinates_),VS(this.renderedTransform_,s));let y=0;const v=a.length;let S=0,T,b,C,A,L,z,N,M,Y,W,q,et,it,lt=0,H=0;const st=this.coordinateCache_,tt=this.viewRotation_,at=Math.round(Math.atan2(-s[1],s[0])*1e12)/1e12,O={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:tt},P=this.instructions!=a||this.overlaps?0:200;let Z,ot,R,X;for(;y<v;){const G=a[y];switch(G[0]){case dt.BEGIN_GEOMETRY:Z=G[1],X=G[3],Z.getGeometry()?h!==void 0&&!cn(h,X.getExtent())?y=G[2]+1:++y:y=G[2],m&&(m.zIndex=G[4]);break;case dt.BEGIN_PATH:lt>P&&(this.fill_(t),lt=0),H>P&&(t.stroke(),H=0),!lt&&!H&&(t.beginPath(),L=NaN,z=NaN),++y;break;case dt.CIRCLE:S=G[1];const rt=_[S],ht=_[S+1],ct=_[S+2],Dt=_[S+3],Ct=ct-rt,Wt=Dt-ht,ee=Math.sqrt(Ct*Ct+Wt*Wt);t.moveTo(rt+ee,ht),t.arc(rt,ht,ee,0,2*Math.PI,!0),++y;break;case dt.CLOSE_PATH:t.closePath(),++y;break;case dt.CUSTOM:S=G[1],T=G[2];const $e=G[3],Je=G[4],Ve=G[5];O.geometry=$e,O.feature=Z,y in st||(st[y]=[]);const Te=st[y];Ve?Ve(_,S,T,2,Te):(Te[0]=_[S],Te[1]=_[S+1],Te.length=2),m&&(m.zIndex=G[6]),Je(Te,O),++y;break;case dt.DRAW_IMAGE:S=G[1],T=G[2],Y=G[3],b=G[4],C=G[5];let Rt=G[6];const De=G[7],ie=G[8],si=G[9],ri=G[10];let An=G[11];const _n=G[12];let ai=G[13];A=G[14]||"declutter";const se=G[15];if(!Y&&G.length>=20){W=G[19],q=G[20],et=G[21],it=G[22];const Ze=this.drawLabelWithPointPlacement_(W,q,et,it);Y=Ze.label,G[3]=Y;const Pn=G[23];b=(Ze.anchorX-Pn)*this.pixelRatio,G[4]=b;const Fe=G[24];C=(Ze.anchorY-Fe)*this.pixelRatio,G[5]=C,Rt=Y.height,G[6]=Rt,ai=Y.width,G[13]=ai}let Zi;G.length>25&&(Zi=G[25]);let Is,vt,Jt;G.length>17?(Is=G[16],vt=G[17],Jt=G[18]):(Is=ur,vt=null,Jt=null),ri&&at?An+=tt:!ri&&!at&&(An-=tt);let yn=0;for(;S<T;S+=2){if(Zi&&Zi[yn++]<ai/this.pixelRatio)continue;const Ze=this.calculateImageOrLabelDimensions_(Y.width,Y.height,_[S],_[S+1],ai,Rt,b,C,ie,si,An,_n,o,Is,!!vt||!!Jt,Z),Pn=[t,n,Y,Ze,De,vt,Jt];if(d){let Fe,pn,tn;if(se){const At=T-S;if(!se[At]){se[At]={args:Pn,declutterMode:A};continue}const oe=se[At];Fe=oe.args,pn=oe.declutterMode,delete se[At],tn=Jy(Fe)}let Ce,Qt;if(Fe&&(pn!=="declutter"||!d.collides(tn))&&(Ce=!0),(A!=="declutter"||!d.collides(Ze.declutterBox))&&(Qt=!0),pn==="declutter"&&A==="declutter"){const At=Ce&&Qt;Ce=At,Qt=At}Ce&&(pn!=="none"&&d.insert(tn),this.replayImageOrLabel_.apply(this,Fe)),Qt&&(A!=="none"&&d.insert(Ze.declutterBox),this.replayImageOrLabel_.apply(this,Pn))}else this.replayImageOrLabel_.apply(this,Pn)}++y;break;case dt.DRAW_CHARS:const ke=G[1],po=G[2],ka=G[3],Nc=G[4];it=G[5];const vr=G[6],zs=G[7],li=G[8];et=G[9];const Ki=G[10];W=G[11],Array.isArray(W)&&(W=W.reduce(Nb,"")),q=G[12];const qi=[G[13],G[13]];A=G[14]||"declutter";const Ic=G[15],Er=this.textStates[q],Wi=Er.font,yi=[Er.scale[0]*zs,Er.scale[1]*zs];let Hn;Wi in this.widths_?Hn=this.widths_[Wi]:(Hn={},this.widths_[Wi]=Hn);const vo=D2(_,ke,po,2),Fa=Math.abs(yi[0])*Dy(Wi,W,Hn);if(Nc||Fa<=vo){const Ze=this.textStates[q].textAlign,Pn=(vo-Fa)*Ed(W,Ze),Fe=Db(_,ke,po,2,W,Pn,vr,Math.abs(yi[0]),Dy,Wi,Hn,at?0:this.viewRotation_,Ic);t:if(Fe){const pn=[];let tn,Ce,Qt,At,oe;if(et)for(tn=0,Ce=Fe.length;tn<Ce;++tn){oe=Fe[tn],Qt=oe[4],At=this.createLabel(Qt,q,"",et),b=oe[2]+(yi[0]<0?-Ki:Ki),C=ka*At.height+(.5-ka)*2*Ki*yi[1]/yi[0]-li;const vn=this.calculateImageOrLabelDimensions_(At.width,At.height,oe[0],oe[1],At.width,At.height,b,C,0,0,oe[3],qi,!1,ur,!1,Z);if(d&&A==="declutter"&&d.collides(vn.declutterBox))break t;pn.push([t,n,At,vn,1,null,null])}if(it)for(tn=0,Ce=Fe.length;tn<Ce;++tn){oe=Fe[tn],Qt=oe[4],At=this.createLabel(Qt,q,it,""),b=oe[2],C=ka*At.height-li;const vn=this.calculateImageOrLabelDimensions_(At.width,At.height,oe[0],oe[1],At.width,At.height,b,C,0,0,oe[3],qi,!1,ur,!1,Z);if(d&&A==="declutter"&&d.collides(vn.declutterBox))break t;pn.push([t,n,At,vn,1,null,null])}d&&A!=="none"&&d.load(pn.map(Jy));for(let vn=0,zc=pn.length;vn<zc;++vn)this.replayImageOrLabel_.apply(this,pn[vn])}}++y;break;case dt.END_GEOMETRY:if(c!==void 0){Z=G[1];const Ze=c(Z,X,A);if(Ze)return Ze}++y;break;case dt.FILL:P?lt++:this.fill_(t),++y;break;case dt.MOVE_TO_LINE_TO:for(S=G[1],T=G[2],ot=_[S],R=_[S+1],t.moveTo(ot,R),L=ot+.5|0,z=R+.5|0,S+=2;S<T;S+=2)ot=_[S],R=_[S+1],N=ot+.5|0,M=R+.5|0,(S==T-2||N!==L||M!==z)&&(t.lineTo(ot,R),L=N,z=M);++y;break;case dt.SET_FILL_STYLE:this.alignAndScaleFill_=G[2],lt&&(this.fill_(t),lt=0,H&&(t.stroke(),H=0)),t.fillStyle=G[1],++y;break;case dt.SET_STROKE_STYLE:H&&(t.stroke(),H=0),this.setStrokeStyle_(t,G),++y;break;case dt.STROKE:P?H++:t.stroke(),++y;break;default:++y;break}}lt&&this.fill_(t),H&&t.stroke()}execute(t,n,s,a,o,c){this.viewRotation_=a,this.execute_(t,n,s,this.instructions,o,void 0,void 0,c)}executeHitDetection(t,n,s,a,o){return this.viewRotation_=s,this.execute_(t,[t.canvas.width,t.canvas.height],n,this.hitDetectionInstructions,!0,a,o)}}const ir=["Polygon","Circle","LineString","Image","Text","Default"],j2=["Image","Text"],zb=ir.filter(r=>!j2.includes(r));class jb{constructor(t,n,s,a,o,c,h){this.maxExtent_=t,this.overlaps_=a,this.pixelRatio_=s,this.resolution_=n,this.renderBuffer_=c,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Jn(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(o,h)}clip(t,n){const s=this.getClipCoords(n);t.beginPath(),t.moveTo(s[0],s[1]),t.lineTo(s[2],s[3]),t.lineTo(s[4],s[5]),t.lineTo(s[6],s[7]),t.clip()}createExecutors_(t,n){for(const s in t){let a=this.executorsByZIndex_[s];a===void 0&&(a={},this.executorsByZIndex_[s]=a);const o=t[s];for(const c in o){const h=o[c];a[c]=new Ib(this.resolution_,this.pixelRatio_,this.overlaps_,h,n)}}}hasExecutors(t){for(const n in this.executorsByZIndex_){const s=this.executorsByZIndex_[n];for(let a=0,o=t.length;a<o;++a)if(t[a]in s)return!0}return!1}forEachFeatureAtCoordinate(t,n,s,a,o,c){a=Math.round(a);const h=a*2+1,d=Xi(this.hitDetectionTransform_,a+.5,a+.5,1/n,-1/n,-s,-t[0],-t[1]),m=!this.hitDetectionContext_;m&&(this.hitDetectionContext_=xe(h,h));const _=this.hitDetectionContext_;_.canvas.width!==h||_.canvas.height!==h?(_.canvas.width=h,_.canvas.height=h):m||_.clearRect(0,0,h,h);let y;this.renderBuffer_!==void 0&&(y=Yn(),Kl(y,t),rg(y,n*(this.renderBuffer_+a),y));const v=Gb(a);let S;function T(M,Y,W){const q=_.getImageData(0,0,h,h).data;for(let et=0,it=v.length;et<it;et++)if(q[v[et]]>0){if(!c||W==="none"||S!=="Image"&&S!=="Text"||c.includes(M)){const lt=(v[et]-3)/4,H=a-lt%h,st=a-(lt/h|0),tt=o(M,Y,H*H+st*st);if(tt)return tt}_.clearRect(0,0,h,h);break}}const b=Object.keys(this.executorsByZIndex_).map(Number);b.sort(ki);let C,A,L,z,N;for(C=b.length-1;C>=0;--C){const M=b[C].toString();for(L=this.executorsByZIndex_[M],A=ir.length-1;A>=0;--A)if(S=ir[A],z=L[S],z!==void 0&&(N=z.executeHitDetection(_,d,s,T,y),N))return N}}getClipCoords(t){const n=this.maxExtent_;if(!n)return null;const s=n[0],a=n[1],o=n[2],c=n[3],h=[s,a,s,c,o,c,o,a];return Os(h,0,8,2,t,h),h}isEmpty(){return Aa(this.executorsByZIndex_)}execute(t,n,s,a,o,c,h){const d=Object.keys(this.executorsByZIndex_).map(Number);d.sort(h?Px:ki),c=c||ir;const m=ir.length;for(let _=0,y=d.length;_<y;++_){const v=d[_].toString(),S=this.executorsByZIndex_[v];for(let T=0,b=c.length;T<b;++T){const C=c[T],A=S[C];if(A!==void 0){const L=h===null?void 0:A.getZIndexContext(),z=L?L.getContext():t,N=this.maxExtent_&&C!=="Image"&&C!=="Text";if(N&&(z.save(),this.clip(z,s)),!L||C==="Text"||C==="Image"?A.execute(z,n,s,a,o,h):L.pushFunction(M=>A.execute(M,n,s,a,o,h)),N&&z.restore(),L){L.offset();const M=d[_]*m+ir.indexOf(C);this.deferredZIndexContexts_[M]||(this.deferredZIndexContexts_[M]=[]),this.deferredZIndexContexts_[M].push(L)}}}}this.renderedContext_=t}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const t=this.deferredZIndexContexts_,n=Object.keys(t).map(Number).sort(ki);for(let s=0,a=n.length;s<a;++s)t[n[s]].forEach(o=>{o.draw(this.renderedContext_),o.clear()}),t[n[s]].length=0}}const xd={};function Gb(r){if(xd[r]!==void 0)return xd[r];const t=r*2+1,n=r*r,s=new Array(n+1);for(let o=0;o<=r;++o)for(let c=0;c<=r;++c){const h=o*o+c*c;if(h>n)break;let d=s[h];d||(d=[],s[h]=d),d.push(((r+o)*t+(r+c))*4+3),o>0&&d.push(((r-o)*t+(r+c))*4+3),c>0&&(d.push(((r+o)*t+(r-c))*4+3),o>0&&d.push(((r-o)*t+(r-c))*4+3))}const a=[];for(let o=0,c=s.length;o<c;++o)s[o]&&a.push(...s[o]);return xd[r]=a,a}const di=.5;function kb(r,t,n,s,a,o,c,h,d){const m=a,_=r[0]*di,y=r[1]*di,v=xe(_,y);v.imageSmoothingEnabled=!1;const S=v.canvas,T=new ob(v,di,a,null,c,h,null),b=n.length,C=Math.floor((256*256*256-1)/b),A={};for(let z=1;z<=b;++z){const N=n[z-1],M=N.getStyleFunction()||s;if(!M)continue;let Y=M(N,o);if(!Y)continue;Array.isArray(Y)||(Y=[Y]);const q=(z*C).toString(16).padStart(7,"#00000");for(let et=0,it=Y.length;et<it;++et){const lt=Y[et],H=lt.getGeometryFunction()(N);if(!H||!cn(m,H.getExtent()))continue;const st=lt.clone(),tt=st.getFill();tt&&tt.setColor(q);const at=st.getStroke();at&&(at.setColor(q),at.setLineDash(null)),st.setText(void 0);const O=lt.getImage();if(O){const R=O.getImageSize();if(!R)continue;const X=xe(R[0],R[1],void 0,{alpha:!1}),G=X.canvas;X.fillStyle=q,X.fillRect(0,0,G.width,G.height),st.setImage(new wc({img:G,anchor:O.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:O.getOrigin(),opacity:1,size:O.getSize(),scale:O.getScale(),rotation:O.getRotation(),rotateWithView:O.getRotateWithView()}))}const P=st.getZIndex()||0;let Z=A[P];Z||(Z={},A[P]=Z,Z.Polygon=[],Z.Circle=[],Z.LineString=[],Z.Point=[]);const ot=H.getType();if(ot==="GeometryCollection"){const R=H.getGeometriesArrayRecursive();for(let X=0,G=R.length;X<G;++X){const nt=R[X];Z[nt.getType().replace("Multi","")].push(nt,st)}}else Z[ot.replace("Multi","")].push(H,st)}}const L=Object.keys(A).map(Number).sort(ki);for(let z=0,N=L.length;z<N;++z){const M=A[L[z]];for(const Y in M){const W=M[Y];for(let q=0,et=W.length;q<et;q+=2){T.setStyle(W[q+1]);for(let it=0,lt=t.length;it<lt;++it)T.setTransform(t[it]),T.drawGeometry(W[q])}}}return v.getImageData(0,0,S.width,S.height)}function Fb(r,t,n){const s=[];if(n){const a=Math.floor(Math.round(r[0])*di),o=Math.floor(Math.round(r[1])*di),c=(le(a,0,n.width-1)+le(o,0,n.height-1)*n.width)*4,h=n.data[c],d=n.data[c+1],_=n.data[c+2]+256*(d+256*h),y=Math.floor((256*256*256-1)/t.length);_&&_%y===0&&s.push(t[_/y-1])}return s}class Ub extends b2{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Yn(),this.wrappedRenderedExtent_=Yn(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(t,n,s){const a=n.extent,o=n.viewState,c=o.center,h=o.resolution,d=o.projection,m=o.rotation,_=d.getExtent(),y=this.getLayer().getSource(),v=this.getLayer().getDeclutter(),S=n.pixelRatio,T=n.viewHints,b=!(T[He.ANIMATING]||T[He.INTERACTING]),C=this.context,A=Math.round(Pt(a)/h*S),L=Math.round(Qe(a)/h*S),z=y.getWrapX()&&d.canWrapX(),N=z?Pt(_):null,M=z?Math.ceil((a[2]-_[2])/N)+1:1;let Y=z?Math.floor((a[0]-_[0])/N):0;do{let W=this.getRenderTransform(c,h,0,S,A,L,Y*N);n.declutter&&(W=W.slice(0)),t.execute(C,[C.canvas.width,C.canvas.height],W,m,b,s===void 0?ir:s?j2:zb,s?v&&n.declutter[v]:void 0)}while(++Y<M)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=xe(this.context.canvas.width,this.context.canvas.height,Yy))}resetDrawContext_(){if(this.opacity_!==1&&this.targetContext_){const t=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=t,Tc(this.context),Yy.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(t){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,t,!0)}renderDeferredInternal(t){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(t,n){const s=t.layerStatesArray[t.layerIndex];this.opacity_=s.opacity;const a=t.viewState;this.prepareContainer(t,n);const o=this.context,c=this.replayGroup_;let h=c&&!c.isEmpty();if(!h&&!(this.getLayer().hasListener(Un.PRERENDER)||this.getLayer().hasListener(Un.POSTRENDER)))return this.container;if(this.setDrawContext_(),this.preRender(o,t),a.projection,this.clipped_=!1,h&&s.extent&&this.clipping){const d=ws(s.extent);h=cn(d,t.extent),this.clipped_=h&&!va(d,t.extent),this.clipped_&&this.clipUnrotated(o,t,d)}return h&&this.renderWorlds(c,t,this.getLayer().getDeclutter()?!1:void 0),!t.declutter&&this.clipped_&&o.restore(),this.postRender(o,t),this.renderedRotation_!==a.rotation&&(this.renderedRotation_=a.rotation,this.hitDetectionImageData_=null),t.declutter||this.resetDrawContext_(),this.container}getFeatures(t){return new Promise(n=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const s=this.frameState.size.slice(),a=this.renderedCenter_,o=this.renderedResolution_,c=this.renderedRotation_,h=this.renderedProjection_,d=this.wrappedRenderedExtent_,m=this.getLayer(),_=[],y=s[0]*di,v=s[1]*di;_.push(this.getRenderTransform(a,o,c,di,y,v,0).slice());const S=m.getSource(),T=h.getExtent();if(S.getWrapX()&&h.canWrapX()&&!va(T,d)){let b=d[0];const C=Pt(T);let A=0,L;for(;b<T[0];)--A,L=C*A,_.push(this.getRenderTransform(a,o,c,di,y,v,L).slice()),b+=C;for(A=0,b=d[2];b>T[2];)++A,L=C*A,_.push(this.getRenderTransform(a,o,c,di,y,v,L).slice()),b-=C}this.hitDetectionImageData_=kb(s,_,this.renderedFeatures_,m.getStyleFunction(),d,o,c,Vy(o,this.renderedPixelRatio_))}n(Fb(t,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(t,n,s,a,o){if(!this.replayGroup_)return;const c=n.viewState.resolution,h=n.viewState.rotation,d=this.getLayer(),m={},_=function(v,S,T){const b=Gt(v),C=m[b];if(C){if(C!==!0&&T<C.distanceSq){if(T===0)return m[b]=!0,o.splice(o.lastIndexOf(C),1),a(v,d,S);C.geometry=S,C.distanceSq=T}}else{if(T===0)return m[b]=!0,a(v,d,S);o.push(m[b]={feature:v,layer:d,geometry:S,distanceSq:T,callback:a})}},y=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(t,c,h,s,_,y?n.declutter?.[y]?.all().map(v=>v.value):null)}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const n=this.getLayer(),s=n.getSource();if(!s)return!1;const a=t.viewHints[He.ANIMATING],o=t.viewHints[He.INTERACTING],c=n.getUpdateWhileAnimating(),h=n.getUpdateWhileInteracting();if(this.ready&&!c&&a||!h&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const d=t.extent,m=t.viewState,_=m.projection,y=m.resolution,v=t.pixelRatio,S=n.getRevision(),T=n.getRenderBuffer();let b=n.getRenderOrder();b===void 0&&(b=cb);const C=m.center.slice(),A=rg(d,T*y),L=A.slice(),z=[A.slice()],N=_.getExtent();if(s.getWrapX()&&_.canWrapX()&&!va(N,t.extent)){const tt=Pt(N),at=Math.max(Pt(A)/2,tt);A[0]=N[0]-at,A[2]=N[2]+at,zp(C,_);const O=Np(z[0],_);O[0]<N[0]&&O[2]<N[2]?z.push([O[0]+tt,O[1],O[2]+tt,O[3]]):O[0]>N[0]&&O[2]>N[2]&&z.push([O[0]-tt,O[1],O[2]-tt,O[3]])}if(this.ready&&this.renderedResolution_==y&&this.renderedRevision_==S&&this.renderedRenderOrder_==b&&this.renderedFrameDeclutter_===!!t.declutter&&va(this.wrappedRenderedExtent_,A))return Ns(this.renderedExtent_,L)||(this.hitDetectionImageData_=null,this.renderedExtent_=L),this.renderedCenter_=C,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const M=new Ob(I2(y,v),A,y,v);let Y;for(let tt=0,at=z.length;tt<at;++tt)s.loadFeatures(z[tt],y,_);const W=Vy(y,v);let q=!0;const et=(tt,at)=>{let O;const P=tt.getStyleFunction()||n.getStyleFunction();if(P&&(O=P(tt,y)),O){const Z=this.renderFeature(tt,W,O,M,Y,this.getLayer().getDeclutter(),at);q=q&&!Z}},it=Hp(A),lt=s.getFeaturesInExtent(it);b&&lt.sort(b);for(let tt=0,at=lt.length;tt<at;++tt)et(lt[tt],tt);this.renderedFeatures_=lt,this.ready=q;const H=M.finish(),st=new jb(A,y,v,s.getOverlaps(),H,n.getRenderBuffer(),!!t.declutter);return this.renderedResolution_=y,this.renderedRevision_=S,this.renderedRenderOrder_=b,this.renderedFrameDeclutter_=!!t.declutter,this.renderedExtent_=L,this.wrappedRenderedExtent_=A,this.renderedCenter_=C,this.renderedProjection_=_,this.renderedPixelRatio_=v,this.replayGroup_=st,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,n,s,a,o,c,h){if(!s)return!1;let d=!1;if(Array.isArray(s))for(let m=0,_=s.length;m<_;++m)d=Zy(a,t,s[m],n,this.boundHandleStyleImageChange_,o,c,h)||d;else d=Zy(a,t,s,n,this.boundHandleStyleImageChange_,o,c,h);return d}}class Kg extends v2{constructor(t){super(t)}createRenderer(){return new Ub(this)}}const Bb=({data:r})=>{const t=B.useRef(),n=B.useRef(null),s=B.useRef(new Zg),a=B.useRef(null);return B.useEffect(()=>{if(!n.current&&t.current)return a.current=new Kg({source:s.current}),n.current=new Ug({target:t.current,layers:[new Yg({source:new Vg}),a.current],view:new Fn({center:fr([0,0]),zoom:2}),controls:Mg({zoom:!1,rotate:!1})}),()=>{n.current&&(n.current.setTarget(void 0),n.current=null)}},[]),B.useEffect(()=>{if(!r||r.length===0)return;s.current.clear();const{departureAirportLongitude:o,departureAirportLatitude:c}=r[0]||{};let h=null;if(o&&c){h=fr([o,c]);const d=new Bi({geometry:new Ls(h)});d.setStyle(new gn({image:new Yi({radius:6,fill:new _i({color:"red"}),stroke:new ti({color:"white",width:2})})})),s.current.addFeature(d)}r.forEach((d,m)=>{const{arrivalAirportLongitude:_,arrivalAirportLatitude:y}=d;if(_&&y&&h){const v=fr([_,y]),S=new Bi({geometry:new Ls(v)});S.setStyle(new gn({image:new Yi({radius:4,fill:new _i({color:"red"}),stroke:new ti({color:"white",width:1})})})),s.current.addFeature(S);const T=h,b=v,C=new Bi(new Ia([T]));C.setStyle(new gn({stroke:new ti({color:"red",width:1})})),s.current.addFeature(C);const A=1500,L=Date.now(),z=()=>{const N=Date.now()-L,M=Math.min(N/A,1),Y=[T[0]+(b[0]-T[0])*M,T[1]+(b[1]-T[1])*M];C.getGeometry().setCoordinates([T,Y]),M<1?requestAnimationFrame(z):C.getGeometry().setCoordinates([T,b])};setTimeout(()=>requestAnimationFrame(z),m*50)}})},[r]),x.jsx("div",{className:q1.mapContainer,children:x.jsx("div",{ref:t,className:q1.map})})},Xb="_mapContainer_gtfiw_3",Yb="_map_gtfiw_3",ep={mapContainer:Xb,map:Yb},Hb=({data:r})=>{const t=B.useRef(),n=B.useRef(null),s=B.useRef(new Zg),a=B.useRef(null);return B.useEffect(()=>{if(!n.current&&t.current)return a.current=new Kg({source:s.current}),n.current=new Ug({target:t.current,layers:[new Yg({source:new Vg}),a.current],view:new Fn({center:fr([0,0]),zoom:2}),controls:Mg({zoom:!1,rotate:!1})}),()=>{n.current&&(n.current.setTarget(void 0),n.current=null)}},[]),B.useEffect(()=>{if(!r||r.length===0)return;s.current.clear();const{arrivalAirportLongitude:o,arrivalAirportLatitude:c}=r[0]||{};let h=null;if(o&&c){h=fr([o,c]);const d=new Bi({geometry:new Ls(h)});d.setStyle(new gn({image:new Yi({radius:6,fill:new _i({color:"red"}),stroke:new ti({color:"white",width:2})})})),s.current.addFeature(d)}r.forEach((d,m)=>{const{departureAirportLongitude:_,departureAirportLatitude:y}=d;if(_&&y&&h){const v=fr([_,y]),S=new Bi({geometry:new Ls(v)});S.setStyle(new gn({image:new Yi({radius:4,fill:new _i({color:"red"}),stroke:new ti({color:"white",width:1})})})),s.current.addFeature(S);const T=v,b=h;new Ia([T,b]);const C=new Bi(new Ia([T]));C.setStyle(new gn({stroke:new ti({color:"red",width:1})})),s.current.addFeature(C);const A=1500,L=Date.now(),z=()=>{const N=Date.now()-L,M=Math.min(N/A,1),Y=[T[0]+(b[0]-T[0])*M,T[1]+(b[1]-T[1])*M];C.getGeometry().setCoordinates([T,Y]),M<1?requestAnimationFrame(z):C.getGeometry().setCoordinates([T,b])};setTimeout(()=>requestAnimationFrame(z),m*50)}})},[r]),x.jsx("div",{className:ep.mapContainer,children:x.jsx("div",{ref:t,className:ep.map})})};var Sd={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var np;function Pb(){return np||(np=1,(function(r){(function(){var t={}.hasOwnProperty;function n(){for(var o="",c=0;c<arguments.length;c++){var h=arguments[c];h&&(o=a(o,s(h)))}return o}function s(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var c="";for(var h in o)t.call(o,h)&&o[h]&&(c=a(c,h));return c}function a(o,c){return c?o?o+" "+c:o+c:o}r.exports?(n.default=n,r.exports=n):window.classNames=n})()})(Sd)),Sd.exports}var Vb=Pb();const Ge=lc(Vb);function Zb(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)!==-1)continue;n[s]=r[s]}return n}function qd(r,t){return qd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},qd(r,t)}function Kb(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,qd(r,t)}const qb=["xxl","xl","lg","md","sm","xs"],Wb="xs",_o=B.createContext({prefixes:{},breakpoints:qb,minBreakpoint:Wb}),{Consumer:$M,Provider:JM}=_o;function ii(r,t){const{prefixes:n}=B.useContext(_o);return r||n[t]||t}function G2(){const{breakpoints:r}=B.useContext(_o);return r}function k2(){const{minBreakpoint:r}=B.useContext(_o);return r}function Qb(){const{dir:r}=B.useContext(_o);return r==="rtl"}function Oc(r){return r&&r.ownerDocument||document}function $b(r){var t=Oc(r);return t&&t.defaultView||window}function Jb(r,t){return $b(r).getComputedStyle(r,t)}var tw=/([A-Z])/g;function ew(r){return r.replace(tw,"-$1").toLowerCase()}var nw=/^ms-/;function Xu(r){return ew(r).replace(nw,"-ms-")}var iw=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function sw(r){return!!(r&&iw.test(r))}function dr(r,t){var n="",s="";if(typeof t=="string")return r.style.getPropertyValue(Xu(t))||Jb(r).getPropertyValue(Xu(t));Object.keys(t).forEach(function(a){var o=t[a];!o&&o!==0?r.style.removeProperty(Xu(a)):sw(a)?s+=a+"("+o+") ":n+=Xu(a)+": "+o+";"}),s&&(n+="transform: "+s+";"),r.style.cssText+=";"+n}var Td={exports:{}},Cd,ip;function rw(){if(ip)return Cd;ip=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Cd=r,Cd}var Rd,sp;function aw(){if(sp)return Rd;sp=1;var r=rw();function t(){}function n(){}return n.resetWarningCache=t,Rd=function(){function s(c,h,d,m,_,y){if(y!==r){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}s.isRequired=s;function a(){return s}var o={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},Rd}var rp;function lw(){return rp||(rp=1,Td.exports=aw()()),Td.exports}var ow=lw();const bd=lc(ow);var uw=Sp();const xa=lc(uw),ap={disabled:!1},F2=fn.createContext(null);var cw=function(t){return t.scrollTop},Zl="unmounted",nr="exited",bs="entering",sr="entered",Wd="exiting",Vi=(function(r){Kb(t,r);function t(s,a){var o;o=r.call(this,s,a)||this;var c=a,h=c&&!c.isMounting?s.enter:s.appear,d;return o.appearStatus=null,s.in?h?(d=nr,o.appearStatus=bs):d=sr:s.unmountOnExit||s.mountOnEnter?d=Zl:d=nr,o.state={status:d},o.nextCallback=null,o}t.getDerivedStateFromProps=function(a,o){var c=a.in;return c&&o.status===Zl?{status:nr}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(a){var o=null;if(a!==this.props){var c=this.state.status;this.props.in?c!==bs&&c!==sr&&(o=bs):(c===bs||c===sr)&&(o=Wd)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var a=this.props.timeout,o,c,h;return o=c=h=a,a!=null&&typeof a!="number"&&(o=a.exit,c=a.enter,h=a.appear!==void 0?a.appear:c),{exit:o,enter:c,appear:h}},n.updateStatus=function(a,o){if(a===void 0&&(a=!1),o!==null)if(this.cancelNextCallback(),o===bs){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:xa.findDOMNode(this);c&&cw(c)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===nr&&this.setState({status:Zl})},n.performEnter=function(a){var o=this,c=this.props.enter,h=this.context?this.context.isMounting:a,d=this.props.nodeRef?[h]:[xa.findDOMNode(this),h],m=d[0],_=d[1],y=this.getTimeouts(),v=h?y.appear:y.enter;if(!a&&!c||ap.disabled){this.safeSetState({status:sr},function(){o.props.onEntered(m)});return}this.props.onEnter(m,_),this.safeSetState({status:bs},function(){o.props.onEntering(m,_),o.onTransitionEnd(v,function(){o.safeSetState({status:sr},function(){o.props.onEntered(m,_)})})})},n.performExit=function(){var a=this,o=this.props.exit,c=this.getTimeouts(),h=this.props.nodeRef?void 0:xa.findDOMNode(this);if(!o||ap.disabled){this.safeSetState({status:nr},function(){a.props.onExited(h)});return}this.props.onExit(h),this.safeSetState({status:Wd},function(){a.props.onExiting(h),a.onTransitionEnd(c.exit,function(){a.safeSetState({status:nr},function(){a.props.onExited(h)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(a,o){o=this.setNextCallback(o),this.setState(a,o)},n.setNextCallback=function(a){var o=this,c=!0;return this.nextCallback=function(h){c&&(c=!1,o.nextCallback=null,a(h))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},n.onTransitionEnd=function(a,o){this.setNextCallback(o);var c=this.props.nodeRef?this.props.nodeRef.current:xa.findDOMNode(this),h=a==null&&!this.props.addEndListener;if(!c||h){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],m=d[0],_=d[1];this.props.addEndListener(m,_)}a!=null&&setTimeout(this.nextCallback,a)},n.render=function(){var a=this.state.status;if(a===Zl)return null;var o=this.props,c=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var h=Zb(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return fn.createElement(F2.Provider,{value:null},typeof c=="function"?c(a,h):fn.cloneElement(fn.Children.only(c),h))},t})(fn.Component);Vi.contextType=F2;Vi.propTypes={};function fa(){}Vi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:fa,onEntering:fa,onEntered:fa,onExit:fa,onExiting:fa,onExited:fa};Vi.UNMOUNTED=Zl;Vi.EXITED=nr;Vi.ENTERING=bs;Vi.ENTERED=sr;Vi.EXITING=Wd;function hw(r){return r.code==="Escape"||r.keyCode===27}function fw(){const r=B.version.split(".");return{major:+r[0],minor:+r[1],patch:+r[2]}}function Dc(r){if(!r||typeof r=="function")return null;const{major:t}=fw();return t>=19?r.props.ref:r.ref}const Ga=!!(typeof window<"u"&&window.document&&window.document.createElement);var Qd=!1,$d=!1;try{var wd={get passive(){return Qd=!0},get once(){return $d=Qd=!0}};Ga&&(window.addEventListener("test",wd,wd),window.removeEventListener("test",wd,!0))}catch{}function U2(r,t,n,s){if(s&&typeof s!="boolean"&&!$d){var a=s.once,o=s.capture,c=n;!$d&&a&&(c=n.__once||function h(d){this.removeEventListener(t,h,o),n.call(this,d)},n.__once=c),r.addEventListener(t,c,Qd?s:o)}r.addEventListener(t,n,s)}function Jd(r,t,n,s){var a=s&&typeof s!="boolean"?s.capture:s;r.removeEventListener(t,n,a),n.__once&&r.removeEventListener(t,n.__once,a)}function sc(r,t,n,s){return U2(r,t,n,s),function(){Jd(r,t,n,s)}}function dw(r,t,n,s){if(s===void 0&&(s=!0),r){var a=document.createEvent("HTMLEvents");a.initEvent(t,n,s),r.dispatchEvent(a)}}function gw(r){var t=dr(r,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function mw(r,t,n){n===void 0&&(n=5);var s=!1,a=setTimeout(function(){s||dw(r,"transitionend",!0)},t+n),o=sc(r,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(a),o()}}function B2(r,t,n,s){n==null&&(n=gw(r)||0);var a=mw(r,n,s),o=sc(r,"transitionend",t);return function(){a(),o()}}function lp(r,t){const n=dr(r,t)||"",s=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*s}function _w(r,t){const n=lp(r,"transitionDuration"),s=lp(r,"transitionDelay"),a=B2(r,o=>{o.target===r&&(a(),t(o))},n+s)}function yw(r){r.offsetHeight}const op=r=>!r||typeof r=="function"?r:t=>{r.current=t};function pw(r,t){const n=op(r),s=op(t);return a=>{n&&n(a),s&&s(a)}}function X2(r,t){return B.useMemo(()=>pw(r,t),[r,t])}function vw(r){return r&&"setState"in r?xa.findDOMNode(r):r??null}const Y2=fn.forwardRef(({onEnter:r,onEntering:t,onEntered:n,onExit:s,onExiting:a,onExited:o,addEndListener:c,children:h,childRef:d,...m},_)=>{const y=B.useRef(null),v=X2(y,d),S=Y=>{v(vw(Y))},T=Y=>W=>{Y&&y.current&&Y(y.current,W)},b=B.useCallback(T(r),[r]),C=B.useCallback(T(t),[t]),A=B.useCallback(T(n),[n]),L=B.useCallback(T(s),[s]),z=B.useCallback(T(a),[a]),N=B.useCallback(T(o),[o]),M=B.useCallback(T(c),[c]);return x.jsx(Vi,{ref:_,...m,onEnter:b,onEntered:A,onEntering:C,onExit:L,onExited:N,onExiting:z,addEndListener:M,nodeRef:y,children:typeof h=="function"?(Y,W)=>h(Y,{...W,ref:S}):fn.cloneElement(h,{ref:S})})});Y2.displayName="TransitionWrapper";function Ew(r){const t=B.useRef(r);return B.useEffect(()=>{t.current=r},[r]),t}function tg(r){const t=Ew(r);return B.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const xw=(r=>B.forwardRef((t,n)=>x.jsx("div",{...t,ref:n,className:Ge(t.className,r)})));function Sw(r){const t=B.useRef(r);return B.useEffect(()=>{t.current=r},[r]),t}function rr(r){const t=Sw(r);return B.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function Tw(){const r=B.useRef(!0),t=B.useRef(()=>r.current);return B.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),t.current}function Cw(r){const t=B.useRef(null);return B.useEffect(()=>{t.current=r}),t.current}const Rw=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",bw=typeof document<"u",up=bw||Rw?B.useLayoutEffect:B.useEffect,ww=["as","disabled"];function Aw(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}function Mw(r){return!r||r.trim()==="#"}function H2({tagName:r,disabled:t,href:n,target:s,rel:a,role:o,onClick:c,tabIndex:h=0,type:d}){r||(n!=null||s!=null||a!=null?r="a":r="button");const m={tagName:r};if(r==="button")return[{type:d||"button",disabled:t},m];const _=v=>{if((t||r==="a"&&Mw(n))&&v.preventDefault(),t){v.stopPropagation();return}c?.(v)},y=v=>{v.key===" "&&(v.preventDefault(),_(v))};return r==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:o??"button",disabled:void 0,tabIndex:t?void 0:h,href:n,target:r==="a"?s:void 0,"aria-disabled":t||void 0,rel:r==="a"?a:void 0,onClick:_,onKeyDown:y},m]}const Ow=B.forwardRef((r,t)=>{let{as:n,disabled:s}=r,a=Aw(r,ww);const[o,{tagName:c}]=H2(Object.assign({tagName:n,disabled:s},a));return x.jsx(c,Object.assign({},a,o,{ref:t}))});Ow.displayName="Button";const Dw={[bs]:"show",[sr]:"show"},qg=B.forwardRef(({className:r,children:t,transitionClasses:n={},onEnter:s,...a},o)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...a},h=B.useCallback((d,m)=>{yw(d),s?.(d,m)},[s]);return x.jsx(Y2,{ref:o,addEndListener:_w,...c,onEnter:h,childRef:Dc(t),children:(d,m)=>B.cloneElement(t,{...m,className:Ge("fade",r,t.props.className,Dw[d],n[d])})})});qg.displayName="Fade";const Lw={"aria-label":bd.string,onClick:bd.func,variant:bd.oneOf(["white"])},Wg=B.forwardRef(({className:r,variant:t,"aria-label":n="Close",...s},a)=>x.jsx("button",{ref:a,type:"button",className:Ge("btn-close",t&&`btn-close-${t}`,r),"aria-label":n,...s}));Wg.displayName="CloseButton";Wg.propTypes=Lw;const eg=B.forwardRef(({as:r,bsPrefix:t,variant:n="primary",size:s,active:a=!1,disabled:o=!1,className:c,...h},d)=>{const m=ii(t,"btn"),[_,{tagName:y}]=H2({tagName:r,disabled:o,...h}),v=y;return x.jsx(v,{..._,...h,ref:d,disabled:o,className:Ge(c,m,a&&"active",n&&`${m}-${n}`,s&&`${m}-${s}`,h.href&&o&&"disabled")})});eg.displayName="Button";function Nw(r){const t=B.useRef(r);return t.current=r,t}function Iw(r){const t=Nw(r);B.useEffect(()=>()=>t.current(),[])}function zw({as:r,bsPrefix:t,className:n,...s}){t=ii(t,"col");const a=G2(),o=k2(),c=[],h=[];return a.forEach(d=>{const m=s[d];delete s[d];let _,y,v;typeof m=="object"&&m!=null?{span:_,offset:y,order:v}=m:_=m;const S=d!==o?`-${d}`:"";_&&c.push(_===!0?`${t}${S}`:`${t}${S}-${_}`),v!=null&&h.push(`order${S}-${v}`),y!=null&&h.push(`offset${S}-${y}`)}),[{...s,className:Ge(n,...c,...h)},{as:r,bsPrefix:t,spans:c}]}const Pe=B.forwardRef((r,t)=>{const[{className:n,...s},{as:a="div",bsPrefix:o,spans:c}]=zw(r);return x.jsx(a,{...s,ref:t,className:Ge(n,!c.length&&o)})});Pe.displayName="Col";const yo=B.forwardRef(({bsPrefix:r,fluid:t=!1,as:n="div",className:s,...a},o)=>{const c=ii(r,"container"),h=typeof t=="string"?`-${t}`:"-fluid";return x.jsx(n,{ref:o,...a,className:Ge(s,t?`${c}${h}`:c)})});yo.displayName="Container";var jw=Function.prototype.bind.call(Function.prototype.call,[].slice);function da(r,t){return jw(r.querySelectorAll(t))}function cp(r,t){if(r.contains)return r.contains(t);if(r.compareDocumentPosition)return r===t||!!(r.compareDocumentPosition(t)&16)}const Gw="data-rr-ui-";function kw(r){return`${Gw}${r}`}const P2=B.createContext(Ga?window:void 0);P2.Provider;function Qg(){return B.useContext(P2)}const hp=r=>!r||typeof r=="function"?r:t=>{r.current=t};function Fw(r,t){const n=hp(r),s=hp(t);return a=>{n&&n(a),s&&s(a)}}function $g(r,t){return B.useMemo(()=>Fw(r,t),[r,t])}var Yu;function fp(r){if((!Yu&&Yu!==0||r)&&Ga){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Yu=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Yu}function Uw(){return B.useState(null)}function Ad(r){r===void 0&&(r=Oc());try{var t=r.activeElement;return!t||!t.nodeName?null:t}catch{return r.body}}function Bw(r){const t=B.useRef(r);return t.current=r,t}function Xw(r){const t=Bw(r);B.useEffect(()=>()=>t.current(),[])}function Yw(r=document){const t=r.defaultView;return Math.abs(t.innerWidth-r.documentElement.clientWidth)}const dp=kw("modal-open");class Jg{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:s=!1}={}){this.handleContainerOverflow=n,this.isRTL=s,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return Yw(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",a=this.getElement();t.style={overflow:a.style.overflow,[s]:a.style[s]},t.scrollBarWidth&&(n[s]=`${parseInt(dr(a,s)||"0",10)+t.scrollBarWidth}px`),a.setAttribute(dp,""),dr(a,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(dp),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const Md=(r,t)=>Ga?r==null?(t||Oc()).body:(typeof r=="function"&&(r=r()),r&&"current"in r&&(r=r.current),r&&("nodeType"in r||r.getBoundingClientRect)?r:null):null;function Hw(r,t){const n=Qg(),[s,a]=B.useState(()=>Md(r,n?.document));if(!s){const o=Md(r);o&&a(o)}return B.useEffect(()=>{},[t,s]),B.useEffect(()=>{const o=Md(r);o!==s&&a(o)},[r,s]),s}function Pw({children:r,in:t,onExited:n,mountOnEnter:s,unmountOnExit:a}){const o=B.useRef(null),c=B.useRef(t),h=rr(n);B.useEffect(()=>{t?c.current=!0:h(o.current)},[t,h]);const d=$g(o,Dc(r)),m=B.cloneElement(r,{ref:d});return t?m:a||!c.current&&s?null:m}const Vw=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function Zw(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}function Kw(r){let{onEnter:t,onEntering:n,onEntered:s,onExit:a,onExiting:o,onExited:c,addEndListener:h,children:d}=r,m=Zw(r,Vw);const _=B.useRef(null),y=$g(_,Dc(d)),v=N=>M=>{N&&_.current&&N(_.current,M)},S=B.useCallback(v(t),[t]),T=B.useCallback(v(n),[n]),b=B.useCallback(v(s),[s]),C=B.useCallback(v(a),[a]),A=B.useCallback(v(o),[o]),L=B.useCallback(v(c),[c]),z=B.useCallback(v(h),[h]);return Object.assign({},m,{nodeRef:_},t&&{onEnter:S},n&&{onEntering:T},s&&{onEntered:b},a&&{onExit:C},o&&{onExiting:A},c&&{onExited:L},h&&{addEndListener:z},{children:typeof d=="function"?(N,M)=>d(N,Object.assign({},M,{ref:y})):B.cloneElement(d,{ref:y})})}const qw=["component"];function Ww(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}const Qw=B.forwardRef((r,t)=>{let{component:n}=r,s=Ww(r,qw);const a=Kw(s);return x.jsx(n,Object.assign({ref:t},a))});function $w({in:r,onTransition:t}){const n=B.useRef(null),s=B.useRef(!0),a=rr(t);return up(()=>{if(!n.current)return;let o=!1;return a({in:r,element:n.current,initial:s.current,isStale:()=>o}),()=>{o=!0}},[r,a]),up(()=>(s.current=!1,()=>{s.current=!0}),[]),n}function Jw({children:r,in:t,onExited:n,onEntered:s,transition:a}){const[o,c]=B.useState(!t);t&&o&&c(!1);const h=$w({in:!!t,onTransition:m=>{const _=()=>{m.isStale()||(m.in?s?.(m.element,m.initial):(c(!0),n?.(m.element)))};Promise.resolve(a(m)).then(_,y=>{throw m.in||c(!0),y})}}),d=$g(h,Dc(r));return o&&!t?null:B.cloneElement(r,{ref:d})}function gp(r,t,n){return r?x.jsx(Qw,Object.assign({},n,{component:r})):t?x.jsx(Jw,Object.assign({},n,{transition:t})):x.jsx(Pw,Object.assign({},n))}const t3=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function e3(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}let Od;function n3(r){return Od||(Od=new Jg({ownerDocument:r?.document})),Od}function i3(r){const t=Qg(),n=r||n3(t),s=B.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>n.add(s.current),remove:()=>n.remove(s.current),isTopModal:()=>n.isTopModal(s.current),setDialogRef:B.useCallback(a=>{s.current.dialog=a},[]),setBackdropRef:B.useCallback(a=>{s.current.backdrop=a},[])})}const V2=B.forwardRef((r,t)=>{let{show:n=!1,role:s="dialog",className:a,style:o,children:c,backdrop:h=!0,keyboard:d=!0,onBackdropClick:m,onEscapeKeyDown:_,transition:y,runTransition:v,backdropTransition:S,runBackdropTransition:T,autoFocus:b=!0,enforceFocus:C=!0,restoreFocus:A=!0,restoreFocusOptions:L,renderDialog:z,renderBackdrop:N=Rt=>x.jsx("div",Object.assign({},Rt)),manager:M,container:Y,onShow:W,onHide:q=()=>{},onExit:et,onExited:it,onExiting:lt,onEnter:H,onEntering:st,onEntered:tt}=r,at=e3(r,t3);const O=Qg(),P=Hw(Y),Z=i3(M),ot=Tw(),R=Cw(n),[X,G]=B.useState(!n),nt=B.useRef(null);B.useImperativeHandle(t,()=>Z,[Z]),Ga&&!R&&n&&(nt.current=Ad(O?.document)),n&&X&&G(!1);const rt=rr(()=>{if(Z.add(),ee.current=sc(document,"keydown",Ct),Wt.current=sc(document,"focus",()=>setTimeout(ct),!0),W&&W(),b){var Rt,De;const ie=Ad((Rt=(De=Z.dialog)==null?void 0:De.ownerDocument)!=null?Rt:O?.document);Z.dialog&&ie&&!cp(Z.dialog,ie)&&(nt.current=ie,Z.dialog.focus())}}),ht=rr(()=>{if(Z.remove(),ee.current==null||ee.current(),Wt.current==null||Wt.current(),A){var Rt;(Rt=nt.current)==null||Rt.focus==null||Rt.focus(L),nt.current=null}});B.useEffect(()=>{!n||!P||rt()},[n,P,rt]),B.useEffect(()=>{X&&ht()},[X,ht]),Xw(()=>{ht()});const ct=rr(()=>{if(!C||!ot()||!Z.isTopModal())return;const Rt=Ad(O?.document);Z.dialog&&Rt&&!cp(Z.dialog,Rt)&&Z.dialog.focus()}),Dt=rr(Rt=>{Rt.target===Rt.currentTarget&&(m?.(Rt),h===!0&&q())}),Ct=rr(Rt=>{d&&hw(Rt)&&Z.isTopModal()&&(_?.(Rt),Rt.defaultPrevented||q())}),Wt=B.useRef(),ee=B.useRef(),$e=(...Rt)=>{G(!0),it?.(...Rt)};if(!P)return null;const Je=Object.assign({role:s,ref:Z.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},at,{style:o,className:a,tabIndex:-1});let Ve=z?z(Je):x.jsx("div",Object.assign({},Je,{children:B.cloneElement(c,{role:"document"})}));Ve=gp(y,v,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:et,onExiting:lt,onExited:$e,onEnter:H,onEntering:st,onEntered:tt,children:Ve});let Te=null;return h&&(Te=N({ref:Z.setBackdropRef,onClick:Dt}),Te=gp(S,T,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Te})),x.jsx(x.Fragment,{children:xa.createPortal(x.jsxs(x.Fragment,{children:[Te,Ve]}),P)})});V2.displayName="Modal";const s3=Object.assign(V2,{Manager:Jg});function r3(r,t){return r.classList?r.classList.contains(t):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+t+" ")!==-1}function a3(r,t){r.classList?r.classList.add(t):r3(r,t)||(typeof r.className=="string"?r.className=r.className+" "+t:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+t))}function mp(r,t){return r.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function l3(r,t){r.classList?r.classList.remove(t):typeof r.className=="string"?r.className=mp(r.className,t):r.setAttribute("class",mp(r.className&&r.className.baseVal||"",t))}const ga={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class o3 extends Jg{adjustAndStore(t,n,s){const a=n.style[t];n.dataset[t]=a,dr(n,{[t]:`${parseFloat(dr(n,t))+s}px`})}restore(t,n){const s=n.dataset[t];s!==void 0&&(delete n.dataset[t],dr(n,{[t]:s}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(a3(n,"modal-open"),!t.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";da(n,ga.FIXED_CONTENT).forEach(o=>this.adjustAndStore(s,o,t.scrollBarWidth)),da(n,ga.STICKY_CONTENT).forEach(o=>this.adjustAndStore(a,o,-t.scrollBarWidth)),da(n,ga.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(a,o,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();l3(n,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";da(n,ga.FIXED_CONTENT).forEach(o=>this.restore(s,o)),da(n,ga.STICKY_CONTENT).forEach(o=>this.restore(a,o)),da(n,ga.NAVBAR_TOGGLER).forEach(o=>this.restore(a,o))}}let Dd;function u3(r){return Dd||(Dd=new o3(r)),Dd}const Z2=B.forwardRef(({className:r,bsPrefix:t,as:n="div",...s},a)=>(t=ii(t,"modal-body"),x.jsx(n,{ref:a,className:Ge(r,t),...s})));Z2.displayName="ModalBody";const K2=B.createContext({onHide(){}}),t0=B.forwardRef(({bsPrefix:r,className:t,contentClassName:n,centered:s,size:a,fullscreen:o,children:c,scrollable:h,...d},m)=>{r=ii(r,"modal");const _=`${r}-dialog`,y=typeof o=="string"?`${r}-fullscreen-${o}`:`${r}-fullscreen`;return x.jsx("div",{...d,ref:m,className:Ge(_,t,a&&`${r}-${a}`,s&&`${_}-centered`,h&&`${_}-scrollable`,o&&y),children:x.jsx("div",{className:Ge(`${r}-content`,n),children:c})})});t0.displayName="ModalDialog";const q2=B.forwardRef(({className:r,bsPrefix:t,as:n="div",...s},a)=>(t=ii(t,"modal-footer"),x.jsx(n,{ref:a,className:Ge(r,t),...s})));q2.displayName="ModalFooter";const W2=B.forwardRef(({closeLabel:r="Close",closeVariant:t,closeButton:n=!1,onHide:s,children:a,...o},c)=>{const h=B.useContext(K2),d=tg(()=>{h?.onHide(),s?.()});return x.jsxs("div",{ref:c,...o,children:[a,n&&x.jsx(Wg,{"aria-label":r,variant:t,onClick:d})]})});W2.displayName="AbstractModalHeader";const Q2=B.forwardRef(({bsPrefix:r,className:t,closeLabel:n="Close",closeButton:s=!1,...a},o)=>(r=ii(r,"modal-header"),x.jsx(W2,{ref:o,...a,className:Ge(t,r),closeLabel:n,closeButton:s})));Q2.displayName="ModalHeader";const c3=xw("h4"),$2=B.forwardRef(({className:r,bsPrefix:t,as:n=c3,...s},a)=>(t=ii(t,"modal-title"),x.jsx(n,{ref:a,className:Ge(r,t),...s})));$2.displayName="ModalTitle";function h3(r){return x.jsx(qg,{...r,timeout:null})}function f3(r){return x.jsx(qg,{...r,timeout:null})}const J2=B.forwardRef(({bsPrefix:r,className:t,style:n,dialogClassName:s,contentClassName:a,children:o,dialogAs:c=t0,"data-bs-theme":h,"aria-labelledby":d,"aria-describedby":m,"aria-label":_,show:y=!1,animation:v=!0,backdrop:S=!0,keyboard:T=!0,onEscapeKeyDown:b,onShow:C,onHide:A,container:L,autoFocus:z=!0,enforceFocus:N=!0,restoreFocus:M=!0,restoreFocusOptions:Y,onEntered:W,onExit:q,onExiting:et,onEnter:it,onEntering:lt,onExited:H,backdropClassName:st,manager:tt,...at},O)=>{const[P,Z]=B.useState({}),[ot,R]=B.useState(!1),X=B.useRef(!1),G=B.useRef(!1),nt=B.useRef(null),[rt,ht]=Uw(),ct=X2(O,ht),Dt=tg(A),Ct=Qb();r=ii(r,"modal");const Wt=B.useMemo(()=>({onHide:Dt}),[Dt]);function ee(){return tt||u3({isRTL:Ct})}function $e(vt){if(!Ga)return;const Jt=ee().getScrollbarWidth()>0,yn=vt.scrollHeight>Oc(vt).documentElement.clientHeight;Z({paddingRight:Jt&&!yn?fp():void 0,paddingLeft:!Jt&&yn?fp():void 0})}const Je=tg(()=>{rt&&$e(rt.dialog)});Iw(()=>{Jd(window,"resize",Je),nt.current==null||nt.current()});const Ve=()=>{X.current=!0},Te=vt=>{X.current&&rt&&vt.target===rt.dialog&&(G.current=!0),X.current=!1},Rt=()=>{R(!0),nt.current=B2(rt.dialog,()=>{R(!1)})},De=vt=>{vt.target===vt.currentTarget&&Rt()},ie=vt=>{if(S==="static"){De(vt);return}if(G.current||vt.target!==vt.currentTarget){G.current=!1;return}A?.()},si=vt=>{T?b?.(vt):(vt.preventDefault(),S==="static"&&Rt())},ri=(vt,Jt)=>{vt&&$e(vt),it?.(vt,Jt)},An=vt=>{nt.current==null||nt.current(),q?.(vt)},_n=(vt,Jt)=>{lt?.(vt,Jt),U2(window,"resize",Je)},ai=vt=>{vt&&(vt.style.display=""),H?.(vt),Jd(window,"resize",Je)},se=B.useCallback(vt=>x.jsx("div",{...vt,className:Ge(`${r}-backdrop`,st,!v&&"show")}),[v,st,r]),Zi={...n,...P};Zi.display="block";const Is=vt=>x.jsx("div",{role:"dialog",...vt,style:Zi,className:Ge(t,r,ot&&`${r}-static`,!v&&"show"),onClick:S?ie:void 0,onMouseUp:Te,"data-bs-theme":h,"aria-label":_,"aria-labelledby":d,"aria-describedby":m,children:x.jsx(c,{...at,onMouseDown:Ve,className:s,contentClassName:a,children:o})});return x.jsx(K2.Provider,{value:Wt,children:x.jsx(s3,{show:y,ref:ct,backdrop:S,container:L,keyboard:!0,autoFocus:z,enforceFocus:N,restoreFocus:M,restoreFocusOptions:Y,onEscapeKeyDown:si,onShow:C,onHide:A,onEnter:ri,onEntering:_n,onEntered:W,onExit:An,onExiting:et,onExited:ai,manager:ee(),transition:v?h3:void 0,backdropTransition:v?f3:void 0,renderBackdrop:se,renderDialog:Is})})});J2.displayName="Modal";const ze=Object.assign(J2,{Body:Z2,Header:Q2,Title:$2,Footer:q2,Dialog:t0,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),$n=B.forwardRef(({bsPrefix:r,className:t,as:n="div",...s},a)=>{const o=ii(r,"row"),c=G2(),h=k2(),d=`${o}-cols`,m=[];return c.forEach(_=>{const y=s[_];delete s[_];let v;y!=null&&typeof y=="object"?{cols:v}=y:v=y;const S=_!==h?`-${_}`:"";v!=null&&m.push(`${d}${S}-${v}`)}),x.jsx(n,{ref:a,...s,className:Ge(t,o,...m)})});$n.displayName="Row";const tv=B.forwardRef(({bsPrefix:r,variant:t,animation:n="border",size:s,as:a="div",className:o,...c},h)=>{r=ii(r,"spinner");const d=`${r}-${n}`;return x.jsx(a,{ref:h,...c,className:Ge(o,d,s&&`${d}-${s}`,t&&`text-${t}`)})});tv.displayName="Spinner";const d3="_arrivalList_1p2bz_3",g3="_dashboardRow_1p2bz_13",m3="_dashboardCol_1p2bz_23",_3="_dashboardTile_1p2bz_35",y3="_tileTitle_1p2bz_79",p3="_tileValue_1p2bz_93",he={arrivalList:d3,dashboardRow:g3,dashboardCol:m3,dashboardTile:_3,tileTitle:y3,tileValue:p3},v3="_modal_e8pjh_3",E3="_modalHeader_e8pjh_11",x3="_modalTitle_e8pjh_25",S3="_countriesCount_e8pjh_41",T3="_modalBody_e8pjh_53",C3="_continentsList_e8pjh_67",R3="_continentGroup_e8pjh_75",b3="_continentName_e8pjh_91",w3="_countriesGrid_e8pjh_109",A3="_countryItem_e8pjh_121",M3="_flagContainer_e8pjh_153",O3="_countryFlag_e8pjh_165",D3="_countryInfo_e8pjh_181",L3="_countryName_e8pjh_193",N3="_countryCount_e8pjh_207",qe={modal:v3,modalHeader:E3,modalTitle:x3,countriesCount:S3,modalBody:T3,continentsList:C3,continentGroup:R3,continentName:b3,countriesGrid:w3,countryItem:A3,flagContainer:M3,countryFlag:O3,countryInfo:D3,countryName:L3,countryCount:N3},I3=({show:r,onHide:t,data:n})=>{const s=n.reduce((c,h)=>{if(!h.departureAirportCountry||!h.departureAirportContinent)return c;const d=h.departureAirportCountry,m=h.departureAirportContinent,_=h.departureAirportCountryCode;return c[d]||(c[d]={count:0,continent:m,code:_}),c[d].count++,c},{}),a=Object.entries(s).reduce((c,[h,d])=>{const m=d.continent;return c[m]||(c[m]=[]),c[m].push({name:h,count:d.count,code:d.code}),c},{}),o=Object.entries(a).map(([c,h])=>({name:c,countries:h.sort((d,m)=>m.count-d.count||d.name.localeCompare(m.name))})).sort((c,h)=>c.name.localeCompare(h.name));return x.jsxs(ze,{show:r,onHide:t,size:"lg",centered:!0,className:qe.modal,children:[x.jsx(ze.Header,{closeButton:!0,className:qe.modalHeader,children:x.jsxs(ze.Title,{className:qe.modalTitle,children:["Origin - Countries",x.jsxs("span",{className:qe.countriesCount,children:["(",Object.keys(s).length," countries)"]})]})}),x.jsx(ze.Body,{className:qe.modalBody,children:x.jsx("div",{className:qe.continentsList,children:o.map((c,h)=>x.jsxs("div",{className:qe.continentGroup,children:[x.jsx("h3",{className:qe.continentName,children:c.name}),x.jsx("div",{className:qe.countriesGrid,children:c.countries.map((d,m)=>x.jsxs("div",{className:qe.countryItem,children:[x.jsx("div",{className:qe.flagContainer,children:d.code&&x.jsx("img",{src:`https://flagsapi.com/${d.code}/shiny/64.png`,alt:`${d.name} flag`,className:qe.countryFlag,onError:_=>{_.target.style.display="none"}})}),x.jsxs("div",{className:qe.countryInfo,children:[x.jsx("span",{className:qe.countryName,children:d.name}),x.jsxs("span",{className:qe.countryCount,children:[d.count," flights"]})]})]},m))})]},h))})})]})},z3=()=>{},j3="_modal_61hz7_3",G3="_modalHeader_61hz7_11",k3="_modalTitle_61hz7_25",F3="_airlinesCount_61hz7_41",U3="_modalBody_61hz7_53",B3="_airlinesList_61hz7_67",X3="_airlinesGrid_61hz7_75",Y3="_airlineItem_61hz7_87",H3="_airlineLogoContainer_61hz7_119",P3="_airlineLogo_61hz7_119",V3="_airlineFallback_61hz7_159",Z3="_airlineInfo_61hz7_191",K3="_airlineName_61hz7_205",q3="_airlineCount_61hz7_225",an={modal:j3,modalHeader:G3,modalTitle:k3,airlinesCount:F3,modalBody:U3,airlinesList:B3,airlinesGrid:X3,airlineItem:Y3,airlineLogoContainer:H3,airlineLogo:P3,airlineFallback:V3,airlineInfo:Z3,airlineName:K3,airlineCount:q3},W3=({show:r,onHide:t,data:n})=>{const s=n.reduce((o,c)=>{if(!c.airlineIataCode||!c.airlineName)return o;const h=c.airlineIataCode,d=c.airlineName;return o[h]||(o[h]={count:0,name:d,code:h}),o[h].count++,o},{}),a=Object.values(s).sort((o,c)=>c.count-o.count||o.name.localeCompare(c.name));return x.jsxs(ze,{show:r,onHide:t,size:"lg",centered:!0,className:an.modal,children:[x.jsx(ze.Header,{closeButton:!0,className:an.modalHeader,children:x.jsxs(ze.Title,{className:an.modalTitle,children:["Arrival Airlines",x.jsxs("span",{className:an.airlinesCount,children:["(",a.length," airlines)"]})]})}),x.jsx(ze.Body,{className:an.modalBody,children:x.jsx("div",{className:an.airlinesList,children:x.jsx("div",{className:an.airlinesGrid,children:a.map((o,c)=>x.jsxs("div",{className:an.airlineItem,children:[x.jsxs("div",{className:an.airlineLogoContainer,children:[x.jsx("img",{src:`http://img.wway.io/pics/root/${o.code}@png?exar=1&rs=fit:200:200`,alt:`${o.name} logo`,className:an.airlineLogo,onError:h=>{h.target.style.display="none",h.target.nextElementSibling.style.display="flex"}}),x.jsx("div",{className:an.airlineFallback,children:o.code})]}),x.jsxs("div",{className:an.airlineInfo,children:[x.jsx("span",{className:an.airlineName,children:o.name}),x.jsxs("span",{className:an.airlineCount,children:[o.count," flights"]})]})]},c))})})})]})},Q3=()=>{},$3=()=>{},J3=()=>{},tA=({filters:r,data:t})=>{const[n,s]=B.useState(null),a={originCountries:new Set(t.map(o=>o.departureAirportCountry).filter(Boolean)).size,originAirports:new Set(t.map(o=>o.departureAirportIataCode).filter(Boolean)).size,airlines:new Set(t.map(o=>o.airlineIataCode).filter(Boolean)).size,listView:t.length,longestRoute:"CMB-FRA",shortestRoute:"CMB-MAA"};return x.jsxs(yo,{fluid:!0,className:he.arrivalList,children:[x.jsxs($n,{className:he.dashboardRow,children:[x.jsxs(Pe,{sm:6,className:he.dashboardCol,children:[x.jsxs("div",{className:he.dashboardTile,onClick:()=>s("countries"),children:[x.jsx("h3",{className:he.tileTitle,children:"Origin - Countries"}),x.jsx("p",{className:he.tileValue,children:a.originCountries})]}),x.jsxs("div",{className:he.dashboardTile,onClick:()=>s("airports"),children:[x.jsx("h3",{className:he.tileTitle,children:"Origin - Airports"}),x.jsx("p",{className:he.tileValue,children:a.originAirports})]}),x.jsxs("div",{className:he.dashboardTile,onClick:()=>s("airlines"),children:[x.jsx("h3",{className:he.tileTitle,children:"Airlines"}),x.jsx("p",{className:he.tileValue,children:a.airlines})]})]}),x.jsxs(Pe,{sm:6,className:he.dashboardCol,children:[x.jsxs("div",{className:he.dashboardTile,onClick:()=>s("listview"),children:[x.jsx("h3",{className:he.tileTitle,children:"List View"}),x.jsx("p",{className:he.tileValue,children:a.listView})]}),x.jsxs("div",{className:he.dashboardTile,onClick:()=>s("longest"),children:[x.jsx("h3",{className:he.tileTitle,children:"Longest Routes"}),x.jsx("p",{className:he.tileValue,children:a.longestRoute})]}),x.jsxs("div",{className:he.dashboardTile,onClick:()=>s("shortest"),children:[x.jsx("h3",{className:he.tileTitle,children:"Shortest Routes"}),x.jsx("p",{className:he.tileValue,children:a.shortestRoute})]})]})]}),x.jsx(I3,{show:n==="countries",onHide:()=>s(null),data:t}),x.jsx(z3,{show:n==="airports",onHide:()=>s(null),data:t}),x.jsx(W3,{show:n==="airlines",onHide:()=>s(null),data:t}),x.jsx(Q3,{show:n==="listview",onHide:()=>s(null),data:t}),x.jsx($3,{show:n==="longest",onHide:()=>s(null),data:t}),x.jsx(J3,{show:n==="shortest",onHide:()=>s(null),data:t})]})},eA="_departureList_10c7f_3",nA="_dashboardRow_10c7f_13",iA="_dashboardCol_10c7f_23",sA="_dashboardTile_10c7f_35",rA="_tileTitle_10c7f_79",aA="_tileValue_10c7f_93",fe={departureList:eA,dashboardRow:nA,dashboardCol:iA,dashboardTile:sA,tileTitle:rA,tileValue:aA},lA=()=>{},oA=()=>{},uA=()=>{},cA=()=>{},hA=()=>{},fA=()=>{},dA=({filters:r,data:t})=>{const[n,s]=B.useState(null),a={destinationCountries:new Set(t.map(o=>o.arrivalAirportCountry).filter(Boolean)).size,destinationAirports:new Set(t.map(o=>o.arrivalAirportIataCode).filter(Boolean)).size,airlines:new Set(t.map(o=>o.airlineIataCode).filter(Boolean)).size,listView:t.length,longestRoute:"CMB-FRA",shortestRoute:"CMB-MAA"};return x.jsxs(yo,{fluid:!0,className:fe.departureList,children:[x.jsxs($n,{className:fe.dashboardRow,children:[x.jsxs(Pe,{sm:6,className:fe.dashboardCol,children:[x.jsxs("div",{className:fe.dashboardTile,onClick:()=>s("countries"),children:[x.jsx("h3",{className:fe.tileTitle,children:"Destinations - Countries"}),x.jsx("p",{className:fe.tileValue,children:a.destinationCountries})]}),x.jsxs("div",{className:fe.dashboardTile,onClick:()=>s("airports"),children:[x.jsx("h3",{className:fe.tileTitle,children:"Destination - Airports"}),x.jsx("p",{className:fe.tileValue,children:a.destinationAirports})]}),x.jsxs("div",{className:fe.dashboardTile,onClick:()=>s("airlines"),children:[x.jsx("h3",{className:fe.tileTitle,children:"Airlines"}),x.jsx("p",{className:fe.tileValue,children:a.airlines})]})]}),x.jsxs(Pe,{sm:6,className:fe.dashboardCol,children:[x.jsxs("div",{className:fe.dashboardTile,onClick:()=>s("listview"),children:[x.jsx("h3",{className:fe.tileTitle,children:"List View"}),x.jsx("p",{className:fe.tileValue,children:a.listView})]}),x.jsxs("div",{className:fe.dashboardTile,onClick:()=>s("longest"),children:[x.jsx("h3",{className:fe.tileTitle,children:"Longest Routes"}),x.jsx("p",{className:fe.tileValue,children:a.longestRoute})]}),x.jsxs("div",{className:fe.dashboardTile,onClick:()=>s("shortest"),children:[x.jsx("h3",{className:fe.tileTitle,children:"Shortest Routes"}),x.jsx("p",{className:fe.tileValue,children:a.shortestRoute})]})]})]}),x.jsx(lA,{show:n==="countries",onHide:()=>s(null),data:t}),x.jsx(oA,{show:n==="airports",onHide:()=>s(null),data:t}),x.jsx(uA,{show:n==="airlines",onHide:()=>s(null),data:t}),x.jsx(cA,{show:n==="listview",onHide:()=>s(null),data:t}),x.jsx(hA,{show:n==="longest",onHide:()=>s(null),data:t}),x.jsx(fA,{show:n==="shortest",onHide:()=>s(null),data:t})]})};var ev={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_p=fn.createContext&&fn.createContext(ev),gA=["attr","size","title"];function mA(r,t){if(r==null)return{};var n=_A(r,t),s,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(a=0;a<o.length;a++)s=o[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function _A(r,t){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}function rc(){return rc=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},rc.apply(this,arguments)}function yp(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,s)}return n}function ac(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yp(Object(n),!0).forEach(function(s){yA(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):yp(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function yA(r,t,n){return t=pA(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function pA(r){var t=vA(r,"string");return typeof t=="symbol"?t:t+""}function vA(r,t){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function nv(r){return r&&r.map((t,n)=>fn.createElement(t.tag,ac({key:n},t.attr),nv(t.child)))}function Se(r){return t=>fn.createElement(EA,rc({attr:ac({},r.attr)},t),nv(r.child))}function EA(r){var t=n=>{var{attr:s,size:a,title:o}=r,c=mA(r,gA),h=a||n.size||"1em",d;return n.className&&(d=n.className),r.className&&(d=(d?d+" ":"")+r.className),fn.createElement("svg",rc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,c,{className:d,style:ac(ac({color:r.color||n.color},n.style),r.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&fn.createElement("title",null,o),r.children)};return _p!==void 0?fn.createElement(_p.Consumer,null,n=>t(n)):t(ev)}function xA(r){return Se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(r)}const SA="_modal_17xrr_3",TA="_modalHeader_17xrr_21",CA="_modalTitle_17xrr_43",RA="_itemList_17xrr_53",bA="_itemList1_17xrr_75",wA="_selectedItem_17xrr_181",AA="_modalBody_17xrr_193",MA="_modalFooter_17xrr_211",OA="_filterRow_17xrr_233",DA="_filterColumn_17xrr_251",LA="_mapColumn_17xrr_265",NA="_mapColumnMobile_17xrr_277",IA="_filterSectionContainer_17xrr_285",zA="_filterSection_17xrr_285",jA="_sectionTitle_17xrr_313",GA="_applyButton_17xrr_333",kA="_cancelButton_17xrr_365",FA="_mapContainer_17xrr_391",UA="_popup_17xrr_413",Ut={modal:SA,modalHeader:TA,modalTitle:CA,itemList:RA,itemList1:bA,selectedItem:wA,modalBody:AA,modalFooter:MA,filterRow:OA,filterColumn:DA,mapColumn:LA,mapColumnMobile:NA,filterSectionContainer:IA,filterSection:zA,sectionTitle:jA,applyButton:GA,cancelButton:kA,mapContainer:FA,popup:UA},BA=({show:r,onHide:t,airports:n=[],onApplyFilters:s})=>{const a=B.useRef(null),o=B.useRef(null),c=B.useRef(null),[h,d]=B.useState(null),[m,_]=B.useState(window.innerWidth<768),[y,v]=B.useState(""),[S,T]=B.useState(""),[b,C]=B.useState(""),[A,L]=B.useState(null),[z,N]=B.useState(!1);B.useEffect(()=>{const H=()=>{_(window.innerWidth<768),o.current&&setTimeout(()=>o.current.updateSize(),100)};return window.addEventListener("resize",H),()=>window.removeEventListener("resize",H)},[]),B.useEffect(()=>{N(!!A)},[A]);const M=[...new Set(n.map(H=>H.continent).filter(Boolean))].sort(),Y=[...new Set(n.filter(H=>y?H.continent===y:!0).map(H=>H.country_name).filter(Boolean))].sort(),W=n.filter(H=>y?H.continent===y:!0).filter(H=>S?H.country_name===S:!0).sort((H,st)=>H.name.localeCompare(st.name)),q=H=>{switch(H){case"large_airport":return"red";case"medium_airport":return"orange";case"small_airport":return"green";default:return"blue"}},et=()=>{if(!o.current)return;const H=n.filter(tt=>y?tt.continent===y:!0).filter(tt=>S?tt.country_name===S:!0).filter(tt=>b?tt.name===b:!0).map(tt=>{const at=new Bi({geometry:new Ls(fr([parseFloat(tt.longitude_deg),parseFloat(tt.latitude_deg)])),name:tt.name});return at.set("airportData",tt),at.setStyle(new gn({image:new Yi({radius:6,fill:new _i({color:q(tt.type)}),stroke:new ti({color:"white",width:1})})})),at}),st=new Zg({features:H});if(h)h.setSource(st);else{const tt=new Kg({source:st});o.current.addLayer(tt),d(tt)}if(H.length>0){const tt=H[0].getGeometry().getExtent().slice();H.forEach(at=>{const O=at.getGeometry().getExtent();tt[0]=Math.min(tt[0],O[0]),tt[1]=Math.min(tt[1],O[1]),tt[2]=Math.max(tt[2],O[2]),tt[3]=Math.max(tt[3],O[3])}),o.current.getView().fit(tt,{padding:[50,50,50,50],maxZoom:5})}else o.current.getView().setCenter([0,0]),o.current.getView().setZoom(1)};B.useEffect(()=>{if(r&&a.current){o.current?(o.current.setTarget(a.current),setTimeout(()=>o.current.updateSize(),100)):o.current=new Ug({target:a.current,layers:[new Yg({source:new Vg})],view:new Fn({center:[0,0],zoom:1})}),et();const H=new rb({element:c.current,positioning:"bottom-center",stopEvent:!1,offset:[0,-10]});o.current.addOverlay(H),o.current.on("click",tt=>{const at=o.current.forEachFeatureAtPixel(tt.pixel,O=>O);if(at){const O=at.get("airportData");C(O.name),L(O),v(O.continent),T(O.country_name)}});const st=tt=>{const at=o.current.forEachFeatureAtPixel(tt.pixel,O=>O);if(at){const O=at.get("airportData");c.current.innerHTML=`
            <b>${O.name}</b><br/>
            Type: ${O.type}<br/>
            Country: ${O.country_name}<br/>
            Continent: ${O.continent}<br/>
            ICAO: ${O.icao_code||"-"}<br/>
            IATA: ${O.iata_code||"-"}
          `,H.setPosition(tt.coordinate),c.current.style.display="block"}else c.current.style.display="none"};o.current.on("pointermove",st)}else!r&&o.current&&o.current.setTarget(null);return()=>{o.current&&o.current.setTarget(null)}},[r]),B.useEffect(()=>{et()},[y,S,b,n]);const it=()=>{s&&A&&s({continent:y,country:S,airport:A}),t()},lt=H=>{C(H);const st=W.find(tt=>tt.name===H);L(st)};return x.jsxs(ze,{show:r,onHide:t,centered:!0,size:"xl",className:Ut.modal,fullscreen:m,onEntered:()=>{o.current&&setTimeout(()=>o.current.updateSize(),100)},children:[x.jsx(ze.Header,{closeButton:!0,className:Ut.modalHeader,children:x.jsx(ze.Title,{className:Ut.modalTitle,children:"Airport Filters"})}),x.jsx(ze.Body,{className:Ut.modalBody,children:x.jsx(yo,{fluid:!0,children:x.jsxs($n,{className:Ut.filterRow,children:[x.jsxs(Pe,{md:m?12:6,className:Ut.filterColumn,children:[x.jsxs($n,{children:[x.jsx(Pe,{md:m?12:6,className:Ut.filterSectionContainer,children:x.jsxs("div",{className:Ut.filterSection,children:[x.jsx("h5",{className:Ut.sectionTitle,children:"Continent"}),x.jsxs("ul",{className:Ut.itemList,children:[x.jsx("li",{className:y?"":Ut.selectedItem,onClick:()=>{v(""),T(""),C(""),L(null)},children:"All"}),M.map(H=>x.jsx("li",{className:y===H?Ut.selectedItem:"",onClick:()=>{v(H),T(""),C(""),L(null)},children:H},H))]})]})}),x.jsx(Pe,{md:m?12:6,className:Ut.filterSectionContainer,children:x.jsxs("div",{className:Ut.filterSection,children:[x.jsx("h5",{className:Ut.sectionTitle,children:"Country"}),x.jsxs("ul",{className:Ut.itemList,children:[x.jsx("li",{className:S?"":Ut.selectedItem,onClick:()=>{T(""),C(""),L(null)},children:"All"}),Y.map(H=>x.jsx("li",{className:S===H?Ut.selectedItem:"",onClick:()=>{T(H),C(""),L(null)},children:H},H))]})]})})]}),x.jsx($n,{children:x.jsx(Pe,{xs:12,className:Ut.filterSectionContainer,children:x.jsxs("div",{className:Ut.filterSection,children:[x.jsx("h5",{className:Ut.sectionTitle,children:"Airport"}),x.jsxs("ul",{className:Ut.itemList1,children:[x.jsx("li",{className:b?"":Ut.selectedItem,onClick:()=>{C(""),L(null)},children:"All"}),W.map(H=>x.jsxs("li",{className:b===H.name?Ut.selectedItem:"",onClick:()=>lt(H.name),children:[H.name," (",H.iata_code||"N/A",")"]},H.name))]})]})})})]}),x.jsxs(Pe,{md:6,className:`${Ut.mapColumn} ${m?Ut.mapColumnMobile:""}`,children:[x.jsx("div",{ref:a,className:Ut.mapContainer}),x.jsx("div",{ref:c,className:Ut.popup})]})]})})}),x.jsxs(ze.Footer,{className:Ut.modalFooter,children:[x.jsx(eg,{variant:"outline-secondary",onClick:t,className:Ut.cancelButton,children:"Cancel"}),x.jsx(eg,{onClick:it,className:Ut.applyButton,disabled:!z,children:"Apply Filters"})]})]})};function XA(r){return Se({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M7.69,13.2c0-0.99,0.19-1.94,0.58-2.85c0.39-0.91,0.91-1.68,1.57-2.33s1.44-1.17,2.34-1.56c0.9-0.39,1.85-0.58,2.84-0.58
	c0.99,0,1.94,0.19,2.85,0.58c0.9,0.39,1.68,0.91,2.33,1.56c0.65,0.65,1.17,1.43,1.56,2.33s0.58,1.85,0.58,2.85
	c0,1.62-0.48,3.06-1.44,4.34c-0.96,1.27-2.2,2.14-3.71,2.61v3.29h-4.24v-3.25c-1.54-0.45-2.81-1.32-3.79-2.61S7.69,14.83,7.69,13.2z
	 M9.3,13.2c0,1.55,0.56,2.88,1.69,3.99c1.11,1.12,2.45,1.68,4.02,1.68c1.03,0,1.99-0.25,2.86-0.76c0.88-0.51,1.57-1.2,2.09-2.07
	c0.51-0.87,0.77-1.82,0.77-2.85c0-0.77-0.15-1.5-0.45-2.21s-0.71-1.31-1.22-1.82c-0.51-0.51-1.12-0.92-1.83-1.22
	c-0.71-0.3-1.44-0.45-2.21-0.45c-0.77,0-1.5,0.15-2.21,0.45s-1.31,0.71-1.82,1.22c-0.51,0.51-0.92,1.12-1.22,1.82
	C9.45,11.7,9.3,12.43,9.3,13.2z M9.88,13.56v-0.72h2.17v0.72H9.88z M10.97,10.02l0.52-0.52l1.52,1.52l-0.52,0.53L10.97,10.02z
	 M13.5,14.95c0-0.42,0.15-0.78,0.44-1.09c0.29-0.31,0.65-0.47,1.06-0.48l2.73-4.49l0.66,0.35l-2.02,4.83
	c0.18,0.25,0.26,0.54,0.26,0.88c0,0.44-0.15,0.81-0.46,1.11c-0.31,0.3-0.68,0.45-1.12,0.45c-0.43,0-0.8-0.15-1.1-0.45
	C13.65,15.76,13.5,15.39,13.5,14.95z M14.81,10.28V8.12h0.69v2.17H14.81z M17.75,13.55v-0.74h2.17v0.74H17.75z`},child:[]}]})(r)}function pp(r){return Se({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.37,14.62c0-0.24,0.08-0.45,0.25-0.62c0.17-0.16,0.38-0.24,0.6-0.24h2.04c0.23,0,0.42,0.08,0.58,0.25
	c0.15,0.17,0.23,0.37,0.23,0.61S8,15.06,7.85,15.23c-0.15,0.17-0.35,0.25-0.58,0.25H5.23c-0.23,0-0.43-0.08-0.6-0.25
	C4.46,15.06,4.37,14.86,4.37,14.62z M7.23,21.55c0-0.23,0.08-0.43,0.23-0.61l1.47-1.43c0.15-0.16,0.35-0.23,0.59-0.23
	c0.24,0,0.44,0.08,0.6,0.23s0.24,0.34,0.24,0.57c0,0.24-0.08,0.46-0.24,0.64L8.7,22.14c-0.41,0.32-0.82,0.32-1.23,0
	C7.31,21.98,7.23,21.78,7.23,21.55z M7.23,7.71c0-0.23,0.08-0.43,0.23-0.61C7.66,6.93,7.87,6.85,8.1,6.85
	c0.22,0,0.42,0.08,0.59,0.24l1.43,1.47c0.16,0.15,0.24,0.35,0.24,0.59c0,0.24-0.08,0.44-0.24,0.6s-0.36,0.24-0.6,0.24
	c-0.24,0-0.44-0.08-0.59-0.24L7.47,8.32C7.31,8.16,7.23,7.95,7.23,7.71z M9.78,14.62c0-0.93,0.23-1.8,0.7-2.6s1.1-1.44,1.91-1.91
	s1.67-0.7,2.6-0.7c0.7,0,1.37,0.14,2.02,0.42c0.64,0.28,1.2,0.65,1.66,1.12c0.47,0.47,0.84,1.02,1.11,1.66
	c0.27,0.64,0.41,1.32,0.41,2.02c0,0.94-0.23,1.81-0.7,2.61c-0.47,0.8-1.1,1.43-1.9,1.9c-0.8,0.47-1.67,0.7-2.61,0.7
	s-1.81-0.23-2.61-0.7c-0.8-0.47-1.43-1.1-1.9-1.9C10.02,16.43,9.78,15.56,9.78,14.62z M11.48,14.62c0,0.98,0.34,1.81,1.03,2.5
	c0.68,0.69,1.51,1.04,2.49,1.04s1.81-0.35,2.5-1.04s1.04-1.52,1.04-2.5c0-0.96-0.35-1.78-1.04-2.47c-0.69-0.68-1.52-1.02-2.5-1.02
	c-0.97,0-1.8,0.34-2.48,1.02C11.82,12.84,11.48,13.66,11.48,14.62z M14.14,22.4c0-0.24,0.08-0.44,0.25-0.6s0.37-0.24,0.6-0.24
	c0.24,0,0.45,0.08,0.61,0.24s0.24,0.36,0.24,0.6v1.99c0,0.24-0.08,0.45-0.25,0.62c-0.17,0.17-0.37,0.25-0.6,0.25
	s-0.44-0.08-0.6-0.25c-0.17-0.17-0.25-0.38-0.25-0.62V22.4z M14.14,6.9V4.86c0-0.23,0.08-0.43,0.25-0.6C14.56,4.09,14.76,4,15,4
	s0.43,0.08,0.6,0.25c0.17,0.17,0.25,0.37,0.25,0.6V6.9c0,0.23-0.08,0.42-0.25,0.58S15.23,7.71,15,7.71s-0.44-0.08-0.6-0.23
	S14.14,7.13,14.14,6.9z M19.66,20.08c0-0.23,0.08-0.42,0.23-0.56c0.15-0.16,0.34-0.23,0.56-0.23c0.24,0,0.44,0.08,0.6,0.23
	l1.46,1.43c0.16,0.17,0.24,0.38,0.24,0.61c0,0.23-0.08,0.43-0.24,0.59c-0.4,0.31-0.8,0.31-1.2,0l-1.42-1.42
	C19.74,20.55,19.66,20.34,19.66,20.08z M19.66,9.16c0-0.25,0.08-0.45,0.23-0.59l1.42-1.47c0.17-0.16,0.37-0.24,0.59-0.24
	c0.24,0,0.44,0.08,0.6,0.25c0.17,0.17,0.25,0.37,0.25,0.6c0,0.25-0.08,0.46-0.24,0.62l-1.46,1.43c-0.18,0.16-0.38,0.24-0.6,0.24
	c-0.23,0-0.41-0.08-0.56-0.24S19.66,9.4,19.66,9.16z M21.92,14.62c0-0.24,0.08-0.44,0.24-0.62c0.16-0.16,0.35-0.24,0.57-0.24h2.02
	c0.23,0,0.43,0.09,0.6,0.26c0.17,0.17,0.26,0.37,0.26,0.6s-0.09,0.43-0.26,0.6c-0.17,0.17-0.37,0.25-0.6,0.25h-2.02
	c-0.23,0-0.43-0.08-0.58-0.25S21.92,14.86,21.92,14.62z`},child:[]}]})(r)}function YA(r){return Se({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M7.56,17.19c0-0.88,0.24-1.89,0.72-3.03s1.1-2.25,1.86-3.31c1.56-2.06,2.92-3.62,4.06-4.67l0.75-0.72
	c0.25,0.26,0.53,0.5,0.83,0.72c0.41,0.42,1.04,1.11,1.88,2.09s1.57,1.85,2.17,2.65c0.71,1.01,1.32,2.1,1.81,3.25
	s0.74,2.16,0.74,3.03c0,1-0.19,1.95-0.58,2.86c-0.39,0.91-0.91,1.7-1.57,2.36c-0.66,0.66-1.45,1.19-2.37,1.58
	c-0.92,0.39-1.89,0.59-2.91,0.59c-1,0-1.95-0.19-2.86-0.57c-0.91-0.38-1.7-0.89-2.36-1.55c-0.66-0.65-1.19-1.44-1.58-2.35
	S7.56,18.23,7.56,17.19z M9.82,14.26c0,0.83,0.17,1.49,0.52,1.99c0.35,0.49,0.88,0.74,1.59,0.74c0.72,0,1.25-0.25,1.61-0.74
	c0.35-0.49,0.53-1.15,0.54-1.99c-0.01-0.84-0.19-1.5-0.54-2c-0.35-0.49-0.89-0.74-1.61-0.74c-0.71,0-1.24,0.25-1.59,0.74
	C9.99,12.76,9.82,13.42,9.82,14.26z M11.39,14.26c0-0.15,0-0.27,0-0.35s0.01-0.19,0.02-0.33c0.01-0.14,0.02-0.25,0.05-0.32
	s0.05-0.16,0.09-0.24c0.04-0.08,0.09-0.15,0.15-0.18c0.07-0.04,0.14-0.06,0.23-0.06c0.14,0,0.25,0.04,0.33,0.12s0.14,0.21,0.17,0.38
	c0.03,0.18,0.05,0.32,0.06,0.45s0.01,0.3,0.01,0.52c0,0.23,0,0.4-0.01,0.52c-0.01,0.12-0.03,0.27-0.06,0.45
	c-0.03,0.17-0.09,0.3-0.17,0.38s-0.19,0.12-0.33,0.12c-0.09,0-0.16-0.02-0.23-0.06c-0.07-0.04-0.12-0.1-0.15-0.18
	c-0.04-0.08-0.07-0.17-0.09-0.24c-0.02-0.08-0.04-0.19-0.05-0.32c-0.01-0.14-0.02-0.25-0.02-0.32S11.39,14.41,11.39,14.26z
	 M11.98,22.01h1.32l4.99-10.74h-1.35L11.98,22.01z M16.28,19.02c0.01,0.84,0.2,1.5,0.55,2c0.35,0.49,0.89,0.74,1.6,0.74
	c0.72,0,1.25-0.25,1.6-0.74c0.35-0.49,0.52-1.16,0.53-2c-0.01-0.84-0.18-1.5-0.53-1.99c-0.35-0.49-0.88-0.74-1.6-0.74
	c-0.71,0-1.25,0.25-1.6,0.74C16.47,17.52,16.29,18.18,16.28,19.02z M17.85,19.02c0-0.23,0-0.4,0.01-0.52
	c0.01-0.12,0.03-0.27,0.06-0.45s0.09-0.3,0.17-0.38s0.19-0.12,0.33-0.12c0.09,0,0.17,0.02,0.24,0.06c0.07,0.04,0.12,0.1,0.16,0.19
	c0.04,0.09,0.07,0.17,0.1,0.24s0.04,0.18,0.05,0.32l0.01,0.32l0,0.34c0,0.16,0,0.28,0,0.35l-0.01,0.32l-0.05,0.32l-0.1,0.24
	l-0.16,0.19l-0.24,0.06c-0.14,0-0.25-0.04-0.33-0.12s-0.14-0.21-0.17-0.38c-0.03-0.18-0.05-0.33-0.06-0.45S17.85,19.25,17.85,19.02z
	`},child:[]}]})(r)}function HA(r){return Se({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M3.1,16.97c0,0.24,0.09,0.45,0.28,0.62c0.16,0.19,0.37,0.28,0.63,0.28H18.7c0.29,0,0.53,0.1,0.73,0.3
	c0.2,0.2,0.3,0.45,0.3,0.74c0,0.29-0.1,0.53-0.3,0.72c-0.2,0.19-0.44,0.29-0.74,0.29c-0.29,0-0.54-0.1-0.73-0.29
	c-0.16-0.18-0.36-0.26-0.6-0.26c-0.25,0-0.46,0.09-0.64,0.26s-0.27,0.38-0.27,0.61c0,0.25,0.09,0.46,0.28,0.63
	c0.56,0.55,1.22,0.83,1.96,0.83c0.78,0,1.45-0.27,2.01-0.81c0.56-0.54,0.83-1.19,0.83-1.97s-0.28-1.44-0.84-2
	c-0.56-0.56-1.23-0.84-2-0.84H4.01c-0.25,0-0.46,0.09-0.64,0.26C3.19,16.51,3.1,16.72,3.1,16.97z M3.1,13.69
	c0,0.23,0.09,0.43,0.28,0.61c0.17,0.18,0.38,0.26,0.63,0.26h20.04c0.78,0,1.45-0.27,2.01-0.82c0.56-0.54,0.84-1.2,0.84-1.97
	c0-0.77-0.28-1.44-0.84-1.99s-1.23-0.83-2.01-0.83c-0.77,0-1.42,0.27-1.95,0.8c-0.18,0.16-0.27,0.38-0.27,0.67
	c0,0.26,0.09,0.47,0.26,0.63c0.17,0.16,0.38,0.24,0.63,0.24c0.24,0,0.45-0.08,0.63-0.24c0.19-0.21,0.42-0.31,0.7-0.31
	c0.29,0,0.53,0.1,0.73,0.3c0.2,0.2,0.3,0.44,0.3,0.73c0,0.29-0.1,0.53-0.3,0.72c-0.2,0.19-0.44,0.29-0.73,0.29H4.01
	c-0.25,0-0.46,0.09-0.64,0.26C3.19,13.23,3.1,13.44,3.1,13.69z`},child:[]}]})(r)}function PA(r){return Se({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M2.88,15.47c0-0.28,0.1-0.5,0.3-0.68c0.17-0.18,0.4-0.26,0.68-0.26h2.31c0.27,0,0.49,0.09,0.67,0.27
	c0.17,0.18,0.26,0.4,0.26,0.67c0,0.28-0.09,0.52-0.27,0.71c-0.18,0.19-0.4,0.29-0.66,0.29H3.87c-0.27,0-0.5-0.1-0.69-0.3
	C2.98,15.97,2.88,15.74,2.88,15.47z M6.17,7.61c0-0.28,0.08-0.51,0.25-0.68c0.2-0.2,0.43-0.3,0.7-0.3c0.29,0,0.51,0.1,0.68,0.3
	l1.62,1.63c0.46,0.44,0.46,0.89,0,1.35c-0.19,0.19-0.4,0.28-0.65,0.28c-0.22,0-0.44-0.09-0.68-0.28L6.43,8.29
	C6.26,8.11,6.17,7.88,6.17,7.61z M8.14,20.89c0-0.26,0.1-0.49,0.3-0.69c0.18-0.18,0.41-0.27,0.68-0.27h3.22
	c0.11,0,0.2,0.02,0.28,0.08l2.35,2.22L17.36,20c0.07-0.05,0.17-0.08,0.29-0.08h3.3c0.27,0,0.5,0.09,0.69,0.28
	c0.19,0.19,0.29,0.42,0.29,0.68c0,0.27-0.1,0.5-0.29,0.69c-0.19,0.19-0.42,0.29-0.69,0.29h-2.68l-3.14,2.84
	c-0.12,0.09-0.23,0.09-0.33,0l-3.08-2.84h-2.6c-0.27,0-0.5-0.1-0.69-0.29C8.24,21.39,8.14,21.16,8.14,20.89z M9.08,15.47
	c0,0.99,0.19,1.87,0.58,2.62c0.06,0.11,0.15,0.16,0.27,0.16h1.87c0.08,0,0.13-0.02,0.15-0.07c0.02-0.05-0.01-0.11-0.07-0.18
	c-0.59-0.74-0.89-1.59-0.89-2.53c0-1.1,0.39-2.04,1.18-2.81c0.79-0.77,1.74-1.16,2.85-1.16c1.1,0,2.04,0.39,2.83,1.16
	c0.78,0.78,1.18,1.71,1.18,2.8c0,0.94-0.3,1.79-0.89,2.53c-0.07,0.07-0.09,0.13-0.07,0.18c0.02,0.05,0.07,0.07,0.15,0.07h1.88
	c0.13,0,0.21-0.05,0.24-0.16c0.41-0.78,0.62-1.66,0.62-2.62c0-0.79-0.16-1.56-0.47-2.29s-0.74-1.37-1.27-1.9s-1.16-0.95-1.89-1.27
	c-0.73-0.32-1.5-0.47-2.3-0.47c-0.8,0-1.57,0.16-2.3,0.47c-0.73,0.32-1.36,0.74-1.89,1.27s-0.95,1.16-1.27,1.9
	S9.08,14.68,9.08,15.47z M14.04,6.66V4.33c0-0.27,0.1-0.5,0.29-0.69s0.42-0.29,0.69-0.29c0.27,0,0.5,0.1,0.69,0.29
	s0.29,0.42,0.29,0.69v2.32c0,0.27-0.1,0.5-0.29,0.69c-0.19,0.19-0.42,0.29-0.69,0.29c-0.27,0-0.5-0.1-0.69-0.29
	C14.13,7.15,14.04,6.93,14.04,6.66z M20.31,9.24c0-0.28,0.09-0.51,0.26-0.67l1.63-1.63c0.16-0.2,0.39-0.3,0.68-0.3
	c0.27,0,0.5,0.1,0.68,0.29c0.18,0.19,0.27,0.42,0.27,0.69c0,0.28-0.08,0.51-0.25,0.68l-1.66,1.63c-0.23,0.19-0.46,0.28-0.69,0.28
	c-0.26,0-0.48-0.09-0.66-0.28C20.4,9.74,20.31,9.51,20.31,9.24z M22.9,15.47c0-0.27,0.09-0.49,0.26-0.67
	c0.17-0.18,0.4-0.27,0.67-0.27h2.32c0.27,0,0.5,0.09,0.69,0.27c0.19,0.18,0.29,0.4,0.29,0.67c0,0.27-0.1,0.5-0.29,0.7
	c-0.19,0.2-0.42,0.3-0.69,0.3h-2.32c-0.26,0-0.48-0.1-0.66-0.29C22.99,15.99,22.9,15.75,22.9,15.47z`},child:[]}]})(r)}function Hu(r){return Se({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(r)}function VA(r){return Se({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(r)}function vp(r){return Se({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm82.29 357.6c-3.9 3.88-7.99 7.95-11.31 11.28-2.99 3-5.1 6.7-6.17 10.71-1.51 5.66-2.73 11.38-4.77 16.87l-17.39 46.85c-13.76 3-28 4.69-42.65 4.69v-27.38c1.69-12.62-7.64-36.26-22.63-51.25-6-6-9.37-14.14-9.37-22.63v-32.01c0-11.64-6.27-22.34-16.46-27.97-14.37-7.95-34.81-19.06-48.81-26.11-11.48-5.78-22.1-13.14-31.65-21.75l-.8-.72a114.792 114.792 0 0 1-18.06-20.74c-9.38-13.77-24.66-36.42-34.59-51.14 20.47-45.5 57.36-82.04 103.2-101.89l24.01 12.01C203.48 89.74 216 82.01 216 70.11v-11.3c7.99-1.29 16.12-2.11 24.39-2.42l28.3 28.3c6.25 6.25 6.25 16.38 0 22.63L264 112l-10.34 10.34c-3.12 3.12-3.12 8.19 0 11.31l4.69 4.69c3.12 3.12 3.12 8.19 0 11.31l-8 8a8.008 8.008 0 0 1-5.66 2.34h-8.99c-2.08 0-4.08.81-5.58 2.27l-9.92 9.65a8.008 8.008 0 0 0-1.58 9.31l15.59 31.19c2.66 5.32-1.21 11.58-7.15 11.58h-5.64c-1.93 0-3.79-.7-5.24-1.96l-9.28-8.06a16.017 16.017 0 0 0-15.55-3.1l-31.17 10.39a11.95 11.95 0 0 0-8.17 11.34c0 4.53 2.56 8.66 6.61 10.69l11.08 5.54c9.41 4.71 19.79 7.16 30.31 7.16s22.59 27.29 32 32h66.75c8.49 0 16.62 3.37 22.63 9.37l13.69 13.69a30.503 30.503 0 0 1 8.93 21.57 46.536 46.536 0 0 1-13.72 32.98zM417 274.25c-5.79-1.45-10.84-5-14.15-9.97l-17.98-26.97a23.97 23.97 0 0 1 0-26.62l19.59-29.38c2.32-3.47 5.5-6.29 9.24-8.15l12.98-6.49C440.2 193.59 448 223.87 448 256c0 8.67-.74 17.16-1.82 25.54L417 274.25z"},child:[]}]})(r)}function ZA(r){return Se({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(r)}function KA(r){return Se({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(r)}function qA(r){return Se({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(r)}function WA(r){return Se({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 117.66v346.32c0 11.32 11.43 19.06 21.94 14.86L160 416V32L20.12 87.95A32.006 32.006 0 0 0 0 117.66zM192 416l192 64V96L192 32v384zM554.06 33.16L416 96v384l139.88-55.95A31.996 31.996 0 0 0 576 394.34V48.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(r)}function Ep(r){return Se({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 448H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h608c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM80.55 341.27c6.28 6.84 15.1 10.72 24.33 10.71l130.54-.18a65.62 65.62 0 0 0 29.64-7.12l290.96-147.65c26.74-13.57 50.71-32.94 67.02-58.31 18.31-28.48 20.3-49.09 13.07-63.65-7.21-14.57-24.74-25.27-58.25-27.45-29.85-1.94-59.54 5.92-86.28 19.48l-98.51 49.99-218.7-82.06a17.799 17.799 0 0 0-18-1.11L90.62 67.29c-10.67 5.41-13.25 19.65-5.17 28.53l156.22 98.1-103.21 52.38-72.35-36.47a17.804 17.804 0 0 0-16.07.02L9.91 230.22c-10.44 5.3-13.19 19.12-5.57 28.08l76.21 82.97z"},child:[]}]})(r)}function QA(r){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]},{tag:"path",attr:{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},child:[]}]})(r)}function $A(r){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 1.74.5 3.37 1.41 4.84.95 1.54 2.2 2.86 3.16 4.4.47.75.81 1.45 1.17 2.26.26.55.47 1.5 1.26 1.5s1-.95 1.25-1.5c.37-.81.7-1.51 1.17-2.26.96-1.53 2.21-2.85 3.16-4.4C18.5 12.37 19 10.74 19 9c0-3.87-3.13-7-7-7zm0 9.75a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"},child:[]}]})(r)}function JA(r){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m14 6-3.75 5 2.85 3.8-1.6 1.2C9.81 13.75 7 10 7 10l-6 8h22L14 6z"},child:[]}]})(r)}function tM(r){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15 11V5l-3-3-3 3v2H3v14h18V11h-6zm-8 8H5v-2h2v2zm0-4H5v-2h2v2zm0-4H5V9h2v2zm6 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V9h2v2zm0-4h-2V5h2v2zm6 12h-2v-2h2v2zm0-4h-2v-2h2v2z"},child:[]}]})(r)}function eM(r){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"},child:[]}]})(r)}async function nM(r,t){const s=`https://api.openweathermap.org/data/2.5/weather?lat=${r}&lon=${t}&units=metric&appid=9f5fe5d05185b51f6418f134bf863caa`;try{const a=await fetch(s);if(!a.ok)throw new Error(`HTTP error! Status: ${a.status}`);const o=await a.json(),c=m=>new Date(m*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),h=m=>new Date(m*1e3).toLocaleString(),d={temperature:`${o.main.temp.toFixed(1)}°C`,temperatureMax:`${o.main.temp_max}°C`,temperatureMin:`${o.main.temp_min}°C`,pressure:`${o.main.pressure} hPa`,sunRise:c(o.sys.sunrise),sunSet:c(o.sys.sunset),sunRiseFull:h(o.sys.sunrise),sunSetFull:h(o.sys.sunset),windSpeed:`${o.wind.speed} m/s`,windDirection:`${o.wind.deg}°`,description:o.weather[0].description,descriptionIcon:`https://openweathermap.org/img/wn/${o.weather[0].icon}@4x.png`,humidity:`${o.main.humidity}%`,visibility:`${o.visibility/1e3} km`};return console.log("Formatted Weather Data:",d),d}catch(a){return console.error("Error fetching weather data:",a),null}}function iM(r,t,n){const s=d=>{const m=d.startsWith("-")?-1:1,[_,y]=d.replace("+","").replace("-","").split(":").map(Number);return m*(_*60+y)},a=s(r),c=s(t)-a,h=new Date(n.getTime()+c*60*1e3);return console.log(h),h}const sM="_modal_zst0n_3",rM="_modalHeader_zst0n_17",aM="_modalTitle_zst0n_39",lM="_titleContent_zst0n_55",oM="_titleText_zst0n_69",uM="_airportName_zst0n_83",cM="_airportLocation_zst0n_97",hM="_countryRow_zst0n_109",fM="_flag_zst0n_123",dM="_modalBody_zst0n_137",gM="_placeholder_zst0n_147",mM="_detailsWrapper_zst0n_161",_M="_section_zst0n_173",yM="_sectionTitle_zst0n_187",pM="_sectionIcon_zst0n_211",vM="_distance_zst0n_219",EM="_infoGrid_zst0n_241",xM="_infoItem_zst0n_253",SM="_infoIcon_zst0n_267",TM="_infoContent_zst0n_291",CM="_infoLabel_zst0n_301",RM="_infoValue_zst0n_315",bM="_loading_zst0n_327",wM="_noData_zst0n_347",AM="_weatherGrid_zst0n_361",MM="_weatherMain_zst0n_373",OM="_weatherIcon_zst0n_387",DM="_temp_zst0n_397",LM="_desc_zst0n_413",NM="_weatherDetails_zst0n_427",IM="_weatherItem_zst0n_441",zM="_weatherIconSmall_zst0n_463",jM="_link_zst0n_483",GM="_linkIcon_zst0n_509",kM="_distanceSection_zst0n_519",FM="_distanceContent_zst0n_527",UM="_distanceValue_zst0n_543",BM="_navigationLink_zst0n_567",$={modal:sM,modalHeader:rM,modalTitle:aM,titleContent:lM,titleText:oM,airportName:uM,airportLocation:cM,countryRow:hM,flag:fM,modalBody:dM,placeholder:gM,detailsWrapper:mM,section:_M,sectionTitle:yM,sectionIcon:pM,distance:vM,infoGrid:EM,infoItem:xM,infoIcon:SM,infoContent:TM,infoLabel:CM,infoValue:RM,loading:bM,noData:wM,weatherGrid:AM,weatherMain:MM,weatherIcon:OM,temp:DM,desc:LM,weatherDetails:NM,weatherItem:IM,weatherIconSmall:zM,link:jM,linkIcon:GM,distanceSection:kM,distanceContent:FM,distanceValue:UM,navigationLink:BM},XM=(r,t,n,s)=>{if(r==null||t==null||n==null||s==null)return null;const a=y=>y*Math.PI/180,o=6371,c=a(n-r),h=a(s-t),d=Math.sin(c/2)*Math.sin(c/2)+Math.cos(a(r))*Math.cos(a(n))*Math.sin(h/2)*Math.sin(h/2),m=2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d));return(o*m).toFixed(2)},YM=({show:r,onHide:t,airportInfo:n,locationDetails:s,currentLocationDetails:a,currentGPS:o})=>{const[c,h]=B.useState(null),[d,m]=B.useState(!1),[_,y]=B.useState(null),[v,S]=B.useState(null);B.useEffect(()=>{r&&n?.latitude_deg&&n?.longitude_deg&&(m(!0),nM(n.latitude_deg,n.longitude_deg).then(C=>{h(C),m(!1)}))},[r,n]),B.useEffect(()=>{if(!s||!a)return;const C=()=>{const L=a.offsetDST,z=s.offsetDST;if(L&&z){const M=iM(L,z,new Date);y(M)}};C();const A=setInterval(C,6e4);return()=>clearInterval(A)},[s,a]),B.useEffect(()=>{if(o?.lat!=null&&o?.lng!=null&&n?.latitude_deg!=null&&n?.longitude_deg!=null){const C=XM(o.lat,o.lng,n.latitude_deg,n.longitude_deg);S(C)}},[o,n]);const T=(C,A)=>{if(C==null||A==null)return"N/A";const L=C>=0?"N":"S",z=A>=0?"E":"W";return`${Math.abs(C).toFixed(4)}° ${L}, ${Math.abs(A).toFixed(4)}° ${z}`},b=C=>C?C.toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):"";return x.jsxs(ze,{show:r,onHide:t,size:"lg","aria-labelledby":"airport-modal",className:$.modal,centered:!0,children:[x.jsx(ze.Header,{closeButton:!0,className:$.modalHeader,children:n&&x.jsx(ze.Title,{className:$.modalTitle,children:x.jsx("div",{className:$.titleContent,children:x.jsxs("div",{className:$.titleText,children:[x.jsx("span",{className:$.airportName,children:`${n.name} (${n.iata_code})`}),x.jsxs("div",{className:$.countryRow,children:[x.jsx("span",{className:$.airportLocation,children:`${n.region_name}, ${n.country_name}`}),n.iso_country&&x.jsx("img",{src:`https://flagsapi.com/${n.iso_country}/shiny/64.png`,alt:`Flag of ${n.country_name}`,className:$.flag})]})]})})})}),x.jsx(ze.Body,{className:$.modalBody,children:n?x.jsxs("div",{className:$.detailsWrapper,children:[x.jsxs("div",{className:$.section,children:[x.jsxs("h5",{className:$.sectionTitle,children:[x.jsx(Ep,{className:$.sectionIcon}),"Airport Details"]}),x.jsxs("div",{className:$.infoGrid,children:[x.jsxs("div",{className:$.infoItem,children:[x.jsx("div",{className:$.infoIcon,children:x.jsx(Ep,{})}),x.jsxs("div",{className:$.infoContent,children:[x.jsx("span",{className:$.infoLabel,children:"Airport Type"}),x.jsx("span",{className:$.infoValue,children:n.type})]})]}),n.iata_code&&x.jsxs("div",{className:$.infoItem,children:[x.jsx("div",{className:$.infoIcon,children:x.jsx(vp,{})}),x.jsxs("div",{className:$.infoContent,children:[x.jsx("span",{className:$.infoLabel,children:"Iata Code"}),x.jsx("span",{className:$.infoValue,children:n.iata_code})]})]}),n.icao_code&&x.jsxs("div",{className:$.infoItem,children:[x.jsx("div",{className:$.infoIcon,children:x.jsx(vp,{})}),x.jsxs("div",{className:$.infoContent,children:[x.jsx("span",{className:$.infoLabel,children:"ICAO Code"}),x.jsx("span",{className:$.infoValue,children:n.icao_code})]})]}),s&&x.jsxs("div",{className:$.infoItem,children:[x.jsx("div",{className:$.infoIcon,children:x.jsx(ZA,{})}),x.jsxs("div",{className:$.infoContent,children:[x.jsx("span",{className:$.infoLabel,children:"TimeZone"}),x.jsx("span",{className:$.infoValue,children:s.timezoneName}),x.jsx("span",{className:$.infoValue,children:`(GMT${s.offsetDST})`})]})]}),x.jsxs("div",{className:$.infoItem,children:[x.jsx("div",{className:$.infoIcon,children:x.jsx(QA,{})}),x.jsxs("div",{className:$.infoContent,children:[x.jsx("span",{className:$.infoLabel,children:"Current Date/ Time"}),x.jsx("span",{className:$.infoValue,children:b(_)})]})]}),x.jsxs("div",{className:$.infoItem,children:[x.jsx("div",{className:$.infoIcon,children:x.jsx(JA,{})}),x.jsxs("div",{className:$.infoContent,children:[x.jsx("span",{className:$.infoLabel,children:"Elevation"}),x.jsx("span",{className:$.infoValue,children:n.elevation_ft?`${n.elevation_ft} ft`:"N/A"})]})]}),x.jsxs("div",{className:$.infoItem,children:[x.jsx("div",{className:$.infoIcon,children:x.jsx(qA,{})}),x.jsxs("div",{className:$.infoContent,children:[x.jsx("span",{className:$.infoLabel,children:"GPS Coordinates"}),x.jsx("span",{className:$.infoValue,children:T(n.latitude_deg,n.longitude_deg)})]})]}),x.jsxs("div",{className:$.infoItem,children:[x.jsx("div",{className:$.infoIcon,children:x.jsx(tM,{})}),x.jsxs("div",{className:$.infoContent,children:[x.jsx("span",{className:$.infoLabel,children:"Municipality"}),x.jsx("span",{className:$.infoValue,children:n.municipality||"N/A"})]})]}),x.jsxs("div",{className:$.infoItem,children:[x.jsx("div",{className:$.infoIcon,children:x.jsx(WA,{})}),x.jsxs("div",{className:$.infoContent,children:[x.jsx("span",{className:$.infoLabel,children:"Region"}),x.jsx("span",{className:$.infoValue,children:n.region_name||"N/A"})]})]}),x.jsxs("div",{className:$.infoItem,children:[x.jsx("div",{className:$.infoIcon,children:x.jsx(eM,{})}),x.jsxs("div",{className:$.infoContent,children:[x.jsx("span",{className:$.infoLabel,children:"Continent"}),x.jsx("span",{className:$.infoValue,children:n.continent||"N/A"})]})]}),n.home_link&&x.jsxs("div",{className:$.infoItem,children:[x.jsx("div",{className:$.infoIcon,children:x.jsx(KA,{})}),x.jsxs("div",{className:$.infoContent,children:[x.jsx("span",{className:$.infoLabel,children:"Website"}),x.jsx("span",{className:$.infoValue,children:x.jsxs("a",{href:n.home_link,target:"_blank",rel:"noopener noreferrer",className:$.link,children:["Visit Website"," ",x.jsx(Hu,{className:$.linkIcon})]})})]})]}),n.wikipedia_link&&x.jsxs("div",{className:$.infoItem,children:[x.jsx("div",{className:$.infoIcon,children:x.jsx(Hu,{})}),x.jsxs("div",{className:$.infoContent,children:[x.jsx("span",{className:$.infoLabel,children:"More Info"}),x.jsx("span",{className:$.infoValue,children:x.jsxs("a",{href:n.wikipedia_link,target:"_blank",rel:"noopener noreferrer",className:$.link,children:["Wikipedia"," ",x.jsx(Hu,{className:$.linkIcon})]})})]})]})]})]}),x.jsxs("div",{className:$.section,children:[x.jsxs("h5",{className:$.sectionTitle,children:[x.jsx(pp,{className:$.sectionIcon}),"Weather Conditions"]}),d&&x.jsxs("div",{className:$.loading,children:[x.jsx(tv,{animation:"border",size:"sm"})," Loading weather..."]}),!d&&c?x.jsxs("div",{className:$.weatherGrid,children:[x.jsxs("div",{className:$.weatherMain,children:[x.jsx("img",{src:c.descriptionIcon,alt:c.description,className:$.weatherIcon}),x.jsxs("div",{children:[x.jsx("span",{className:$.temp,children:c.temperature}),x.jsx("p",{className:$.desc,children:c.description})]})]}),x.jsxs("div",{className:$.weatherDetails,children:[x.jsxs("div",{className:$.weatherItem,children:[x.jsx(YA,{className:$.weatherIconSmall}),x.jsx("span",{children:c.humidity})]}),x.jsxs("div",{className:$.weatherItem,children:[x.jsx(XA,{className:$.weatherIconSmall}),x.jsx("span",{children:c.pressure})]}),x.jsxs("div",{className:$.weatherItem,children:[x.jsx(HA,{className:$.weatherIconSmall}),x.jsxs("span",{children:[c.windSpeed," (",c.windDirection,")"]})]}),x.jsxs("div",{className:$.weatherItem,children:[x.jsx(VA,{className:$.weatherIconSmall}),x.jsx("span",{children:c.visibility})]}),x.jsxs("div",{className:$.weatherItem,children:[x.jsx(pp,{className:$.weatherIconSmall}),x.jsx("span",{children:c.sunRise})]}),x.jsxs("div",{className:$.weatherItem,children:[x.jsx(PA,{className:$.weatherIconSmall}),x.jsx("span",{children:c.sunSet})]})]})]}):!d&&x.jsx("p",{className:$.noData,children:"Weather data not available"})]}),x.jsxs("div",{className:`${$.section} ${$.distanceSection}`,children:[x.jsxs("h5",{className:$.sectionTitle,children:[x.jsx($A,{className:$.sectionIcon}),"Distance from Current Location"]}),v!=null?x.jsxs("div",{className:$.distanceContent,children:[x.jsxs("p",{className:$.distanceValue,children:["You are ",v," km (air distance) from this airport"]}),x.jsxs("a",{href:`https://www.google.com/maps/dir/?api=1&destination=${n.latitude_deg},${n.longitude_deg}`,target:"_blank",rel:"noopener noreferrer",className:$.navigationLink,children:["Navigate to Airport"," ",x.jsx(Hu,{className:$.linkIcon})]})]}):x.jsx("p",{className:$.distance,children:"Distance not available"})]})]}):x.jsx("div",{className:$.placeholder,children:x.jsx("p",{children:"No airport selected"})})})]})};function HM(){return new Promise((r,t)=>{if(!navigator.geolocation){t(new Error("Geolocation is not supported by this browser."));return}navigator.geolocation.getCurrentPosition(n=>{const s={lat:n.coords.latitude,lng:n.coords.longitude};console.log("📍 Device Coordinates:",s),r(s)},n=>{console.error("❌ Geolocation error:",n.message),t(n)})})}async function Lc(){const r="https://worldairportsdata.s3.eu-central-1.amazonaws.com/world_airports_clean3.json";try{const t=await fetch(r);if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);const s=(await t.json()).map(a=>({type:a.type,name:a.name,latitude_deg:a.latitude_deg,longitude_deg:a.longitude_deg,elevation_ft:a.elevation_ft,continent:a.continent,country_name:a.country_name,iso_country:a.iso_country,region_name:a.region_name,iso_region:a.iso_region,municipality:a.municipality,icao_code:a.icao_code,iata_code:a.iata_code,home_link:a.home_link,wikipedia_link:a.wikipedia_link}));return console.log(s),s}catch(t){return console.error("Error fetching airport data:",t),[]}}async function PM(r,t){const s=`https://aviation-edge.com/v2/public/nearby?key=b4ab65-0a1460&lat=${r}&lng=${t}&distance=200`;try{const[a,o]=await Promise.all([fetch(s),Lc()]);if(!a.ok)throw new Error(`HTTP error! Status: ${a.status}`);const c=await a.json();if(!Array.isArray(c))throw new Error("Invalid API response format");const h=c.map(m=>{const _=o.find(y=>y.iata_code===m.codeIataAirport);return _?{type:_.type,name:_.name,latitude_deg:_.latitude_deg,longitude_deg:_.longitude_deg,elevation_ft:_.elevation_ft,continent:_.continent,country_name:_.country_name,iso_country:_.iso_country,region_name:_.region_name,iso_region:_.iso_region,municipality:_.municipality,icao_code:_.icao_code,iata_code:_.iata_code,home_link:_.home_link,wikipedia_link:_.wikipedia_link,distanceToAirport:m.distance}:null}).filter(m=>m!==null);if(h.length===0)return console.warn("No matching airports found between nearby and world datasets"),null;h.sort((m,_)=>m.distanceToAirport-_.distanceToAirport);const d=h[0];return console.log("Closest matched airport:",d),d}catch(a){return console.error("Error fetching and processing nearby airports:",a),null}}async function VM(r){const n=`https://aviation-edge.com/v2/public/timetable?key=b4ab65-0a1460&iataCode=${r}&type=arrival`;try{const s=await Lc(),a=await fetch(n);if(!a.ok)throw new Error(`HTTP error! Status: ${a.status}`);const o=await a.json();if(!Array.isArray(o))throw new Error("Invalid API response format");let c=o.filter(h=>h.codeshared===null).map(h=>({airlineIataCode:h.airline.iataCode,airlineIcaoCode:h.airline.icaoCode,airlineName:h.airline.name,flightIataNumber:h.flight.iataNumber,flightIcaoNumber:h.flight.icaoNumber,arrivalAirportIataCode:h.arrival.iataCode,arrivalAirportIcaoCode:h.arrival.icaoCode,arrivalScheduledTime:h.arrival.scheduledTime,arrivalEstimatedTime:h.arrival.estimatedTime,arrivalDelay:h.arrival.delay??null,arrivalTerminal:h.arrival.terminal??null,arrivalGate:h.arrival.gate??null,departureAirportIataCode:h.departure.iataCode,departureAirportIcaoCode:h.departure.icaoCode,departureScheduledTime:h.departure.scheduledTime,departureEstimatedTime:h.departure.estimatedTime,departureDelay:h.departure.delay??null,departureTerminal:h.departure.terminal??null,departureGate:h.departure.gate??null,flightStatus:h.status,typeDepartureArrival:h.type}));return c=c.map(h=>{const d=s.find(_=>_.iata_code===h.arrivalAirportIataCode),m=s.find(_=>_.iata_code===h.departureAirportIataCode);return{...h,arrivalAirportType:d?.type||null,arrivalAirportLatitude:d?.latitude_deg||null,arrivalAirportLongitude:d?.longitude_deg||null,arrivalAirportName:d?.name||null,arrivalAirportContinent:d?.continent||null,arrivalAirportCountry:d?.country_name||null,arrivalAirportCountryCode:d?.iso_country||null,arrivalAirportMunicipality:d?.municipality||null,departureAirportType:m?.type||null,departureAirportLatitude:m?.latitude_deg||null,departureAirportLongitude:m?.longitude_deg||null,departureAirportName:m?.name||null,departureAirportContinent:m?.continent||null,departureAirportCountry:m?.country_name||null,departureAirportCountryCode:m?.iso_country||null,departureAirportMunicipality:m?.municipality||null}}),console.log(`Non-codeshare arrivals from ${r}:`,c),c}catch(s){return console.error(`Error fetching non-codeshare arrivals for ${r}:`,s),[]}}async function ZM(r){const n=`https://aviation-edge.com/v2/public/timetable?key=b4ab65-0a1460&iataCode=${r}&type=departure`;try{const s=await Lc(),a=await fetch(n);if(!a.ok)throw new Error(`HTTP error! Status: ${a.status}`);const o=await a.json();if(!Array.isArray(o))throw new Error("Invalid API response format");let c=o.filter(h=>h.codeshared===null).map(h=>({airlineIataCode:h.airline.iataCode,airlineIcaoCode:h.airline.icaoCode,airlineName:h.airline.name,flightIataNumber:h.flight.iataNumber,flightIcaoNumber:h.flight.icaoNumber,arrivalAirportIataCode:h.arrival.iataCode,arrivalAirportIcaoCode:h.arrival.icaoCode,arrivalScheduledTime:h.arrival.scheduledTime,arrivalEstimatedTime:h.arrival.estimatedTime,arrivalDelay:h.arrival.delay??null,arrivalTerminal:h.arrival.terminal??null,arrivalGate:h.arrival.gate??null,departureAirportIataCode:h.departure.iataCode,departureAirportIcaoCode:h.departure.icaoCode,departureScheduledTime:h.departure.scheduledTime,departureEstimatedTime:h.departure.estimatedTime,departureDelay:h.departure.delay??null,departureTerminal:h.departure.terminal??null,departureGate:h.departure.gate??null,flightStatus:h.status,typeDepartureArrival:h.type}));return c=c.map(h=>{const d=s.find(_=>_.iata_code===h.arrivalAirportIataCode),m=s.find(_=>_.iata_code===h.departureAirportIataCode);return{...h,arrivalAirportLatitude:d?.latitude_deg||null,arrivalAirportLongitude:d?.longitude_deg||null,arrivalAirportName:d?.name||null,arrivalAirportContinent:d?.continent||null,arrivalAirportCountry:d?.country_name||null,arrivalAirportCountryCode:d?.iso_country||null,arrivalAirportMunicipality:d?.municipality||null,departureAirportLatitude:m?.latitude_deg||null,departureAirportLongitude:m?.longitude_deg||null,departureAirportName:m?.name||null,departureAirportContinent:m?.continent||null,departureAirportCountry:m?.country_name||null,departureAirportCountryCode:m?.iso_country||null,departureAirportMunicipality:m?.municipality||null}}),console.log(`Non-codeshare departures from ${r}:`,c),c}catch(s){return console.error(`Error fetching non-codeshare departures for ${r}:`,s),[]}}async function xp(r,t){try{if(!r||!t)throw new Error("Latitude and longitude are required");const n="8656aac75f1b4bfeae112f0a0df5c685",s=`https://api.geoapify.com/v1/geocode/reverse?lat=${r}&lon=${t}&format=json&apiKey=${n}`,a=await fetch(s);if(!a.ok)throw new Error(`HTTP error! Status: ${a.status}`);const c=(await a.json()).results[0],h={city:c.city||c.housenumber||"Unknown city",country:c.country||"Unknown country",timezoneName:c.timezone?.name||"Unknown timezone",offsetDST:c.timezone?.offset_DST||"Unknown offset"};return console.log(h),h}catch(n){return console.error("Error fetching Geoapify data:",n),null}}const KM=()=>{const[r,t]=B.useState(!1),[n,s]=B.useState(!1),[a,o]=B.useState({}),[c,h]=B.useState(null),[d,m]=B.useState(null),[_,y]=B.useState(!0),[v,S]=B.useState(null),[T,b]=B.useState([]),[C,A]=B.useState([]),[L,z]=B.useState([]),[N,M]=B.useState(null),[Y,W]=B.useState(null),[q,et]=B.useState(null);B.useEffect(()=>{(async()=>{try{y(!0);const H=await HM();W(H);const st=await Lc();z(st);let tt=q;if(tt||(tt=await PM(H.lat,H.lng)),tt){h(tt);const at=await xp(tt.latitude_deg,tt.longitude_deg);m(at);const O=await xp(H.lat,H.lng);M(O);const P=await VM(tt.iata_code);b(P);const Z=await ZM(tt.iata_code);A(Z)}else S("No airport found nearby")}catch(H){console.error("Error fetching data:",H),S(H.message)}finally{y(!1)}})()},[q]);const it=lt=>{o(lt),lt.airport&&et(lt.airport),console.log("Applied filters:",lt)};return x.jsxs("div",{className:ae.mainWindow,children:[x.jsxs("div",{className:ae.header,children:[x.jsx("button",{className:ae.filterButton,onClick:()=>t(!0),"aria-label":"Show filters",children:x.jsx(xA,{className:ae.filterIcon})}),x.jsx("h1",{className:ae.title,onClick:()=>s(!0),style:{cursor:"pointer"},children:_?x.jsx("span",{children:"Loading airport information..."}):v?x.jsxs("span",{children:["Error: ",v]}):c?x.jsx("div",{className:ae.titleContent,children:x.jsxs("div",{className:ae.titleText,children:[x.jsx("span",{className:ae.airportName,children:`${c.name} (${c.iata_code})`}),x.jsxs("div",{className:ae.countryRow,children:[x.jsx("span",{className:ae.countryName,children:`${c.region_name}, ${c.country_name}`}),c.iso_country&&x.jsx("img",{src:`https://flagsapi.com/${c.iso_country}/shiny/64.png`,alt:`Flag of ${c.country_name}`,className:ae.flag})]})]})}):x.jsx("span",{children:"No airport information available"})})]}),x.jsx(yo,{fluid:!0,className:ae.container,children:x.jsxs($n,{className:ae.row1,children:[x.jsxs(Pe,{lg:6,className:ae.leftColumn,children:[x.jsx($n,{className:ae.arrivalMapRow,children:x.jsxs(Pe,{children:[x.jsx("h4",{children:"Arrivals"}),x.jsx("div",{className:ae.mapContainer,children:x.jsx(Hb,{data:T})})]})}),x.jsx($n,{className:ae.arrivalListRow,children:x.jsx(Pe,{children:x.jsx("div",{className:ae.listContainer,children:x.jsx(tA,{filters:a,data:T})})})})]}),x.jsxs(Pe,{lg:6,className:ae.rightColumn,children:[x.jsx($n,{className:ae.departureMapRow,children:x.jsxs(Pe,{children:[x.jsx("h4",{children:"Departures"}),x.jsx("div",{className:ae.mapContainer,children:x.jsx(Bb,{data:C})})]})}),x.jsx($n,{className:ae.departureListRow,children:x.jsx(Pe,{children:x.jsx("div",{className:ae.listContainer,children:x.jsx(dA,{filters:a,data:C})})})})]})]})}),x.jsx(BA,{show:r,onHide:()=>t(!1),airports:L,onApplyFilters:it}),x.jsx(YM,{show:n,onHide:()=>s(!1),airportInfo:c,locationDetails:d,currentLocationDetails:N,currentGPS:Y})]})};function qM(){return x.jsx("div",{children:x.jsx(KM,{})})}Ex.createRoot(document.getElementById("root")).render(x.jsx(B.StrictMode,{children:x.jsx(qM,{})}));
